(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[417],{20829:function(e,t,n){"use strict";n.r(t),t.default={dataType:"chinaAreaData",cascadeOptions:[],showConfig:[],readonlyConfig:[]}},46998:function(e,t,n){"use strict";n.r(t),t.default={selectMode:"single",dataSource:"custom",options:[{isDefault:!1,value:"1",label:"选项一"},{isDefault:!1,value:"2",label:"选项二"},{isDefault:!1,value:"3",label:"选项三"}],checkAll:!1,minLimit:"",maxLimit:"",relateOptionField:"",relateAvailableOptions:{},showConfig:[],readonlyConfig:[]}},31255:function(e,t,n){"use strict";n.r(t),t.default={}},27577:function(e,t,n){"use strict";n.r(t),t.default={format:"YYYY-MM-DD HH:mm:ss",isRange:!1,isSelect:!1,min:{type:"null",value:""},max:{type:"null",value:""},defaultValue:"",timeStep:"",showConfig:[],readonlyConfig:[]}},5163:function(e,t,n){"use strict";n.r(t),t.default={fileSizeLimit:{value:null,unit:"MB"},fileType:"",uploadConfig:{action:"",headers:[],data:[],nameFieldPath:"",urlFieldPath:""},actionConfig:{remove:"",success:"",error:"",preview:""},minLimit:null,maxLimit:null,showConfig:[],readonlyConfig:[]}},50735:function(e,t,n){"use strict";n.r(t),t.default={height:50,width:50,fileSizeLimit:{value:null,unit:"MB"},uploadConfig:{action:"",headers:[],data:[],nameFieldPath:"",urlFieldPath:""},actionConfig:{remove:"",success:"",error:""},minLimit:null,maxLimit:null,showConfig:[],readonlyConfig:[]}},22267:function(e,t,n){"use strict";n.r(t),n.d(t,{DesignerComponent:function(){return i},DesignerLayout:function(){return u}});n(95094),n(43105),n(34769);var a=n(55164);function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=o((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(r(this,e),this.id=o||(0,a.hu)(),this.title=t,this.type=l,this.fieldPath=t,this.required=!1,this.placeholder="",this.extras={},l)try{var i=n(64985)("./".concat(l)).default;this.extras=(0,a.Xh)(i),this.extras=Object.assign(this.extras,{showLinkage:!1,linkageOn:!1,dataLinkage:{}})}catch(e){}})),u=o((function e(t,l,o){if(r(this,e),this.id=o||(0,a.hu)(),this.type=l||"",this.children=[],t&&(this.title=t),l)try{var i=n(64985)("./".concat(l)).default;switch(Object.keys(i).length&&(this.extras=(0,a.Xh)(i)),l){case"row":if(this.extras.size)for(var u=0;u<this.extras.size;u+=1)this.children.push(new e("","column"));break;case"tabs":this.children.length||this.children.push(new e("选项卡1","tabPanel"))}}catch(e){}}))},22857:function(e,t,n){"use strict";n.r(t),t.default={validType:"int",defaultValue:"",min:null,max:null,step:1,precision:0,showText:!1,showConfig:[],readonlyConfig:[]}},53205:function(e,t,n){"use strict";n.r(t),t.default={selectMode:"radio",options:[{isDefault:!0,value:"1",label:"选项一",color:null},{isDefault:!1,value:"2",label:"选项二",color:null},{isDefault:!1,value:"3",label:"选项三",color:null}],relateOptionField:"",relateAvailableOptions:{},showConfig:[],readonlyConfig:[]}},28231:function(e,t,n){"use strict";n.r(t),t.default={size:2,percentage:[1,1]}},16938:function(e,t,n){"use strict";n.r(t),t.default={selectMode:"single",dataSource:"custom",options:[{isDefault:!1,value:"1",label:"选项一"},{isDefault:!1,value:"2",label:"选项二"},{isDefault:!1,value:"3",label:"选项三"}],multiple:!1,minLimit:"",maxLimit:"",relateOptionField:"",relateAvailableOptions:{},showConfig:[],readonlyConfig:[]}},86021:function(e,t,n){"use strict";n.r(t),t.default={}},10816:function(e,t,n){"use strict";n.r(t),t.default={}},38882:function(e,t,n){"use strict";n.r(t),t.default={validType:"string",defaultValue:"",minLength:null,maxLength:null,showConfig:[],readonlyConfig:[]}},5945:function(e,t,n){"use strict";n.r(t),t.default={defaultValue:"",minLength:null,maxLength:null,rows:2,autosize:!1,resize:"none",showWordLimit:!1,showConfig:[],readonlyConfig:[]}},4600:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(27875),l=(0,a.Uk)("自定义"),o=(0,a.Uk)("中国行政区域");n(58188),n(1939),n(68995),n(74083),n(99805);var r={name:"CascaderAttr",extends:n(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,t=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(n){if(n.id===e.data.extras.relateOptionField)return t=n.extras.options||[],!1})),t}},watch:{},mounted:function(){},methods:{addOption:function(e){var t=1,n=[];for(this.data.extras.options.forEach((function(e){n.push(parseInt(e.value))}));-1!==n.indexOf(t);)t++;var a={isDefault:!1,value:"".concat(t),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,a):this.data.extras.options.push(a)},deleteOption:function(e){this.data.extras.options.splice(e,1)},changeDefaultOption:function(e){this.data.extras.options.forEach((function(t){t.value!==e.value&&(t.isDefault=!1)}))}}};var i=(0,n(94407).Z)(r,[["render",function(e,t,n,r,i,u){var d=(0,a.up)("base-attr"),s=(0,a.up)("el-tab-pane"),c=(0,a.up)("el-radio"),m=(0,a.up)("el-radio-group"),p=(0,a.up)("el-form-item"),f=(0,a.up)("showConfig"),h=(0,a.up)("el-tabs"),g=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(g,{ref:"form",model:e.data.extras,rules:i.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{modelValue:e.tabsActives,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(s,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{label:"数据类型：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{modelValue:e.data.extras.dataType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.dataType=t}),disabled:""},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{label:"custom"},{default:(0,a.w5)((function(){return[l]})),_:1}),(0,a.Wm)(c,{label:"chinaAreaData"},{default:(0,a.w5)((function(){return[o]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),(0,a.Wm)(s,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(s,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},59149:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});n(74083);var a=n(27875),l=n(50349),o={key:0,class:"custom-table mb-5"},r=(0,a._)("span",null,null,-1),i=(0,a._)("span",null,"数量限制：",-1),u=(0,a._)("i",{class:"iconfont icon-xiangqing"},null,-1),d={key:1,class:"text-center"},s={key:3,class:"text-right",style:{color:"#666"}},c={key:2,class:"custom-table mb-5"};n(58188),n(1939),n(68995),n(99805);var m={name:"CheckBoxAttr",extends:n(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,t=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(n){if(n.id===e.data.extras.relateOptionField)return t=n.extras.options||[],!1})),t}},watch:{"data.id":function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.data.placeholder||(this.data.placeholder="请选择")},addOption:function(e){var t=1,n=[];for(this.data.extras.options.forEach((function(e){n.push(parseInt(e.value))}));-1!==n.indexOf(t);)t++;var a={isDefault:!1,value:"".concat(t),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,a):this.data.extras.options.push(a)},deleteOption:function(e){this.data.extras.options.splice(e,1)},handleDataSourceChange:function(e){"api"===e?(this.data.extras.options=[],this.data.extras.relateOptionField="",this.data.extras.relateAvailableOptions={}):this.data.extras.options=[{isDefault:!1,value:"1",label:"选项一"},{isDefault:!1,value:"2",label:"选项二"},{isDefault:!1,value:"3",label:"选项三"}]}}};var p=(0,n(94407).Z)(m,[["render",function(e,t,n,m,p,f){var h=(0,a.up)("base-attr"),g=(0,a.up)("el-tab-pane"),v=(0,a.up)("el-option"),b=(0,a.up)("el-select"),w=(0,a.up)("el-form-item"),x=(0,a.up)("el-checkbox"),y=(0,a.up)("el-table-column"),_=(0,a.up)("el-input"),V=(0,a.up)("delete"),W=(0,a.up)("el-icon"),k=(0,a.up)("el-table"),C=(0,a.up)("el-switch"),D=(0,a.up)("el-popover"),L=(0,a.up)("row-split"),U=(0,a.up)("showConfig"),O=(0,a.up)("el-tabs"),M=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(M,{ref:"form",model:e.data.extras,rules:p.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{modelValue:e.tabsActives,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(g,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"数据源：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.data.extras.dataSource,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.dataSource=t}),clearable:"",onChange:f.handleDataSourceChange},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{label:"配置",value:"custom"}),(0,a.Wm)(v,{label:"接口",value:"api"})]})),_:1},8,["modelValue","onChange"])]})),_:1}),"custom"===e.data.extras.dataSource?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(k,{"row-key":"value",prop:"options",data:e.data.extras.options,"max-height":506},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{"header-align":"center",align:"center",label:"默认值",width:"60px"},{default:(0,a.w5)((function(e){var t=e.row,n=e.$index;return[(0,a.Wm)(x,{"data-mark":"选择框_"+n,modelValue:t.isDefault,"onUpdate:modelValue":function(e){return t.isDefault=e},label:!0,size:"small"},{default:(0,a.w5)((function(){return[r]})),_:2},1032,["data-mark","modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(y,{"header-align":"center",align:"center",label:"选项值",width:"60px"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(_,{class:"w_100",prop:"value",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(y,{label:"选项名称"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(_,{class:"w_100",prop:"selectName",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(y,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(W,{class:"custom-table__icon",onClick:function(e){return f.deleteOption(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(V)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{"data-mark":"添加选项按钮",class:"custom-table__button",onClick:t[1]||(t[1]=function(e){return f.addOption("")})}," +添加选项 ")])):(0,a.kq)("",!0),(0,a.Wm)(w,{label:"支持全选"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{modelValue:e.data.extras.checkAll,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.checkAll=t})},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,null,{label:(0,a.w5)((function(){return[i,(0,a.Wm)(D,{placement:"top-start",trigger:"hover",content:"为空代表单选"},{reference:(0,a.w5)((function(){return[u]})),_:1})]})),default:(0,a.w5)((function(){return[(0,a.Wm)(L,{colWidths:["calc((100% - 50px) / 2)","10px","calc((100% - 50px) / 2)","40px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(_,{key:0,class:"w_100",modelValue:e.data.extras.minLimit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.minLimit=t}),modelModifiers:{number:!0},type:"number",onkeypress:"return /^\\d$/.test(event.key)",placeholder:"最少"},null,8,["modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",d,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(_,{key:2,class:"w_100",modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.maxLimit=t}),modelModifiers:{number:!0},type:"number",onkeypress:"return /^\\d$/.test(event.key)",placeholder:"最多"},null,8,["modelValue"])):(0,a.kq)("",!0),3===n.data.index?((0,a.wg)(),(0,a.iD)("div",s,"个选项")):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(w,{label:"关联选项：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.data.extras.relateOptionField,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.relateOptionField=t}),class:"w_100",filterable:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.componentList,(function(t){return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.relateOptionTypes.indexOf(t.type)>=0&&t.id!==e.data.id?((0,a.wg)(),(0,a.j4)(v,{"data-mark":"关联选项字段",label:t.title,value:t.id,key:t.id},null,8,["label","value"])):(0,a.kq)("",!0)],64)})),256))]})),_:1},8,["modelValue"])]})),_:1}),"custom"===e.data.extras.dataSource?((0,a.wg)(),(0,a.j4)(w,{key:1,label:"关联可选项："})):(0,a.kq)("",!0),"custom"===e.data.extras.dataSource?((0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(k,{data:f.relateFieldOptions,"max-height":506},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{"header-align":"center",align:"center",label:"关联选项",width:"100px"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Uk)((0,l.toDisplayString)(t.label),1)]})),_:1}),(0,a.Wm)(y,{"header-align":"center",align:"center",label:"本组件可选项"},{default:(0,a.w5)((function(t){var n=t.row;return[((0,a.wg)(),(0,a.j4)(b,{class:"w_100",modelValue:e.data.extras.relateAvailableOptions[n.value],"onUpdate:modelValue":function(t){return e.data.extras.relateAvailableOptions[n.value]=t},key:n.label,appendToBody:"",multiple:"",size:"small"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.extras.options,(function(e){return(0,a.wg)(),(0,a.j4)(v,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]))]})),_:1})]})),_:1},8,["data"])])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(g,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(g,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},30621:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(27875);n(58188),n(1939),n(39529),n(31235);var l=n(56282),o=n(43814),r=n(44792),i=n(87957),u=(n(13987),n(325)),d={name:"baseComponent",components:{baseAttr:l.default,rowSplit:o.Z,showConfig:i.Z,configButton:r.Z},props:{data:{default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},inputListByInputType:{type:Object,default:function(){return{}}}},data:function(){return{usageConditionDialog:null,tabsActives:"base",collapseActives:["base","extras"],relateOptionTypes:["radio","checkBox","select"]}},computed:{fieldId:function(){return this.data.id},filterComponentList:function(){var e=this,t=[];return Array.isArray(this.componentList)&&this.componentList.forEach((function(n){n.id===e.data.id||u.LAYOUT_TYPES.includes(n.type)||t.push(n)})),t}},watch:{},methods:{openUsageConditionDialog:function(e){}}};var s=(0,n(94407).Z)(d,[["render",function(e,t,n,l,o,r){return(0,a.wg)(),(0,a.iD)("div")}]])},56282:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});n(39529);var a=n(27875),l={class:"base-config"},o=(0,a._)("span",null,"字段路径：",-1),r=(0,a._)("i",{class:"iconfont icon-xiangqing"},null,-1),i=(0,a._)("span",{class:"font-color-heavy fz-12"},"必填",-1);var u={name:"baseAttr",mixins:[n(92041).Z],props:{data:{default:function(){return{}}},isShowOnly:{type:Boolean,default:function(){return!1}},isNeedRequired:{type:Boolean,default:function(){return!0}}},data:function(){var e=this;return{dataObjectChange:!1,rules:{title:[{required:!0,trigger:"blur",message:"请填写字段标题"},{validator:function(t,n,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l=e.data||l,(n=n||l.title).length>200?a(new Error("字段标题长度不得超过200个字符"),"warning"):a()}}],fieldPath:[{required:!0,trigger:"blur",message:"请填写字段路径"},{validator:function(t,n,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l=e.data||l,(n=n||l.fieldPath).length>64?a(new Error("字段路径长度不得超过64个字符"),"warning"):a()}}]}}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),p=(0,a.up)("el-popover"),f=(0,a.up)("el-checkbox"),h=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(h,{model:n.data,rules:d.rules,"label-width":"90px",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"标题：",prop:"title"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{"data-mark":"字段标题输入框",modelValue:n.data.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.data.title=e}),class:"w_100",maxlength:"200"},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(m,{prop:"fieldPath"},{label:(0,a.w5)((function(){return[o,(0,a.Wm)(p,{placement:"top-start",trigger:"hover"},{reference:(0,a.w5)((function(){return[r]})),_:1})]})),default:(0,a.w5)((function(){return[(0,a.Wm)(c,{"data-mark":"字段路径输入框",modelValue:n.data.fieldPath,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.data.fieldPath=e}),class:"w_100",maxlength:"64",disabled:n.data.isSave},null,8,["modelValue","disabled"])]})),_:1}),(0,a.Wm)(m,{prop:"placeholder",label:"提示信息："},{default:(0,a.w5)((function(){return[["textarea","editor"].includes(n.data.type)?((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:n.data.placeholder,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.data.placeholder=e}),type:"textarea",class:"w_100"},null,8,["modelValue"])):((0,a.wg)(),(0,a.j4)(c,{key:1,modelValue:n.data.placeholder,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.data.placeholder=e}),class:"w_100",maxlength:"32"},null,8,["modelValue"]))]})),_:1}),"generateCode"!==n.data.type&&n.isNeedRequired?((0,a.wg)(),(0,a.j4)(m,{key:0,label:"是否必填："},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{modelValue:n.data.required,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.data.required=e}),data:!0},{default:(0,a.w5)((function(){return[i]})),_:1},8,["modelValue"])]})),_:1})):(0,a.kq)("",!0),(0,a.WI)(e.$slots,"inside-form")]})),_:3},8,["model","rules"]),(0,a.WI)(e.$slots,"outside-form")])}]])},44245:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(27875),l=(0,a._)("span",{class:"d_text"},"分钟",-1),o=(0,a._)("span",{class:"d_text"},"天",-1),r=(0,a._)("span",{class:"d_text"},"天",-1);n(58188),n(1939),n(95342),n(68995),n(18178);var i=n(30621),u=n(55164),d={name:"DateTimeAttr",extends:i.default,data:function(){return{lengthDisabeld:!1,valueTypeOptions:[{label:"任意",value:"custom"},{label:"固定",value:"fixed"}],formatOptions:u.a9.DATETIME_FORMAT_OPTIONS,timeStep:"",rules:{}}},computed:{fieldType:function(){var e=this.data.extras,t=e.format,n=e.timeStep,a={component:"el-date-picker",props:{type:"datetime",format:t}};switch(t){case"YYYY-MM-DD HH:mm:ss":case"YYYY-MM-DD HH:mm":a.component="el-date-picker",a.props.type="datetime",a.props.valueFormat=t;break;case"YYYY-MM-DD":a.component="el-date-picker",a.props.type="date",a.props.valueFormat=t;break;case"YYYY-MM":a.component="el-date-picker",a.props.type="month",a.props.valueFormat=t;break;case"YYYY":a.component="el-date-picker",a.props.type="year",a.props.valueFormat=t;break;case"HH:mm:ss":a.component="el-time-picker",a.props={};break;case"HH:mm":a.component="el-time-select",a.props={start:"00:00",end:"23:59"},n&&"0"!==n&&(a.props.step=n)}return a},relateComponentList:function(){var e=this,t=[];return Array.isArray(this.componentList)&&this.componentList.forEach((function(n){n.id!==e.data.id&&n.type===e.data.type&&t.push(n)})),t},dateRangeOptions:function(){var e=[{label:"无",value:"null"},{label:"固定",value:"fixed"},{label:"填写时",value:"now"},{label:"填写时前",value:"before"},{label:"填写时后",value:"after"},{label:"控件",value:"field"}];return"HH:mm:ss"===this.data.extras.format||"HH:mm"===this.data.extras.format?e.filter((function(e){return"before"!==e.value&&"after"!==e.value})):e},enableRange:function(){return!("YYYY"===this.data.extras.format||"HH:mm"===this.data.extras.format&&this.data.extras.isSelect)}},methods:{getTimeStep:function(){if(this.timeStep&&"0"!==this.timeStep){var e=parseInt(this.timeStep),t=parseInt(e/60),n=e%60;return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)}return"00:01"},handleStepInputBlur:function(){this.data.extras.timeStep=this.getTimeStep()},handleFormatChange:function(){this.data.extras.isRange=!1,this.data.extras.isSelect=!1,this.data.extras.min={type:"null",value:""},this.data.extras.max={type:"null",value:""}}}};var s=(0,n(94407).Z)(d,[["render",function(e,t,n,i,u,d){var s=(0,a.up)("base-attr"),c=(0,a.up)("el-tab-pane"),m=(0,a.up)("el-option"),p=(0,a.up)("el-select"),f=(0,a.up)("el-form-item"),h=(0,a.up)("el-switch"),g=(0,a.up)("el-input"),v=(0,a.up)("showConfig"),b=(0,a.up)("el-tabs"),w=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(w,{ref:"form",model:e.data.extras,rules:u.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.tabsActives,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(c,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"格式",prop:"format",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{modelValue:e.data.extras.format,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.format=t}),onChange:d.handleFormatChange},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.formatOptions,(function(e){return(0,a.wg)(),(0,a.j4)(m,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),"HH:mm"===e.data.extras.format?((0,a.wg)(),(0,a.j4)(f,{key:0,label:"下拉选择："},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{modelValue:e.data.extras.isSelect,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.isSelect=t})},null,8,["modelValue"])]})),_:1})):(0,a.kq)("",!0),d.enableRange?((0,a.wg)(),(0,a.j4)(f,{key:1,label:"范围："},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{modelValue:e.data.extras.isRange,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.isRange=t})},null,8,["modelValue"])]})),_:1})):(0,a.kq)("",!0),"el-time-select"===d.fieldType.component&&e.data.extras.isSelect?((0,a.wg)(),(0,a.j4)(f,{key:2,label:"时间间隔",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{class:"w-24 mr-2",modelValue:u.timeStep,"onUpdate:modelValue":t[3]||(t[3]=function(e){return u.timeStep=e}),onBlur:d.handleStepInputBlur},null,8,["modelValue","onBlur"]),l]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(f,{label:"最早",prop:"type",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{class:"mr-2",modelValue:e.data.extras.min.type,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.min.type=t})},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.dateRangeOptions,(function(e){return(0,a.wg)(),(0,a.j4)(m,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),"fixed"===e.data.extras.min.type?((0,a.wg)(),(0,a.j4)((0,a.LL)(d.fieldType.component),(0,a.dG)({key:0,modelValue:e.data.extras.min.value,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.min.value=t})},d.fieldType.props),null,16,["modelValue"])):"null"!==e.data.extras.min.type&&"now"!==e.data.extras.min.type&&"field"!==e.data.extras.min.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(g,{class:"mr-2 w-10",modelValue:e.data.extras.min.value,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.extras.min.value=t})},null,8,["modelValue"]),o],64)):"field"===e.data.extras.min.type?((0,a.wg)(),(0,a.j4)(p,{key:2,modelValue:e.data.extras.min.value,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.data.extras.min.value=t}),size:"small",filterable:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.relateComponentList,(function(e){return(0,a.wg)(),(0,a.j4)(m,{"data-mark":"关联选项字段",label:e.title,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(f,{label:"最晚",prop:"type",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{class:"mr-2",modelValue:e.data.extras.max.type,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.data.extras.max.type=t})},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.dateRangeOptions,(function(e){return(0,a.wg)(),(0,a.j4)(m,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),"fixed"===e.data.extras.max.type?((0,a.wg)(),(0,a.j4)((0,a.LL)(d.fieldType.component),(0,a.dG)({key:0,modelValue:e.data.extras.max.value,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.data.extras.max.value=t})},d.fieldType.props),null,16,["modelValue"])):"null"!==e.data.extras.max.type&&"now"!==e.data.extras.max.type&&"field"!==e.data.extras.max.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(g,{class:"mr-2 w-10",modelValue:e.data.extras.max.value,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.data.extras.max.value=t})},null,8,["modelValue"]),r],64)):"field"===e.data.extras.max.type?((0,a.wg)(),(0,a.j4)(p,{key:2,modelValue:e.data.extras.max.value,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.data.extras.max.value=t}),size:"small",filterable:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.relateComponentList,(function(e){return(0,a.wg)(),(0,a.j4)(m,{"data-mark":"关联选项字段",label:e.title,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(f,{label:"默认值",class:"mb_2"},{default:(0,a.w5)((function(){return[((0,a.wg)(),(0,a.j4)((0,a.LL)(d.fieldType.component),(0,a.dG)({modelValue:e.data.extras.defaultValue,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.data.extras.defaultValue=t})},d.fieldType.props),null,16,["modelValue"]))]})),_:1})]})),_:1}),(0,a.Wm)(c,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(c,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},22351:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(27875),l={key:1,class:"w_100",style:{height:"1px"}},o={key:1,class:"text-center"},r=(0,a.Uk)("全部"),i=(0,a.Uk)("自定义"),u={class:"custom-table mb-5 w-full"},d={class:"custom-table mb-5 w-full"};n(99805);var s={name:"ImageUploadAttr",extends:n(30621).default,data:function(){return{fileType:"all",rules:{}}},computed:{},watch:{},mounted:function(){},methods:{addHeader:function(){this.data.extras.uploadConfig.headers.push({key:"",type:"const",value:""})},deleteHeader:function(e){this.data.extras.uploadConfig.headers.splice(e,1)},addData:function(){this.data.extras.uploadConfig.data.push({key:"",type:"const",value:""})},deleteData:function(e){this.data.extras.uploadConfig.data.splice(e,1)}}};const c=(0,n(94407).Z)(s,[["render",function(e,t,n,s,c,m){var p=(0,a.up)("base-attr"),f=(0,a.up)("el-tab-pane"),h=(0,a.up)("el-input-number"),g=(0,a.up)("el-option"),v=(0,a.up)("el-select"),b=(0,a.up)("row-split"),w=(0,a.up)("el-form-item"),x=(0,a.up)("el-radio"),y=(0,a.up)("QuestionFilled"),_=(0,a.up)("el-icon"),V=(0,a.up)("el-tooltip"),W=(0,a.up)("el-radio-group"),k=(0,a.up)("el-input"),C=(0,a.up)("el-table-column"),D=(0,a.up)("delete"),L=(0,a.up)("el-table"),U=(0,a.up)("showConfig"),O=(0,a.up)("el-tabs"),M=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(M,{ref:"form",model:e.data.extras,rules:c.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{modelValue:e.tabsActives,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(f,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"大小限制",prop:"fileSizeLimit"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{colWidths:["calc(100% - 70px)","10px","60px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(h,{key:0,modelValue:e.data.extras.fileSizeLimit.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.fileSizeLimit.value=t}),min:0},null,8,["modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",l)):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(v,{key:2,class:"w_100",modelValue:e.data.extras.fileSizeLimit.unit,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.fileSizeLimit.unit=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{label:"MB",value:"MB"}),(0,a.Wm)(g,{label:"KB",value:"KB"})]})),_:1},8,["modelValue"])):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(w,{label:"数量限制"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{colWidths:["calc((100% - 10px) / 2)","10px","calc((100% - 10px) / 2)"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(h,{key:0,modelValue:e.data.extras.minLimit,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.minLimit=t}),min:1,precision:0,controls:!1,placeholder:"最少"},null,8,["modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",o,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(h,{key:2,modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.maxLimit=t}),min:1,precision:0,controls:!1,placeholder:"最多"},null,8,["modelValue"])):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(w,{label:"文件类型"},{default:(0,a.w5)((function(){return[(0,a.Wm)(W,{modelValue:c.fileType,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.fileType=e})},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{label:"all"},{default:(0,a.w5)((function(){return[r]})),_:1}),(0,a.Wm)(x,{label:"custom"},{default:(0,a.w5)((function(){return[i,(0,a.Wm)(V,{class:"box-item",effect:"dark",content:"格式：doc;xls;ppt",placement:"top-start"},{default:(0,a.w5)((function(){return[(0,a.Wm)(_,{class:"atp-question-icon ml-2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(y)]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),"custom"===c.fileType?((0,a.wg)(),(0,a.j4)(w,{key:0,label:""},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w-80",modelValue:e.data.extras.fileType,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.fileType=t}),rows:4,type:"textarea"},null,8,["modelValue"])]})),_:1})):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(f,{label:"上传配置",name:"config"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"接口",prop:"action",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.uploadConfig.action,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.extras.uploadConfig.action=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"名称字段路径",prop:"success",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.uploadConfig.nameFieldPath,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.data.extras.uploadConfig.nameFieldPath=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"地址字段路径",prop:"urlFieldPath",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.uploadConfig.urlFieldPath,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.data.extras.uploadConfig.urlFieldPath=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"请求头",prop:"action",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a._)("div",u,[(0,a.Wm)(L,{prop:"headers",data:e.data.extras.uploadConfig.headers,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{label:"键"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(k,{class:"w-full",size:"small",prop:"label",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(C,{label:"值类型"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(v,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e}},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{label:"常量",value:"const"}),(0,a.Wm)(g,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(C,{label:"值"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(k,{class:"w-full",size:"small",prop:"key",modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(C,{"header-align":"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(_,{class:"custom-table__icon",onClick:function(e){return m.deleteHeader(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(D)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{class:"custom-table__button",onClick:t[9]||(t[9]=function(){return m.addHeader&&m.addHeader.apply(m,arguments)})},"+添加请求头")])]})),_:1}),(0,a.Wm)(w,{label:"附加数据",prop:"action",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a._)("div",d,[(0,a.Wm)(L,{prop:"data",data:e.data.extras.uploadConfig.data,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{label:"键"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(k,{class:"w-full",size:"small",prop:"label",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(C,{label:"值类型"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(v,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e}},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{label:"常量",value:"const"}),(0,a.Wm)(g,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(C,{label:"值"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(k,{class:"w-full",size:"small",prop:"key",modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(C,{"header-align":"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(_,{class:"custom-table__icon",onClick:function(e){return m.deleteHeader(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(D)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{class:"custom-table__button",onClick:t[10]||(t[10]=function(){return m.addData&&m.addData.apply(m,arguments)})},"+添加数据")])]})),_:1})]})),_:1}),(0,a.Wm)(f,{label:"事件配置",name:"event"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"上传成功",prop:"success",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.actionConfig.success,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.data.extras.actionConfig.success=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"上传失败",prop:"error",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.actionConfig.error,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.data.extras.actionConfig.error=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"文件删除",prop:"remove",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.actionConfig.remove,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.data.extras.actionConfig.remove=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"文件预览",prop:"preview",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"w_100",modelValue:e.data.extras.actionConfig.preview,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.data.extras.actionConfig.preview=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,a.Wm)(f,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(f,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]]);var m=c},862:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});n(26936);var a=n(27875);var l=n(55164),o={name:"FormAttr",props:{config:{type:Object,default:function(){return{}}}},data:function(){return{tabsActives:"base",formConfig:{}}},mounted:function(){this.$parent.$children=this,this.formConfig=(0,l.Xh)(this.config||{})},methods:{confirm:function(){this.$attrs.events.confirm(this.formConfig)},cancel:function(){this.$attrs.events.cancel()}}};var r=(0,n(94407).Z)(o,[["render",function(e,t,n,l,o,r){var i=(0,a.up)("el-input"),u=(0,a.up)("el-form-item"),d=(0,a.up)("el-tab-pane"),s=(0,a.up)("el-tabs"),c=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(c,{ref:"form",model:o.formConfig,rules:e.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{modelValue:o.tabsActives,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.tabsActives=e})},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(u,{label:"表单名称：",prop:"name"},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{modelValue:o.formConfig.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formConfig.name=e}),class:"w-1/2",maxlength:"200"},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(u,{label:"表单API：",prop:"api"},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{modelValue:o.formConfig.api,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.formConfig.api=e}),class:"w-1/2",maxlength:"200"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},64430:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(27875),l={key:1,class:"w_100",style:{height:"1px"}},o={key:1,class:"text-center"},r={class:"custom-table mb-5 w-full"},i={class:"custom-table mb-5 w-full"};n(99805);var u={name:"ImageUploadAttr",extends:n(30621).default,data:function(){return{lengthDisabeld:!1,rules:{}}},computed:{},watch:{},mounted:function(){},methods:{addHeader:function(){this.data.extras.uploadConfig.headers.push({key:"",type:"const",value:""})},deleteHeader:function(e){this.data.extras.uploadConfig.headers.splice(e,1)},addData:function(){this.data.extras.uploadConfig.data.push({key:"",type:"const",value:""})},deleteData:function(e){this.data.extras.uploadConfig.data.splice(e,1)}}};const d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("base-attr"),m=(0,a.up)("el-tab-pane"),p=(0,a.up)("el-input-number"),f=(0,a.up)("el-form-item"),h=(0,a.up)("el-option"),g=(0,a.up)("el-select"),v=(0,a.up)("row-split"),b=(0,a.up)("el-input"),w=(0,a.up)("el-table-column"),x=(0,a.up)("delete"),y=(0,a.up)("el-icon"),_=(0,a.up)("el-table"),V=(0,a.up)("showConfig"),W=(0,a.up)("el-tabs"),k=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(k,{ref:"form",model:e.data.extras,rules:d.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(W,{modelValue:e.tabsActives,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(m,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"显示宽度",prop:"width",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{modelValue:e.data.extras.width,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.width=t}),min:10},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"显示高度",prop:"height",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{modelValue:e.data.extras.height,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.height=t}),min:10},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"大小限制",prop:"fileSizeLimit"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{colWidths:["calc(100% - 70px)","10px","60px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(p,{key:0,modelValue:e.data.extras.fileSizeLimit.value,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.fileSizeLimit.value=t}),min:0},null,8,["modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",l)):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(g,{key:2,class:"w_100",modelValue:e.data.extras.fileSizeLimit.unit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.fileSizeLimit.unit=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{label:"MB",value:"MB"}),(0,a.Wm)(h,{label:"KB",value:"KB"})]})),_:1},8,["modelValue"])):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(f,{label:"数量限制"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{colWidths:["calc((100% - 10px) / 2)","10px","calc((100% - 10px) / 2)"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(p,{key:0,modelValue:e.data.extras.minLimit,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.minLimit=t}),min:1,precision:0,controls:!1,placeholder:"最少"},null,8,["modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",o,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(p,{key:2,modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.maxLimit=t}),min:1,precision:0,controls:!1,placeholder:"最多"},null,8,["modelValue"])):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1})]})),_:1}),(0,a.Wm)(m,{label:"上传配置",name:"config"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"接口",prop:"action",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"w_100",modelValue:e.data.extras.uploadConfig.action,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.extras.uploadConfig.action=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"名称字段路径",prop:"success",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"w_100",modelValue:e.data.extras.uploadConfig.nameFieldPath,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.data.extras.uploadConfig.nameFieldPath=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"地址字段路径",prop:"urlFieldPath",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"w_100",modelValue:e.data.extras.uploadConfig.urlFieldPath,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.data.extras.uploadConfig.urlFieldPath=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"请求头",prop:"action",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a._)("div",r,[(0,a.Wm)(_,{prop:"headers",data:e.data.extras.uploadConfig.headers,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"键"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(b,{class:"w-full",size:"small",prop:"label",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"值类型"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(g,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e}},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{label:"常量",value:"const"}),(0,a.Wm)(h,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"值"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(b,{class:"w-full",size:"small",prop:"key",modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(w,{"header-align":"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(y,{class:"custom-table__icon",onClick:function(e){return s.deleteHeader(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(x)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{class:"custom-table__button",onClick:t[9]||(t[9]=function(){return s.addHeader&&s.addHeader.apply(s,arguments)})},"+添加请求头")])]})),_:1}),(0,a.Wm)(f,{label:"附加数据",prop:"action",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a._)("div",i,[(0,a.Wm)(_,{prop:"data",data:e.data.extras.uploadConfig.data,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"键"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(b,{class:"w-full",size:"small",prop:"label",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"值类型"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(g,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e}},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{label:"常量",value:"const"}),(0,a.Wm)(h,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(w,{label:"值"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(b,{class:"w-full",size:"small",prop:"key",modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(w,{"header-align":"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(y,{class:"custom-table__icon",onClick:function(e){return s.deleteHeader(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(x)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{class:"custom-table__button",onClick:t[10]||(t[10]=function(){return s.addData&&s.addData.apply(s,arguments)})},"+添加数据")])]})),_:1})]})),_:1}),(0,a.Wm)(m,{label:"事件配置",name:"event"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"上传成功",prop:"success",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"w_100",modelValue:e.data.extras.actionConfig.success,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.data.extras.actionConfig.success=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"上传失败",prop:"error",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"w_100",modelValue:e.data.extras.actionConfig.error,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.data.extras.actionConfig.error=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"删除图片",prop:"remove",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"w_100",modelValue:e.data.extras.actionConfig.remove,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.data.extras.actionConfig.remove=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,a.Wm)(m,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(m,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]]);var s=d},25574:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(27875),l={class:"designer-attributes"};n(58188),n(1939),n(26936);var o=n(92041),r=n(55164),i={name:"DesignerAttrDialog",mixins:[o.Z],props:{component:{type:Object,default:function(){return null}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},data:function(){return{data:null}},computed:{attrTitle:function(){var e=this,t="表单";return this.menuItemList.forEach((function(n){e.component&&n.type===e.component.type&&(t=n.name,e.component.id&&(t+="(".concat(e.component.id,")")))})),t}},mounted:function(){this.$parent.$children=this,this.data=(0,r.Xh)(this.component||{})},methods:{confirm:function(){this.$attrs.events.confirm(this.data)},cancel:function(){this.$attrs.events.cancel()}}};var u=(0,n(94407).Z)(i,[["render",function(e,t,n,o,r,i){var u=(0,a.up)("component-attr-render");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(u,{data:r.data,componentList:n.componentList,componentMap:n.componentMap},null,8,["data","componentList","componentMap"])])}]])},27973:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});n(26936);var a=n(27875),l=n(50349),o={key:1,class:"text-center",style:{color:"#999"}},r={key:3,class:"text-right",style:{color:"#666"}};n(68995);var i={name:"TextBoxAttr",extends:n(30621).default,data:function(){var e=this;return{lengthDisabeld:!1,rules:{defaultValue:[{validator:function(t,n,a,l){if(l=e.data.extras?e.data.extras:l){if(n&&l.maxLength&&n.length>parseInt(l.maxLength))a("默认值最大长度不能超过".concat(l.maxLength));if(n&&l.minLength&&n.length<parseInt(l.minLength))a("默认值最小长度不能超过".concat(l.minLength));a()}else a()}}]},validTypeOptions:[{id:"int",name:"整数"},{id:"float",name:"小数"},{id:"money",name:"金额"},{id:"percent",name:"百分比"}]}},computed:{showDecimalPlace:function(){switch(this.data.extras.validType){case"float":case"percent":return!0;default:return!1}},stepPrecisionConfig:function(){return(this.showDecimalPlace||"money"===this.data.extras.validType)&&this.data.extras.precision||0}},watch:{},mounted:function(){!this.data.placeholder&&this.data.extras&&"string"===this.data.extras.validType&&(this.data.placeholder="请输入"),"phone"===this.data.extras.validType||"idcard"===this.data.extras.validType?this.lengthDisabeld=!0:this.lengthDisabeld=!1},methods:{handleValidTypeChange:function(e){switch(e){case"int":this.data.extras.precision=0;break;case"money":this.data.extras.precision=2}}}};var u=(0,n(94407).Z)(i,[["render",function(e,t,n,i,u,d){var s=(0,a.up)("base-attr"),c=(0,a.up)("el-tab-pane"),m=(0,a.up)("el-option"),p=(0,a.up)("el-select"),f=(0,a.up)("el-form-item"),h=(0,a.up)("el-switch"),g=(0,a.up)("el-input"),v=(0,a.up)("row-split"),b=(0,a.up)("el-input-number"),w=(0,a.up)("showConfig"),x=(0,a.up)("el-tabs"),y=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(y,{ref:"form",model:e.data.extras,rules:u.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{modelValue:e.tabsActives,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(c,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"校验类型：",prop:"validType",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{modelValue:e.data.extras.validType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.validType=t}),class:"w_100",onChange:d.handleValidTypeChange},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.validTypeOptions,(function(e){return(0,a.wg)(),(0,a.j4)(m,{label:e.name,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),"money"===e.data.extras.validType?((0,a.wg)(),(0,a.j4)(f,{key:0,label:"显示大写："},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{modelValue:e.data.extras.showText,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.showText=t})},null,8,["modelValue"])]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(f,{label:"数值限制："},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{colWidths:["calc((100% - 40px) / 2)","10px","calc((100% - 40px) / 2)","30px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(g,{key:0,class:"w_100",type:"number",disabled:u.lengthDisabeld,modelValue:e.data.extras.min,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.min=t}),modelModifiers:{number:!0},placeholder:"最小"},null,8,["disabled","modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",o,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(g,{key:2,class:"w_100",type:"number",disabled:u.lengthDisabeld,modelValue:e.data.extras.max,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.max=t}),modelModifiers:{number:!0},placeholder:"最大"},null,8,["disabled","modelValue"])):(0,a.kq)("",!0),3===n.data.index?((0,a.wg)(),(0,a.iD)("div",r,(0,l.toDisplayString)("percent"===e.data.extras.validType?"%":""),1)):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(f,{label:"默认值：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{type:e.data.type,modelValue:e.data.extras.defaultValue,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.defaultValue=t}),class:"w_100"},null,8,["type","modelValue"])]})),_:1}),d.showDecimalPlace?((0,a.wg)(),(0,a.j4)(f,{key:1,label:"小数位："},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.data.extras.precision,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.precision=t}),min:1},null,8,["modelValue"])]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(f,{label:"步长："},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.data.extras.step,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.extras.step=t}),precision:d.stepPrecisionConfig},null,8,["modelValue","precision"])]})),_:1})]})),_:1}),(0,a.Wm)(c,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(c,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},95199:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"custom-table mb-5"},r=(0,a._)("span",null,null,-1),i={class:"custom-table"};n(58188),n(1939),n(68995),n(74083),n(99805);var u={name:"RadioAttr",extends:n(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,t=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(n){if(n.id===e.data.extras.relateOptionField)return t=n.extras.options||[],!1})),t}},watch:{},mounted:function(){},methods:{addOption:function(e){var t=1,n=[];for(this.data.extras.options.forEach((function(e){n.push(parseInt(e.value))}));-1!==n.indexOf(t);)t++;var a={isDefault:!1,value:"".concat(t),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,a):this.data.extras.options.push(a)},deleteOption:function(e){this.data.extras.options.splice(e,1)},changeDefaultOption:function(e){this.data.extras.options.forEach((function(t){t.value!==e.value&&(t.isDefault=!1)}))}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("base-attr"),m=(0,a.up)("el-tab-pane"),p=(0,a.up)("el-radio"),f=(0,a.up)("el-table-column"),h=(0,a.up)("el-input"),g=(0,a.up)("delete"),v=(0,a.up)("el-icon"),b=(0,a.up)("el-table"),w=(0,a.up)("el-option"),x=(0,a.up)("el-select"),y=(0,a.up)("el-form-item"),_=(0,a.up)("showConfig"),V=(0,a.up)("el-tabs"),W=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(W,{ref:"form",model:e.data.extras,rules:d.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{modelValue:e.tabsActives,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(m,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Wm)(b,{"row-key":"value",prop:"options",data:e.data.extras.options,"max-height":506,size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{"header-align":"center",align:"center",label:"默认值",width:"80px"},{default:(0,a.w5)((function(e){var t=e.row,n=e.$index;return[(0,a.Wm)(p,{size:"small","data-mark":"选择框_"+n,modelValue:t.isDefault,"onUpdate:modelValue":function(e){return t.isDefault=e},label:!0,onChange:function(e){return s.changeDefaultOption(t)}},{default:(0,a.w5)((function(){return[r]})),_:2},1032,["data-mark","modelValue","onUpdate:modelValue","onChange"])]})),_:1}),(0,a.Wm)(f,{"header-align":"center",align:"center",label:"选项值",width:"80px"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(h,{class:"w-full",size:"small",prop:"value",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(f,{label:"选项名称"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(h,{class:"w-full",size:"small",prop:"selectName",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(f,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(v,{class:"custom-table__icon",onClick:function(e){return s.deleteOption(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(g)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{"data-mark":"添加选项按钮",class:"custom-table__button",onClick:t[0]||(t[0]=function(e){return s.addOption("")})}," +添加选项 ")]),(0,a.Wm)(y,{label:"关联选项：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{modelValue:e.data.extras.relateOptionField,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.relateOptionField=t}),size:"small",filterable:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.componentList,(function(t){return(0,a.wg)(),(0,a.iD)(a.HY,null,["radio"===t.type&&t.id!==e.data.id?((0,a.wg)(),(0,a.j4)(w,{"data-mark":"关联选项字段",label:t.title,value:t.id,key:t.id},null,8,["label","value"])):(0,a.kq)("",!0)],64)})),256))]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(y,{label:"关联可选项："}),(0,a._)("div",i,[(0,a.Wm)(b,{data:s.relateFieldOptions,"max-height":506,size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{"header-align":"center",align:"center",label:"关联选项",width:"100px"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Uk)((0,l.toDisplayString)(t.label),1)]})),_:1}),(0,a.Wm)(f,{label:"本组件可选项"},{default:(0,a.w5)((function(t){var n=t.row;return[((0,a.wg)(),(0,a.j4)(x,{class:"w-full",size:"small",modelValue:e.data.extras.relateAvailableOptions[n.value],"onUpdate:modelValue":function(t){return e.data.extras.relateAvailableOptions[n.value]=t},key:n.label,appendToBody:"",multiple:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.extras.options,(function(e){return(0,a.wg)(),(0,a.j4)(w,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]))]})),_:1})]})),_:1},8,["data"])])]})),_:1}),(0,a.Wm)(m,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(_,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(m,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(_,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},57804:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});n(58188),n(88233),n(18178);var a=n(27875),l=n(50349),o=(0,a.Uk)("两列"),r=(0,a.Uk)("三列"),i=(0,a.Uk)("四列"),u={class:"w-9/12"},d={class:"attribute-row__col text-center"};n(1939);var s=n(30621),c=n(22267),m={name:"RowAttr",extends:s.default,data:function(){return{rules:{},percentageOptions:{2:[[1,1],[1,2],[2,1],[1,3],[3,1]],3:[[1,1,1],[1,1,2],[2,1,1],[1,2,1]],4:[[1,1,1,1]]}}},watch:{"data.extras.size":function(e){this.handleSizeChange(e)}},methods:{getColTotal:function(e){var t=0;return Array.isArray(e)&&e.forEach((function(e){t+=e})),t},handlePercentageChange:function(e){this.data.extras.percentage=e},handleComponentDel:function(e){var t=this;e.forEach((function(e){e.children&&e.children.length?t.handleComponentDel(e.children):t.componentMap[e.id]&&delete t.componentMap[e.id]}))},handleSizeChange:function(e){this.data.extras.percentage=this.percentageOptions[e][0];var t=e-this.data.children.length;if(t>0)for(var n=0;n<t;n+=1)this.data.children.push(new c.DesignerLayout("","column"));else if(t<0)for(var a=0;a<Math.abs(t);a+=1){var l=this.data.children.pop();l.children.length&&this.handleComponentDel(l.children)}}}};const p=(0,n(94407).Z)(m,[["render",function(e,t,n,s,c,m){var p=(0,a.up)("el-radio-button"),f=(0,a.up)("el-radio-group"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-col"),v=(0,a.up)("el-row"),b=(0,a.up)("el-tab-pane"),w=(0,a.up)("el-tabs"),x=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(x,{ref:"form",class:"attribute-row",model:e.data.extras,rules:c.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{modelValue:e.tabsActives,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{label:"列数："},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{modelValue:e.data.extras.size,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.size=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{label:2},{default:(0,a.w5)((function(){return[o]})),_:1}),(0,a.Wm)(p,{label:3},{default:(0,a.w5)((function(){return[r]})),_:1}),(0,a.Wm)(p,{label:4},{default:(0,a.w5)((function(){return[i]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(h,{class:"attribute-row__percentage",label:"占比："},{default:(0,a.w5)((function(){return[(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.percentageOptions[e.data.extras.size||2],(function(t,n){return(0,a.wg)(),(0,a.j4)(v,{key:n,class:(0,l.normalizeClass)({"attribute-row__percentage--active":e.data.extras.percentage.toString()===t.toString()}),onClick:function(e){return m.handlePercentageChange(t)}},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,(function(e,o){return(0,a.wg)(),(0,a.j4)(g,{key:"".concat(n,"-").concat(o),span:24/m.getColTotal(t)*e},{default:(0,a.w5)((function(){return[(0,a._)("div",d,(0,l.toDisplayString)(e)+" / "+(0,l.toDisplayString)(m.getColTotal(t)),1)]})),_:2},1032,["span"])})),128))]})),_:2},1032,["class","onClick"])})),128))])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]]);var f=p},1518:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});n(74083);var a=n(27875),l=n(50349),o={key:0,class:"custom-table mb-5"},r=(0,a._)("span",null,null,-1),i=(0,a._)("span",null,"数量限制：",-1),u=(0,a._)("i",{class:"iconfont icon-xiangqing"},null,-1),d={key:1,class:"text-center"},s={key:3,class:"text-right",style:{color:"#666"}},c={key:3,class:"custom-table mb-5"};n(58188),n(1939),n(68995),n(99805);var m={name:"SelectAttr",extends:n(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,t=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(n){if(n.id===e.data.extras.relateOptionField)return t=n.extras.options||[],!1})),t}},watch:{"data.id":function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.data.placeholder||(this.data.placeholder="请选择")},addOption:function(e){var t=1,n=[];for(this.data.extras.options.forEach((function(e){n.push(parseInt(e.value))}));-1!==n.indexOf(t);)t++;var a={isDefault:!1,value:"".concat(t),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,a):this.data.extras.options.push(a)},deleteOption:function(e){this.data.extras.options.splice(e,1)},handleDataSourceChange:function(e){"api"===e?(this.data.extras.options=[],this.data.extras.relateOptionField="",this.data.extras.relateAvailableOptions={}):this.data.extras.options=[{isDefault:!1,value:"1",label:"选项一"},{isDefault:!1,value:"2",label:"选项二"},{isDefault:!1,value:"3",label:"选项三"}]}}};var p=(0,n(94407).Z)(m,[["render",function(e,t,n,m,p,f){var h=(0,a.up)("base-attr"),g=(0,a.up)("el-tab-pane"),v=(0,a.up)("el-option"),b=(0,a.up)("el-select"),w=(0,a.up)("el-form-item"),x=(0,a.up)("el-checkbox"),y=(0,a.up)("el-table-column"),_=(0,a.up)("el-input"),V=(0,a.up)("delete"),W=(0,a.up)("el-icon"),k=(0,a.up)("el-table"),C=(0,a.up)("el-switch"),D=(0,a.up)("el-popover"),L=(0,a.up)("row-split"),U=(0,a.up)("showConfig"),O=(0,a.up)("el-tabs"),M=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(M,{ref:"form",model:e.data.extras,rules:p.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{modelValue:e.tabsActives,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(g,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{label:"数据源：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.data.extras.dataSource,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.dataSource=t}),clearable:"",onChange:f.handleDataSourceChange},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{label:"配置",value:"custom"}),(0,a.Wm)(v,{label:"接口",value:"api"})]})),_:1},8,["modelValue","onChange"])]})),_:1}),"custom"===e.data.extras.dataSource?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(k,{"row-key":"value",prop:"options",data:e.data.extras.options,"max-height":506},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{"header-align":"center",align:"center",label:"默认值",width:"60px"},{default:(0,a.w5)((function(e){var t=e.row,n=e.$index;return[(0,a.Wm)(x,{"data-mark":"选择框_"+n,modelValue:t.isDefault,"onUpdate:modelValue":function(e){return t.isDefault=e},label:!0,size:"small"},{default:(0,a.w5)((function(){return[r]})),_:2},1032,["data-mark","modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(y,{"header-align":"center",align:"center",label:"选项值",width:"60px"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(_,{class:"w_100",prop:"value",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(y,{label:"选项名称"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(_,{class:"w_100",prop:"selectName",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(y,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.$index;return[(0,a.Wm)(W,{class:"custom-table__icon",onClick:function(e){return f.deleteOption(t)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(V)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{"data-mark":"添加选项按钮",class:"custom-table__button",onClick:t[1]||(t[1]=function(e){return f.addOption("")})}," +添加选项 ")])):(0,a.kq)("",!0),(0,a.Wm)(w,{label:"支持多选"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{modelValue:e.data.extras.multiple,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.multiple=t})},null,8,["modelValue"])]})),_:1}),e.data.extras.multiple?((0,a.wg)(),(0,a.j4)(w,{key:1},{label:(0,a.w5)((function(){return[i,(0,a.Wm)(D,{placement:"top-start",trigger:"hover",content:"为空代表单选"},{reference:(0,a.w5)((function(){return[u]})),_:1})]})),default:(0,a.w5)((function(){return[(0,a.Wm)(L,{colWidths:["calc((100% - 50px) / 2)","10px","calc((100% - 50px) / 2)","40px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(_,{key:0,class:"w_100",modelValue:e.data.extras.minLimit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.minLimit=t}),modelModifiers:{number:!0},type:"number",onkeypress:"return /^\\d$/.test(event.key)",placeholder:"最少"},null,8,["modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",d,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(_,{key:2,class:"w_100",modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.maxLimit=t}),modelModifiers:{number:!0},type:"number",onkeypress:"return /^\\d$/.test(event.key)",placeholder:"最多"},null,8,["modelValue"])):(0,a.kq)("",!0),3===n.data.index?((0,a.wg)(),(0,a.iD)("div",s,"个选项")):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(w,{label:"关联选项：",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{modelValue:e.data.extras.relateOptionField,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.relateOptionField=t}),class:"w_100",filterable:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.componentList,(function(t){return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.relateOptionTypes.indexOf(t.type)>=0&&t.id!==e.data.id?((0,a.wg)(),(0,a.j4)(v,{"data-mark":"关联选项字段",label:t.title,value:t.id,key:t.id},null,8,["label","value"])):(0,a.kq)("",!0)],64)})),256))]})),_:1},8,["modelValue"])]})),_:1}),"custom"===e.data.extras.dataSource?((0,a.wg)(),(0,a.j4)(w,{key:2,label:"关联可选项："})):(0,a.kq)("",!0),"custom"===e.data.extras.dataSource?((0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(k,{data:f.relateFieldOptions,"max-height":506},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{"header-align":"center",align:"center",label:"关联选项",width:"100px"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Uk)((0,l.toDisplayString)(t.label),1)]})),_:1}),(0,a.Wm)(y,{"header-align":"center",align:"center",label:"本组件可选项"},{default:(0,a.w5)((function(t){var n=t.row;return[((0,a.wg)(),(0,a.j4)(b,{class:"w_100",modelValue:e.data.extras.relateAvailableOptions[n.value],"onUpdate:modelValue":function(t){return e.data.extras.relateAvailableOptions[n.value]=t},key:n.label,appendToBody:"",multiple:"",size:"small"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.extras.options,(function(e){return(0,a.wg)(),(0,a.j4)(v,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]))]})),_:1})]})),_:1},8,["data"])])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(g,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(g,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},50621:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(27875),l={class:"custom-table mb-5 w-full"};n(58188),n(1939),n(99805);var o=n(30621),r=n(22267),i={name:"TabsAttr",extends:o.default,data:function(){return{rules:{}}},methods:{deleteTabPanel:function(e,t){var n=this;t.forEach((function(e){e.children&&e.children.length?n.deleteTabPanel(e.children):n.componentMap[e.id]&&delete n.componentMap[e.id]})),this.data.children.splice(e,1)},addTabPanel:function(){this.data.children.push(new r.DesignerLayout("选项卡".concat(this.data.children.length+1),"tabPanel"))}}};var u=(0,n(94407).Z)(i,[["render",function(e,t,n,o,r,i){var u=(0,a.up)("el-input"),d=(0,a.up)("el-table-column"),s=(0,a.up)("delete"),c=(0,a.up)("el-icon"),m=(0,a.up)("el-table"),p=(0,a.up)("el-form-item"),f=(0,a.up)("el-tab-pane"),h=(0,a.up)("el-tabs"),g=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(g,{ref:"form",class:"attribute-row",model:e.data.children,rules:r.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{modelValue:e.tabsActives,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{label:"选项卡设置："},{default:(0,a.w5)((function(){return[(0,a._)("div",l,[(0,a.Wm)(m,{data:e.data.children,"max-height":506,size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{label:"选项卡名称"},{default:(0,a.w5)((function(e){var t=e.row;return[(0,a.Wm)(u,{class:"w-full",size:"small",prop:"selectName",modelValue:t.title,"onUpdate:modelValue":function(e){return t.title=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.Wm)(d,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,a.w5)((function(e){var t=e.row,n=e.$index;return[(0,a.Wm)(c,{class:"custom-table__icon",onClick:function(e){return i.deleteTabPanel(n,t.children)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(s)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{class:"custom-table__button",onClick:t[0]||(t[0]=function(e){return i.addTabPanel("")})},"+添加选项卡")])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},50728:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});n(26936);var a=n(27875),l=(0,a._)("span",null,"长度限制：",-1),o=(0,a._)("i",{class:"iconfont icon-xiangqing"},null,-1),r={key:1,class:"text-center",style:{color:"#999"}},i={key:3,class:"text-right",style:{color:"#666"}};n(68995);var u={name:"TextBoxAttr",extends:n(30621).default,data:function(){var e=this;return{lengthDisabeld:!1,rules:{defaultValue:[{validator:function(t,n,a,l){l=e.data.extras?e.data.extras:l;e.getLimitMax(l.validType);if(l){if(n&&l.maxLength&&n.length>parseInt(l.maxLength))a("默认值最大长度不能超过".concat(l.maxLength));if(n&&l.minLength&&n.length<parseInt(l.minLength))a("默认值最小长度不能超过".concat(l.minLength));a()}else a()}}],maxLength:[{validator:function(t,n,a,l){l=e.data.extras?e.data.extras:l;var o=e.getLimitMax(l.validType);if(l){if(l.maxLength&&parseInt(l.maxLength)>o)a("最大长度不能超过".concat(o));a()}else a()}}]}}},computed:{limitMax:function(){return this.getLimitMax(this.data.extras.validType)},validTypeOptions:function(){return[{id:"string",name:"字符"},{id:"english",name:"英文"},{id:"numberEnglish",name:"数字或英文"},{id:"email",name:"邮箱"},{id:"idcard",name:"身份证"},{id:"phone",name:"手机"}]}},watch:{},mounted:function(){!this.data.placeholder&&this.data.extras&&"string"===this.data.extras.validType&&(this.data.placeholder="请输入"),"phone"===this.data.extras.validType||"idcard"===this.data.extras.validType?this.lengthDisabeld=!0:this.lengthDisabeld=!1},methods:{getLimitMax:function(e){switch(e){case"string":case"english":case"numberEnglish":case"email":return 128;case"idcard":return 18;case"bankAccount":return 30;case"phone":return 11}},handleValidTypeChange:function(e){switch(e){case"phone":this.data.extras.minLength=11,this.data.extras.maxLength=11,this.lengthDisabeld=!0;break;case"idcard":this.data.extras.minLength=15,this.data.extras.maxLength=18,this.lengthDisabeld=!0;break;default:this.data.extras.minLength="",this.data.extras.maxLength="",this.lengthDisabeld=!1}}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("base-attr"),m=(0,a.up)("el-tab-pane"),p=(0,a.up)("el-option"),f=(0,a.up)("el-select"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-popover"),v=(0,a.up)("el-input"),b=(0,a.up)("row-split"),w=(0,a.up)("showConfig"),x=(0,a.up)("el-tabs"),y=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(y,{ref:"form",model:e.data.extras,rules:d.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{modelValue:e.tabsActives,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(m,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{label:"校验类型",prop:"validType",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{modelValue:e.data.extras.validType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.validType=t}),class:"w_100",onChange:s.handleValidTypeChange},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.validTypeOptions,(function(e){return(0,a.wg)(),(0,a.j4)(p,{label:e.name,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),(0,a.Wm)(h,{class:"mb_2"},{label:(0,a.w5)((function(){return[l,(0,a.Wm)(g,{placement:"top-start",trigger:"hover",content:"为空代表不限制，最大长度不能超过".concat(s.limitMax)},{reference:(0,a.w5)((function(){return[o]})),_:1},8,["content"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(b,{colWidths:["calc((100% - 40px) / 2)","10px","calc((100% - 40px) / 2)","30px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(v,{key:0,class:"w_100",type:"number",disabled:d.lengthDisabeld,modelValue:e.data.extras.minLength,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.minLength=t}),modelModifiers:{number:!0},placeholder:"最少"},null,8,["disabled","modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",r,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(v,{key:2,class:"w_100",type:"number",disabled:d.lengthDisabeld,modelValue:e.data.extras.maxLength,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.maxLength=t}),modelModifiers:{number:!0},placeholder:"最多"},null,8,["disabled","modelValue"])):(0,a.kq)("",!0),3===n.data.index?((0,a.wg)(),(0,a.iD)("div",i,"字符")):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(h,{label:"默认值",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{type:e.data.type,modelValue:e.data.extras.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.defaultValue=t}),class:"w_100",maxlength:s.limitMax},null,8,["type","modelValue","maxlength"])]})),_:1})]})),_:1}),(0,a.Wm)(m,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(m,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},39840:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(27875),l=(0,a.Uk)("无"),o=(0,a.Uk)("双向"),r=(0,a.Uk)("水平"),i=(0,a.Uk)("垂直"),u=(0,a._)("span",null,"长度限制：",-1),d=(0,a._)("i",{class:"iconfont icon-xiangqing"},null,-1),s={key:1,class:"text-center",style:{color:"#999"}},c={key:3,class:"text-right",style:{color:"#666"}};n(68995);var m={name:"TextareaAttr",extends:n(30621).default,data:function(){var e=this;return{isDisabeld:!1,rules:{defaultValue:[{validator:function(t,n,a,l){l=e.data.extras?e.data.extras:l;e.getLimitMax(l.validType);if(l){if(n&&l.maxLength&&n.length>parseInt(l.maxLength))a("默认值最大长度不能超过".concat(l.maxLength));if(n&&l.minLength&&n.length<parseInt(l.minLength))a("默认值最小长度不能超过".concat(l.minLength));a()}else a()}}],maxLength:[{validator:function(t,n,a,l){l=e.data.extras?e.data.extras:l;var o=e.getLimitMax(l.validType);if(l){if(l.maxLength&&parseInt(l.maxLength)>o)a("最大长度不能超过".concat(o));a()}else a()}}]}}},computed:{limitMax:function(){return this.getLimitMax(this.data.extras.validType)}},watch:{},mounted:function(){!this.data.placeholder&&this.data.extras&&"string"===this.data.extras.validType&&(this.data.placeholder="请输入")},methods:{getLimitMax:function(e){switch(e){case"string":case"english":case"numberEnglish":case"email":return 128;case"idcard":return 18;case"bankAccount":return 30;case"phone":return 11}}}};var p=(0,n(94407).Z)(m,[["render",function(e,t,n,m,p,f){var h=(0,a.up)("base-attr"),g=(0,a.up)("el-tab-pane"),v=(0,a.up)("el-input-number"),b=(0,a.up)("el-form-item"),w=(0,a.up)("el-switch"),x=(0,a.up)("el-radio"),y=(0,a.up)("el-radio-group"),_=(0,a.up)("el-popover"),V=(0,a.up)("el-input"),W=(0,a.up)("row-split"),k=(0,a.up)("showConfig"),C=(0,a.up)("el-tabs"),D=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(D,{ref:"form",model:e.data.extras,rules:p.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{modelValue:e.tabsActives,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{data:e.data},null,8,["data"])]})),_:1}),(0,a.Wm)(g,{label:"业务属性",name:"extras"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{class:"mb_2",label:"行数："},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{modelValue:e.data.extras.rows,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.rows=t}),precision:0,min:1},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(b,{class:"mb_2",label:"高度自适应："},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{modelValue:e.data.extras.autosize,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.autosize=t})},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(b,{class:"mb_2",label:"允许缩放："},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{modelValue:e.data.extras.resize,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.resize=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{label:"none"},{default:(0,a.w5)((function(){return[l]})),_:1}),(0,a.Wm)(x,{label:"both"},{default:(0,a.w5)((function(){return[o]})),_:1}),(0,a.Wm)(x,{label:"horizontal"},{default:(0,a.w5)((function(){return[r]})),_:1}),(0,a.Wm)(x,{label:"vertical"},{default:(0,a.w5)((function(){return[i]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(b,{class:"mb_2",label:"字数统计："},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{modelValue:e.data.extras.showWordLimit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.showWordLimit=t})},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(b,{class:"mb_2"},{label:(0,a.w5)((function(){return[u,(0,a.Wm)(_,{placement:"top-start",trigger:"hover",content:"为空代表不限制，最大长度不能超过".concat(f.limitMax)},{reference:(0,a.w5)((function(){return[d]})),_:1},8,["content"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(W,{colWidths:["calc((100% - 40px) / 2)","10px","calc((100% - 40px) / 2)","30px"]},{default:(0,a.w5)((function(n){return[0===n.data.index?((0,a.wg)(),(0,a.j4)(V,{key:0,class:"w_100",type:"number",disabled:e.lengthDisabeld,modelValue:e.data.extras.minLength,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.minLength=t}),modelModifiers:{number:!0},placeholder:"最少"},null,8,["disabled","modelValue"])):(0,a.kq)("",!0),1===n.data.index?((0,a.wg)(),(0,a.iD)("div",s,"-")):(0,a.kq)("",!0),2===n.data.index?((0,a.wg)(),(0,a.j4)(V,{key:2,class:"w_100",type:"number",disabled:e.lengthDisabeld,modelValue:e.data.extras.maxLength,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.maxLength=t}),modelModifiers:{number:!0},placeholder:"最多"},null,8,["disabled","modelValue"])):(0,a.kq)("",!0),3===n.data.index?((0,a.wg)(),(0,a.iD)("div",c,"字符")):(0,a.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,a.Wm)(b,{label:"默认值",class:"mb_2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{type:e.data.type,modelValue:e.data.extras.defaultValue,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.extras.defaultValue=t}),class:"w_100",maxlength:f.limitMax},null,8,["type","modelValue","maxlength"])]})),_:1})]})),_:1}),(0,a.Wm)(g,{label:"显示设置",name:"show"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,a.Wm)(g,{label:"只读设置",name:"readonly"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},81479:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-select"},r={class:"component-label"},i={class:"component-content"};var u={name:"Cascader",extends:n(42233).default};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-select");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{placeholder:e.component.placeholder,disabled:""},null,8,["placeholder"])])])}]])},69497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-checkbox"},r={class:"component-label"},i={class:"component-content"};var u={name:"CheckBox",extends:n(42233).default};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-checkbox");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{placeholder:e.component.placeholder,disabled:""},null,8,["placeholder"])])])}]])},40625:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});n(26936);var a=n(27875),l=n(50349),o=n(14825),r=["onMouseenter"],i={class:"component-column__action"};n(43450),n(18178),n(74083);var u=n(24048),d=n.n(u),s=n(92041),c=n(42233),m=n(22267),p=(n(55164),{name:"Column",extends:c.default,components:{draggable:d()},mixins:[s.Z],data:function(){return{value:""}},computed:{dragGroup:function(){return this.$store.state.form.dragMenuGroup},dragOptions:function(){return{animation:150,ghostClass:"drop-column--ghost",itemKey:"id",group:{name:"components"},filter:".drop-component--disabled",disabled:"layout"===this.dragGroup}}},methods:{handleComponentChange:function(e){var t=e.added;e.removed,e.moved;if(t){var n=t.element;if(this.componentMap[n.id]);else{var a=this.menuItemListByType[n.type];if(1===a.classify){for(var l=this.componentList.map((function(e){return e.title})),o=this.componentList.map((function(e){return e.fieldPaths})),r=1,i="".concat(a.name).concat(r);l.indexOf(i)>-1||o.indexOf(i)>-1;)r++,i="".concat(a.name).concat(r);this.componentMap[n.id]=new m.DesignerComponent(i,n.type,n.id)}else this.componentMap[n.id]=n}}},handleComponentHover:function(e){this.$store.dispatch("form/addHoverComponentId",e?e.id:"")},handleComponentLeave:function(){this.$store.dispatch("form/removeHoverComponentId")},handleComponentSelect:function(e){this.$emit("select",e)},handleComponentDel:function(e,t){this.$emit("delete",e,t)}}});var f=(0,n(94407).Z)(p,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("input-element-render"),m=(0,a.up)("setting"),p=(0,a.up)("el-icon"),f=(0,a.up)("delete"),h=(0,a.up)("draggable");return(0,a.wg)(),(0,a.j4)(h,(0,a.dG)({class:"component-column",list:e.layouts},s.dragOptions,{onChange:s.handleComponentChange}),{item:(0,a.w5)((function(n){var u=n.element,d=n.index;return[(0,a._)("div",{class:(0,l.normalizeClass)(["component-column__item",{"component-column__item--active":u.id===e.currentComponentId,"component-column__item--hover":u.id===e.hoverComponentId}]),onMouseenter:(0,o.withModifiers)((function(e){return s.handleComponentHover(u)}),["stop"]),onMouseleave:t[0]||(t[0]=(0,o.withModifiers)((function(e){return s.handleComponentLeave()}),["stop"]))},[((0,a.wg)(),(0,a.j4)(c,{type:u.type,key:u.name,layout:u,layouts:e.layouts,componentMap:e.componentMap,componentList:e.componentList},null,8,["type","layout","layouts","componentMap","componentList"])),(0,a._)("div",i,[(0,a.Wm)(p,{class:"component-column__config mr-1",onClick:function(e){return s.handleComponentSelect(u)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(m)]})),_:2},1032,["onClick"]),(0,a.Wm)(p,{class:"component-column__close",onClick:function(e){return s.handleComponentDel(u,d)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(f)]})),_:2},1032,["onClick"])])],42,r)]})),_:1},16,["list","onChange"])}]])},42233:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(27875);var l={name:"baseComponent",props:{componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},layouts:{type:Array,default:function(){return[]}},layout:{type:Object,default:function(){return{}}}},events:["select"],data:function(){return{}},computed:{currentComponentId:function(){return this.$store.state.form.currentComponentId||""},hoverComponentId:function(){return this.$store.state.form.hoverComponentIds[0]||""},component:function(){return this.componentMap[this.layout.id]||{}}},watch:{}};var o=(0,n(94407).Z)(l,[["render",function(e,t,n,l,o,r){return(0,a.wg)(),(0,a.iD)("div")}]])},51126:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-datetime"},r={class:"component-label"},i={class:"component-content"};var u={name:"DateTime",extends:n(42233).default,data:function(){return{value:""}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-date-picker");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),type:"datetime",placeholder:e.component.placeholder,disabled:""},null,8,["modelValue","placeholder"])])])}]])},2903:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-text"},r={class:"component-label"},i={class:"component-content"};var u={name:"TextBox",extends:n(42233).default,data:function(){return{value:""}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),placeholder:e.component.placeholder,disabled:""},null,8,["modelValue","placeholder"])])])}]])},34246:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-text"},r={class:"component-label"},i={class:"component-content"};var u={name:"TextBox",extends:n(42233).default,data:function(){return{value:""}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),placeholder:e.component.placeholder,disabled:""},null,8,["modelValue","placeholder"])])])}]])},6439:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-number"},r={class:"component-label"},i={class:"component-content"};var u={name:"TextBox",extends:n(42233).default,data:function(){return{value:""}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),placeholder:e.component.placeholder,disabled:""},null,8,["modelValue","placeholder"])])])}]])},72633:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-radio"},r={class:"component-label"},i={class:"component-content"},u=(0,a.Uk)("选项");var d={name:"Radio",extends:n(42233).default};var s=(0,n(94407).Z)(d,[["render",function(e,t,n,d,s,c){var m=(0,a.up)("el-radio");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(m,{disabled:""},{default:(0,a.w5)((function(){return[u]})),_:1})])])}]])},8945:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});n(26936);var a=n(27875),l=n(14825),o=n(50349),r={class:"component-row"},i=(0,a._)("div",{key:"component-row-clear",class:"clear-both"},null,-1);var u={name:"Row",extends:n(42233).default};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("input-element-render");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(l.TransitionGroup,{tag:"div",class:"component-row__transition"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.component.children,(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{key:"component-row-".concat(n),class:"float-left component-row__container",style:(0,o.normalizeStyle)({flex:e.component.extras.percentage[n]})},[((0,a.wg)(),(0,a.j4)(c,{type:t.type,key:t.name,layout:t,layouts:t.children,componentMap:e.componentMap,componentList:e.componentList},null,8,["type","layout","layouts","componentMap","componentList"]))],4)})),128)),i]})),_:1})])}]])},40611:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-select"},r={class:"component-label"},i={class:"component-content"};var u={name:"Select",extends:n(42233).default};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-select");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{placeholder:e.component.placeholder,disabled:""},null,8,["placeholder"])])])}]])},2633:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});n(26936);var a=n(27875),l=n(50349),o=n(14825),r=["onMouseenter"],i={class:"component-tab-panel__action"};n(43450),n(18178),n(74083);var u=n(24048),d=n.n(u),s=n(92041),c=n(42233),m=n(22267),p=(n(55164),{name:"TabPanel",extends:c.default,components:{draggable:d()},mixins:[s.Z],data:function(){return{value:""}},computed:{dragOptions:function(){return{animation:150,ghostClass:"drop-column--ghost",itemKey:"id",group:{name:"components"},filter:".drop-component--disabled"}}},methods:{handleComponentChange:function(e){var t=e.added;e.removed,e.moved;if(t){var n=t.element;if(this.componentMap[n.id]);else{var a=this.menuItemListByType[n.type];if(1===a.classify){for(var l=this.componentList.map((function(e){return e.title})),o=this.componentList.map((function(e){return e.fieldPaths})),r=1,i="".concat(a.name).concat(r);l.indexOf(i)>-1||o.indexOf(i)>-1;)r++,i="".concat(a.name).concat(r);this.componentMap[n.id]=new m.DesignerComponent(i,n.type,n.id)}else this.componentMap[n.id]=n}}},handleComponentHover:function(e){this.$store.dispatch("form/addHoverComponentId",e?e.id:"")},handleComponentLeave:function(){this.$store.dispatch("form/removeHoverComponentId")},handleComponentSelect:function(e){this.$emit("select",e)},handleComponentDel:function(e,t){this.$emit("delete",e,t)}}});var f=(0,n(94407).Z)(p,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("input-element-render"),m=(0,a.up)("setting"),p=(0,a.up)("el-icon"),f=(0,a.up)("delete"),h=(0,a.up)("draggable");return(0,a.wg)(),(0,a.j4)(h,(0,a.dG)({class:"component-tab-panel",list:e.layouts},s.dragOptions,{onChange:s.handleComponentChange}),{item:(0,a.w5)((function(n){var u=n.element,d=n.index;return[(0,a._)("div",{class:(0,l.normalizeClass)(["component-tab-panel__item",{"component-tab-panel__item--active":u.id===e.currentComponentId,"component-tab-panel__item--hover":u.id===e.hoverComponentId}]),onMouseenter:(0,o.withModifiers)((function(e){return s.handleComponentHover(u)}),["stop"]),onMouseleave:t[0]||(t[0]=(0,o.withModifiers)((function(e){return s.handleComponentLeave()}),["stop"]))},[((0,a.wg)(),(0,a.j4)(c,{type:u.type,key:u.name,layout:u,layouts:e.layouts,componentMap:e.componentMap,componentList:e.componentList},null,8,["type","layout","layouts","componentMap","componentList"])),(0,a._)("div",i,[(0,a.Wm)(p,{class:"component-tab-panel__config mr-1",onClick:function(e){return s.handleComponentSelect(u)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(m)]})),_:2},1032,["onClick"]),(0,a.Wm)(p,{class:"component-tab-panel__close",onClick:function(e){return s.handleComponentDel(u,d)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(f)]})),_:2},1032,["onClick"])])],42,r)]})),_:1},16,["list","onChange"])}]])},18941:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});n(26936);var a=n(27875);var l={name:"Tabs",extends:n(42233).default,computed:{activeTab:function(){return Array.isArray(this.component.children)&&this.component.children[0]?this.component.children[0].id:""}}};var o=(0,n(94407).Z)(l,[["render",function(e,t,n,l,o,r){var i=(0,a.up)("input-element-render"),u=(0,a.up)("el-tab-pane"),d=(0,a.up)("el-tabs");return(0,a.wg)(),(0,a.j4)(d,{modelValue:r.activeTab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.activeTab=e}),class:"component-tabs"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.component.children,(function(t,n){return(0,a.wg)(),(0,a.j4)(u,{key:t.id,label:t.title,name:t.id},{default:(0,a.w5)((function(){return[((0,a.wg)(),(0,a.j4)(i,{type:t.type,key:t.name,layout:t,layouts:t.children,componentMap:e.componentMap,componentList:e.componentList},null,8,["type","layout","layouts","componentMap","componentList"]))]})),_:2},1032,["label","name"])})),128))]})),_:1},8,["modelValue"])}]])},15198:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-text"},r={class:"component-label"},i={class:"component-content"};var u={name:"TextBox",extends:n(42233).default,data:function(){return{value:""}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),placeholder:e.component.placeholder,disabled:""},null,8,["modelValue","placeholder"])])])}]])},79701:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(27875),l=n(50349),o={class:"component-wrapper component-textarea"},r={class:"component-label"},i={class:"component-content"};var u={name:"TextBox",extends:n(42233).default,data:function(){return{value:""}}};var d=(0,n(94407).Z)(u,[["render",function(e,t,n,u,d,s){var c=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",r,(0,l.toDisplayString)(e.component.title)+"：",1),(0,a._)("div",i,[(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),rows:e.component.rows,type:"textarea",placeholder:e.component.placeholder,disabled:""},null,8,["modelValue","rows","placeholder"])])])}]])},784:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(27875);n(6710);var l={name:"dialogDemo",props:{json:{type:Object,default:function(){return null}},isImport:{type:Boolean,default:function(){return!1}}},data:function(){return{value:""}},created:function(){},mounted:function(){try{this.value=JSON.stringify(this.json)}catch(e){this.value=""}this.$parent.$children=this},destroyed:function(){},methods:{confirm:function(){this.isImport?this.$attrs.events.confirm(this.value):this.$attrs.events.confirm()},cancel:function(){this.$attrs.events.cancel()}}};var o=(0,n(94407).Z)(l,[["render",function(e,t,n,l,o,r){var i=(0,a.up)("el-input");return(0,a.wg)(),(0,a.j4)(i,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),rows:25,type:"textarea",placeholder:"Please input"},null,8,["modelValue"])}]])},56811:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var a=n(27875),l={class:"form-designer"},o={class:"layout-content__card designer-header"},r=(0,a.Uk)("保存"),i=(0,a.Uk)("导入"),u=(0,a.Uk)("导出"),d=(0,a.Uk)("预览"),s={class:"designer-body flex"},c={class:"layout-content__card designer-left overflow-hidden"},m={class:"layout-content__card designer-right overflow-hidden"};n(34115),n(634),n(58188),n(20796),n(15735),n(28673),n(6886),n(34769),n(95342),n(68625),n(1939),n(62775),n(76555),n(95094),n(96882),n(38859),n(17525),n(18275),n(96928),n(26936),n(52506),n(73439),n(32501),n(71245),n(99805),n(6710),n(77950),n(85940),n(88233);var p=n(50349),f={class:"form-designer__menu"},h={class:"fw-b"},g={class:"droppable-element__label"},v=(0,a._)("div",{class:"clear-both"},null,-1);var b=n(24048),w=n.n(b),x=n(22267),y=n(92041),_=n(55164),V={name:"DesignerMenu",components:{draggable:w()},mixins:[y.Z],props:{componentList:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{dragOptions:function(){return{animation:150,ghostClass:"drop-component--ghost",itemKey:"type",group:{name:"components",pull:"clone",put:!1},filter:".drop-component--disabled",sort:!1}}},mounted:function(){},methods:{cloneItem:function(e){return 0===e.classify?new x.DesignerLayout("",e.type):{type:e.type,id:(0,_.hu)()}},onDragStart:function(e){this.$emit("dragStart",e)}}},W=n(94407);var k=(0,W.Z)(V,[["render",function(e,t,n,l,o,r){var i=(0,a.up)("draggable"),u=(0,a.up)("el-sub-menu"),d=(0,a.up)("el-menu");return(0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(d,{"default-openeds":["0","1"],"background-color":"#ffffff"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.typeList,(function(t,n){return(0,a.wg)(),(0,a.j4)(u,{key:n,index:n.toString()},{title:(0,a.w5)((function(){return[(0,a._)("span",h,(0,p.toDisplayString)(t.name),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(i,(0,a.dG)({class:"dragArea list-group",list:e.menuItemList,clone:r.cloneItem},r.dragOptions,{onStart:function(e){return r.onDragStart(t)}}),{item:(0,a.w5)((function(e){var n=e.element,l=e.index;return[n.classify===t.id?((0,a.wg)(),(0,a.iD)("div",{class:"droppable-element",key:l},[(0,a._)("span",g,(0,p.toDisplayString)(n.name),1)])):(0,a.kq)("",!0)]})),_:2},1040,["list","clone","onStart"]),v]})),_:2},1032,["index"])})),128))]})),_:1})])}]]),C=n(14825),D={class:"form-designer__content"},L=["onMouseenter"],U={class:"designer-components__action"},O={class:"form-designer__float"};n(43450),n(18178),n(74083),n(39529),n(31235);var M=n(40641),S=n(325),j=n(13987),T={name:"DesignerContent",components:{draggable:w()},mixins:[y.Z],props:{layouts:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},data:function(){return{attrDialog:null,formAttrDialog:null}},computed:{currentComponentId:function(){return this.$store.state.form.currentComponentId||""},hoverComponentId:function(){return this.$store.state.form.hoverComponentIds[0]||""},dragOptions:function(){return{animation:150,ghostClass:"drop-component--ghost",itemKey:"id",group:{name:"components"},filter:".drop-component--disabled"}}},created:function(){this.initRenderComponent(),this.initRenderAttributes()},methods:{initRenderComponent:function(){var e=this;this.$App.component("input-element-render",{props:{type:{type:String,default:function(){return""}},layout:{type:Object,default:function(){return{}}},layouts:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}}},render:function(t){var l=t.type,o=t.layouts,r=t.layout,i=t.componentMap,u=t.componentList;if(l){var d=n(82041)("./".concat(l)).default;return(0,a.h)(d,{layout:r,layouts:o,componentMap:i,componentList:u,onSelect:e.handleComponentSelect,onDelete:e.handleComponentDel})}return(0,a.h)("div")}})},initRenderAttributes:function(){this.$App.component("component-attr-render",{props:{data:{type:Object,default:function(){return null}},componentList:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}}},render:function(e){var t=e.data,l=e.componentList,o=e.componentMap;if(t&&t.type){var r=n(68549)("./".concat(t.type)).default;return(0,a.h)(r,{data:t,componentList:l,componentMap:o})}return(0,a.h)("div")}})},handleComponentChange:function(e){var t=e.added;e.removed,e.moved;if(t){var n=t.element,a=this.menuItemListByType[n.type];if(1===a.classify){for(var l=this.componentList.map((function(e){return e.title})),o=this.componentList.map((function(e){return e.fieldPaths})),r=1,i="".concat(a.name).concat(r);l.indexOf(i)>-1||o.indexOf(i)>-1;)r++,i="".concat(a.name).concat(r);this.componentMap[n.id]=new x.DesignerComponent(i,n.type,n.id)}else this.componentMap[n.id]=n}},handleComponentHover:function(e){this.$store.dispatch("form/addHoverComponentId",e?e.id:"")},handleComponentLeave:function(){this.$store.dispatch("form/removeHoverComponentId")},handleFromAttrShow:function(){var e=this,t={config:this.config},a={confirm:function(t){e.config.name=t.name,e.config.api=t.api,e.$store.dispatch("dialogManager/closeDialog",e.formAttrDialog.key)},cancel:function(){e.$store.dispatch("dialogManager/closeDialog",e.formAttrDialog.key)}},l=(0,M.Xl)(n(862).default);this.formAttrDialog?(this.formAttrDialog.props=t,this.formAttrDialog.events=a,this.$store.dispatch("dialogManager/updateDialog",this.formAttrDialog)):(this.formAttrDialog=new j.V(l,t,a,{title:"表单属性",isDestroyByClose:!0,bodyHeight:350}),this.$store.dispatch("dialogManager/addDialog",this.formAttrDialog)),this.$store.dispatch("dialogManager/openDialog",this.formAttrDialog.key)},handleComponentSelect:function(e){var t=this,a={component:this.componentMap[e.id],componentMap:this.componentMap,componentList:this.componentList,config:this.config},l={confirm:function(e){t.componentMap[e.id]=e,S.LAYOUT_TYPES.includes(e.type)&&t.layouts.forEach((function(n,a){n.id===e.id&&(t.layouts[a]=e)})),t.$store.dispatch("dialogManager/closeDialog",t.attrDialog.key)},cancel:function(){t.$store.dispatch("dialogManager/closeDialog",t.attrDialog.key)}},o={title:"组件属性",isDestroyByClose:!0,footerTxt:e.id,bodyHeight:350},r=(0,M.Xl)(n(25574).default);this.attrDialog?(this.attrDialog.props=a,this.attrDialog.events=l,this.$store.dispatch("dialogManager/updateDialog",this.attrDialog)):(this.attrDialog=new j.V(r,a,l,o),this.$store.dispatch("dialogManager/addDialog",this.attrDialog)),this.$store.dispatch("dialogManager/openDialog",this.attrDialog.key)},handleComponentDel:function(e,t){this.$emit("delete",e,t)}}};var A=(0,W.Z)(T,[["render",function(e,t,n,l,o,r){var i=(0,a.up)("input-element-render"),u=(0,a.up)("setting"),d=(0,a.up)("el-icon"),s=(0,a.up)("delete"),c=(0,a.up)("draggable"),m=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(c,(0,a.dG)({class:"designer-components",list:n.layouts},r.dragOptions,{onChange:r.handleComponentChange}),{item:(0,a.w5)((function(e){var l=e.element,o=e.index;return[(0,a._)("div",{class:(0,p.normalizeClass)(["designer-components__item",{"designer-components__item--active":l.id===r.currentComponentId,"designer-components__item--hover":l.id===r.hoverComponentId}]),onMouseenter:(0,C.withModifiers)((function(e){return r.handleComponentHover(l)}),["stop"]),onMouseleave:t[0]||(t[0]=(0,C.withModifiers)((function(e){return r.handleComponentLeave()}),["stop"]))},[((0,a.wg)(),(0,a.j4)(i,{type:l.type,key:l.name,layout:l,layouts:n.layouts,componentMap:n.componentMap,componentList:n.componentList},null,8,["type","layout","layouts","componentMap","componentList"])),(0,a._)("div",U,[(0,a.Wm)(d,{class:"designer-components__config mr-1",onClick:function(e){return r.handleComponentSelect(l)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(u)]})),_:2},1032,["onClick"]),(0,a.Wm)(d,{class:"designer-components__close",onClick:function(e){return r.handleComponentDel(l,o)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(s)]})),_:2},1032,["onClick"])])],42,L)]})),_:1},16,["list","onChange"]),(0,a._)("div",O,[(0,a.Wm)(m,{circle:"",onClick:r.handleFromAttrShow},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(u)]})),_:1})]})),_:1},8,["onClick"])])])}]]),$=n(59672);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",r=a.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var l=t&&t.prototype instanceof c?t:c,o=Object.create(l.prototype),r=new V(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(l,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===l)throw o;return k()}for(n.method=l,n.arg=o;;){var r=n.delegate;if(r){var i=x(r,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var u=d(e,t,n);if("normal"===u.type){if(a=n.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a="completed",n.method="throw",n.arg=u.arg)}}}(e,n,r),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var s={};function c(){}function m(){}function p(){}var f={};i(f,l,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(W([])));g&&g!==t&&n.call(g,l)&&(f=g);var v=p.prototype=c.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(l,o,r,i){var u=d(e[l],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==z(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){a("next",e,r,i)}),(function(e){a("throw",e,r,i)})):t.resolve(c).then((function(e){s.value=e,r(s)}),(function(e){return a("throw",e,r,i)}))}i(u.arg)}var l;this._invoke=function(e,n){function o(){return new t((function(t,l){a(e,n,t,l)}))}return l=l?l.then(o,o):o()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var a=d(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,s;var l=a.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function V(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function W(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,i(v,"constructor",p),i(p,"constructor",m),m.displayName=i(p,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),i(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,a,l,o){void 0===o&&(o=Promise);var r=new w(u(t,n,a,l),o);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(v),i(v,r,"Generator"),i(v,l,(function(){return this})),i(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=W,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return r.type="throw",r.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var l=this.tryEntries.length-1;l>=0;--l){var o=this.tryEntries[l],r=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc<=this.prev&&n.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var o=l;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var l=a.arg;_(n)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:W(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function H(e,t,n,a,l,o,r){try{var i=e[o](r),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(a,l)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var o=e.apply(t,n);function r(e){H(o,a,l,r,i,"next",e)}function i(e){H(o,a,l,r,i,"throw",e)}r(void 0)}))}}var B={name:"DesignView",components:{DesignerMenu:k,DesignerContent:A},data:function(){return{formList:[],componentMap:{},layouts:[],config:{api:"",name:""},status:"",dialog:null}},computed:{currentComponentId:function(){return this.$store.state.form.currentComponentId||""},componentList:function(){var e=[];for(var t in this.componentMap)e.push(this.componentMap[t]);return e},dataSource:function(){return this.$store.state.global.dataSource||""}},watch:{$route:function(e){e.query.id?(this.status="edit",this.getFormDetail()):(this.componentMap={},this.layouts=[],this.config={api:"",name:""},this.status="")}},mounted:function(){this.init()},beforeDestroy:function(){},methods:{init:function(){var e=this;return E(F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$route.query.id&&(e.status="edit",e.getFormDetail());case 1:case"end":return t.stop()}}),t)})))()},getFormDetail:function(){var e=this;return E(F().mark((function t(){var n,a,l;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("JSON"!==e.dataSource){t.next=6;break}n=JSON.parse(localStorage.getItem("ATP_FORM")||"[]"),(a=n[Number(e.$route.query.id)-1])&&(e.componentMap=e.setComponentMap(a.layouts,a.components),e.layouts=a.layouts,e.config.name=a.name,e.config.api=a.api),t.next=13;break;case 6:return t.next=8,$.VO.getFormDetail(e.$route.query.id);case 8:l=t.sent,e.componentMap=e.setComponentMap(l.data.layouts,l.data.components),e.layouts=l.data.layouts,e.config.name=l.data.name,e.config.api=l.data.api;case 13:case"end":return t.stop()}}),t)})))()},setComponentMap:function(e,t){var n={};t.forEach((function(e){n[e.id]||(n[e.id]=e)}));return function e(t){Array.isArray(t)&&t.length&&t.forEach((function(t){n[t.id]||(n[t.id]=t),Array.isArray(t.children)&&t.children.length&&e(t.children)}))}(e),n},getSaveComponents:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.forEach((function(e){e.children&&e.children.length?n.getSaveComponents(e.children,t,a):t[e.id]&&a.push(t[e.id])})),a},removeItem:function(e){var t=this;e.forEach((function(e){e.children&&e.children.length?t.removeItem(e.children):t.componentMap[e.id]&&delete t.componentMap[e.id]}))},removeLayout:function(e,t,n){for(var a=0;a<e.length;a+=1)if(e[a].children&&e[a].children.length)this.removeLayout(e[a].children,t,e[a]);else if(e[a].id===t){n.children.splice(a,1);break}},handleMenuDragStart:function(e){this.$store.dispatch("form/updateDragMenuGroup",e?e.group:"")},handleComponentSelect:function(e){this.$store.dispatch("form/updateCurrentComponentId",e?e.id:"")},handleComponentDel:function(e,t){if(delete this.componentMap[e.id],this.layouts[t].id===e.id){var n=this.layouts.splice(t,1);n[0].children&&n[0].children.length&&this.removeItem(n[0].children)}else this.removeLayout(this.layouts,e.id)},handleItemClick:function(e){var t=this;return E(F().mark((function n(){return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.$router.push({name:"formDesign",query:{id:e.id}});case 1:case"end":return n.stop()}}),n)})))()},handleJsonDialogShow:function(e){var t=this,a=!e,l={json:e,isImport:a},o={confirm:function(e){if(a){var n=JSON.parse(e);n&&(t.componentMap=t.setComponentMap(n.layouts,n.components),t.layouts=n.layouts,t.config.name=n.name,t.config.api=n.api)}t.$store.dispatch("dialogManager/removeDialog",t.dialog.key),t.dialog=null},cancel:function(){t.$store.dispatch("dialogManager/removeDialog",t.dialog.key),t.dialog=null}},r={width:800,title:"".concat(a?"导入":"导出","JSON"),bodyHeight:800},i=n(784).Z;this.dialog?(this.dialog.props=l,this.$store.dispatch("dialogManager/updateDialog",this.dialog)):(this.dialog=new j.V(i,l,o,r),this.$store.dispatch("dialogManager/addDialog",this.dialog)),this.$store.dispatch("dialogManager/openDialog",this.dialog.key)},handleJsonImport:function(){var e=this;return E(F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.handleJsonDialogShow();case 1:case"end":return t.stop()}}),t)})))()},handleJsonExport:function(){var e=this;return E(F().mark((function t(){var n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=q(q({},e.config),{},{components:e.getSaveComponents(e.layouts,e.componentMap),layouts:e.layouts}),e.handleJsonDialogShow(n);case 2:case"end":return t.stop()}}),t)})))()},handleTemplatePreview:function(){var e=this,t={type:"form",layouts:this.layouts,components:this.getSaveComponents(this.layouts,this.componentMap)},a={confirm:function(t){e.$store.dispatch("dialogManager/removeDialog",e.previewDialog.key),e.previewDialog=null},cancel:function(){e.$store.dispatch("dialogManager/removeDialog",e.previewDialog.key),e.previewDialog=null}},l=n(444).Z;this.previewDialog?(this.previewDialog.props=t,this.$store.dispatch("dialogManager/updateDialog",this.previewDialog)):(this.previewDialog=new j.V(l,t,a,{width:1080,title:"预览",bodyHeight:1e3,isShowFooter:!1}),this.$store.dispatch("dialogManager/addDialog",this.previewDialog)),this.$store.dispatch("dialogManager/openDialog",this.previewDialog.key)},handleTemplateSave:function(){var e=this;return E(F().mark((function t(){var n,a;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=q(q({},e.config),{},{components:e.getSaveComponents(e.layouts,e.componentMap),layouts:e.layouts}),null,a=[],"JSON"===e.dataSource&&(a=JSON.parse(localStorage.getItem("ATP_FORM")||"[]")),"edit"!==e.status){t.next=16;break}if(n.id=e.$route.query.id,"JSON"!==e.dataSource){t.next=11;break}a[Number(e.$route.query.id)-1]=n,localStorage.setItem("ATP_FORM",JSON.stringify(a)),t.next=14;break;case 11:return t.next=13,$.VO.updateForm(n);case 13:t.sent;case 14:t.next=23;break;case 16:if("JSON"!==e.dataSource){t.next=20;break}a.lengt>=10?e.$message({message:"最多保存10条",type:"error"}):(n.id=a.length+1,a.push(n),localStorage.setItem("ATP_FORM",JSON.stringify(a)),e.$router.replace({path:"/design/form",query:{id:n.id}})),t.next=23;break;case 20:return t.next=22,$.VO.saveForm(n);case 22:t.sent;case 23:case"end":return t.stop()}}),t)})))()}}};var Y=(0,W.Z)(B,[["render",function(e,t,n,p,f,h){var g=(0,a.up)("el-button"),v=(0,a.up)("designer-menu"),b=(0,a.up)("designer-content");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",o,[(0,a._)("div",null,[(0,a.Wm)(g,{onClick:h.handleTemplateSave},{default:(0,a.w5)((function(){return[r]})),_:1},8,["onClick"]),(0,a.Wm)(g,{onClick:h.handleJsonImport},{default:(0,a.w5)((function(){return[i]})),_:1},8,["onClick"]),(0,a.Wm)(g,{onClick:h.handleJsonExport},{default:(0,a.w5)((function(){return[u]})),_:1},8,["onClick"])]),(0,a._)("div",null,[(0,a.Wm)(g,{onClick:h.handleTemplatePreview},{default:(0,a.w5)((function(){return[d]})),_:1},8,["onClick"])])]),(0,a._)("div",s,[(0,a._)("div",c,[(0,a.Wm)(v,{componentList:h.componentList,onDragStart:h.handleMenuDragStart},null,8,["componentList","onDragStart"])]),(0,a._)("div",m,[(0,a.Wm)(b,{layouts:f.layouts,componentMap:f.componentMap,componentList:h.componentList,config:f.config,onDelete:h.handleComponentDel},null,8,["layouts","componentMap","componentList","config","onDelete"])])])])}]])},68549:function(e,t,n){var a={"./":25574,"./cascader":4600,"./cascader/":4600,"./cascader/index":4600,"./cascader/index.vue":4600,"./checkBox":59149,"./checkBox/":59149,"./checkBox/index":59149,"./checkBox/index.vue":59149,"./common/base":30621,"./common/base.vue":30621,"./common/baseAttr":56282,"./common/baseAttr.vue":56282,"./datetime":44245,"./datetime/":44245,"./datetime/index":44245,"./datetime/index.vue":44245,"./fileUpload":22351,"./fileUpload/":22351,"./fileUpload/index":22351,"./fileUpload/index.vue":22351,"./formAttr":862,"./formAttr.vue":862,"./imageUpload":64430,"./imageUpload/":64430,"./imageUpload/index":64430,"./imageUpload/index.vue":64430,"./index":25574,"./index.vue":25574,"./number":27973,"./number/":27973,"./number/index":27973,"./number/index.vue":27973,"./radio":95199,"./radio/":95199,"./radio/index":95199,"./radio/index.vue":95199,"./row":57804,"./row/":57804,"./row/index":57804,"./row/index.vue":57804,"./select":1518,"./select/":1518,"./select/index":1518,"./select/index.vue":1518,"./tabs":50621,"./tabs/":50621,"./tabs/index":50621,"./tabs/index.vue":50621,"./textBox":50728,"./textBox/":50728,"./textBox/index":50728,"./textBox/index.vue":50728,"./textarea":39840,"./textarea/":39840,"./textarea/index":39840,"./textarea/index.vue":39840};function l(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=o,e.exports=l,l.id=68549},82041:function(e,t,n){var a={"./cascader":81479,"./cascader/":81479,"./cascader/index":81479,"./cascader/index.vue":81479,"./checkBox":69497,"./checkBox/":69497,"./checkBox/index":69497,"./checkBox/index.vue":69497,"./column":40625,"./column/":40625,"./column/index":40625,"./column/index.vue":40625,"./common/base":42233,"./common/base.vue":42233,"./datetime":51126,"./datetime/":51126,"./datetime/index":51126,"./datetime/index.vue":51126,"./fileUpload":2903,"./fileUpload/":2903,"./fileUpload/index":2903,"./fileUpload/index.vue":2903,"./imageUpload":34246,"./imageUpload/":34246,"./imageUpload/index":34246,"./imageUpload/index.vue":34246,"./number":6439,"./number/":6439,"./number/index":6439,"./number/index.vue":6439,"./radio":72633,"./radio/":72633,"./radio/index":72633,"./radio/index.vue":72633,"./row":8945,"./row/":8945,"./row/index":8945,"./row/index.vue":8945,"./select":40611,"./select/":40611,"./select/index":40611,"./select/index.vue":40611,"./tabPanel":2633,"./tabPanel/":2633,"./tabPanel/index":2633,"./tabPanel/index.vue":2633,"./tabs":18941,"./tabs/":18941,"./tabs/index":18941,"./tabs/index.vue":18941,"./textBox":15198,"./textBox/":15198,"./textBox/index":15198,"./textBox/index.vue":15198,"./textarea":79701,"./textarea/":79701,"./textarea/index":79701,"./textarea/index.vue":79701};function l(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=o,e.exports=l,l.id=82041},64985:function(e,t,n){var a={"./":22267,"./cascader":20829,"./cascader.js":20829,"./checkBox":46998,"./checkBox.js":46998,"./column":31255,"./column.js":31255,"./constant":325,"./constant.js":325,"./datetime":27577,"./datetime.js":27577,"./fileUpload":5163,"./fileUpload.js":5163,"./imageUpload":50735,"./imageUpload.js":50735,"./index":22267,"./index.js":22267,"./number":22857,"./number.js":22857,"./radio":53205,"./radio.js":53205,"./row":28231,"./row.js":28231,"./select":16938,"./select.js":16938,"./tabPanel":86021,"./tabPanel.js":86021,"./tabs":10816,"./tabs.js":10816,"./textBox":38882,"./textBox.js":38882,"./textarea":5945,"./textarea.js":5945};function l(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=o,e.exports=l,l.id=64985}}]);