"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5060],{10143:function(e,t,s){s.d(t,{aY:function(){return b}});var i=s(56709),n=s(97865),r=s(38431),o=s(39832),a=s(23127),u=s(28919),h=s(26386),l=s(80793),c=s(71177),y=s(70499),p=function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},d=function(e,t){return function(s,i){t(s,i,e)}};const f="data-keybinding-context";class g{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class x extends g{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}x.INSTANCE=new x;class v extends g{constructor(e,t,s){super(e,null),this._configurationService=t,this._values=o.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(n.$.map(this._values,(([e])=>e)));this._values.clear(),s.fire(new _(e))}else{const t=[];for(const s of e.affectedKeys){const e=`config.${s}`,i=this._values.findSuperstr(e);void 0!==i&&(t.push(...n.$.map(i,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}s.fire(new _(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(v._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(v._keyPrefix.length),s=this._configurationService.getValue(t);let i;switch(typeof s){case"number":case"boolean":case"string":i=s;break;default:i=Array.isArray(s)?JSON.stringify(s):s}return this._values.set(e,i),i}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}v._keyPrefix="config.";class C{constructor(e,t,s){this._service=e,this._key=t,this._defaultValue=s,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class k{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class _{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class m{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}class w{constructor(e){this._onDidChangeContext=new i.K3({merge:e=>new m(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new C(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new S(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const s=this.getContextValuesContainer(this._myContextId);s&&s.setValue(e,t)&&this._onDidChangeContext.fire(new k(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new k(e))}getContext(e){return this._isDisposed?x.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(f)){const t=e.getAttribute(f);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let b=class extends w{constructor(e){super(0),this._contexts=new Map,this._toDispose=new r.SL,this._lastContextId=0;const t=new v(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?x.INSTANCE:this._contexts.get(e)||x.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new g(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};b=p([d(0,c.Ui)],b);class S extends w{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new r.XK,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(f)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", "))}this._domNode.setAttribute(f,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{const t=this._parent.getContextValuesContainer(this._myContextId).value;var s;s=t,e.allKeysContainedIn(new Set(Object.keys(s)))||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(f),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?x.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}l.P0.registerCommand(y.Eq,(function(e,t,s){e.get(y.i6).createKey(String(t),function(e){return(0,a.rs)(e,(e=>"object"==typeof e&&1===e.$mid?u.o.revive(e).toString():e instanceof u.o?e.toString():void 0))}(s))})),l.P0.registerCommand({id:"getContextKeyInfo",handler(){return[...y.uy.all()].sort(((e,t)=>e.key.localeCompare(t.key)))},description:{description:(0,h.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),l.P0.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const s of y.uy.all())t.has(s.key)||(t.add(s.key),e.push(s));e.sort(((e,t)=>e.key.localeCompare(t.key)))}))},70499:function(e,t,s){s.d(t,{Ao:function(){return u},Eq:function(){return D},Fb:function(){return h},K8:function(){return O},i6:function(){return E},uy:function(){return I}});var i=s(11138),n=s(17416),r=s(44333);const o=new Map;o.set("false",!1),o.set("true",!0),o.set("isMac",i.dz),o.set("isLinux",i.IJ),o.set("isWindows",i.ED),o.set("isWeb",i.$L),o.set("isMacNative",i.dz&&!i.$L),o.set("isEdge",i.un),o.set("isFirefox",i.vU),o.set("isChrome",i.i7),o.set("isSafari",i.G6);const a=Object.prototype.hasOwnProperty;class u{static has(e){return p.create(e)}static equals(e,t){return d.create(e,t)}static regex(e,t){return b.create(e,t)}static not(e){return v.create(e)}static and(...e){return V.create(e,null)}static or(...e){return A.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){const s=e.split("||");return A.create(s.map((e=>this._deserializeAndExpression(e,t))),null,!0)}static _deserializeAndExpression(e,t){const s=e.split("&&");return V.create(s.map((e=>this._deserializeOne(e,t))),null)}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){const s=e.split("!=");return x.create(s[0].trim(),this._deserializeValue(s[1],t))}if(e.indexOf("==")>=0){const s=e.split("==");return d.create(s[0].trim(),this._deserializeValue(s[1],t))}if(e.indexOf("=~")>=0){const s=e.split("=~");return b.create(s[0].trim(),this._deserializeRegexValue(s[1],t))}if(e.indexOf(" not in ")>=0){const t=e.split(" not in ");return g.create(t[0].trim(),t[1].trim())}if(e.indexOf(" in ")>=0){const t=e.split(" in ");return f.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return _.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return k.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return w.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return m.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?v.create(e.substr(1).trim()):p.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;const s=/^'([^']*)'$/.exec(e);return s?s[1].trim():e}static _deserializeRegexValue(e,t){if((0,n.m5)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return null}const s=e.indexOf("/"),i=e.lastIndexOf("/");if(s===i||s<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return null}const r=e.slice(s+1,i),o="i"===e[i+1]?"i":"";try{return new RegExp(r,o)}catch(s){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${s}`);return null}}}function h(e,t){const s=e?e.substituteConstants():void 0,i=t?t.substituteConstants():void 0;return!s&&!i||!(!s||!i)&&s.equals(i)}function l(e,t){return e.cmp(t)}class c{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return y.INSTANCE}}c.INSTANCE=new c;class y{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return c.INSTANCE}}y.INSTANCE=new y;class p{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const s=o.get(e);return"boolean"==typeof s?s?y.INSTANCE:c.INSTANCE:new p(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=o.get(this.key);return"boolean"==typeof e?e?y.INSTANCE:c.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this)),this.negated}}class d{constructor(e,t,s){this.key=e,this.value=t,this.negated=s,this.type=4}static create(e,t,s=null){if("boolean"==typeof t)return t?p.create(e,s):v.create(e,s);const i=o.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?y.INSTANCE:c.INSTANCE}return new d(e,t,s)}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=o.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?y.INSTANCE:c.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this.value,this)),this.negated}}class f{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new f(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),s=e.getValue(this.key);return Array.isArray(t)?t.includes(s):"string"==typeof s&&"object"==typeof t&&null!==t&&a.call(t,s)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=g.create(this.key,this.valueKey)),this.negated}}class g{constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=f.create(e,t)}static create(e,t){return new g(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class x{constructor(e,t,s){this.key=e,this.value=t,this.negated=s,this.type=5}static create(e,t,s=null){if("boolean"==typeof t)return t?v.create(e,s):p.create(e,s);const i=o.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?c.INSTANCE:y.INSTANCE}return new x(e,t,s)}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=o.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?c.INSTANCE:y.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}class v{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const s=o.get(e);return"boolean"==typeof s?s?c.INSTANCE:y.INSTANCE:new v(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=o.get(this.key);return"boolean"==typeof e?e?c.INSTANCE:y.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this)),this.negated}}function C(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):c.INSTANCE}class k{constructor(e,t,s){this.key=e,this.value=t,this.negated=s,this.type=12}static create(e,t,s=null){return C(t,(t=>new k(e,t,s)))}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class _{constructor(e,t,s){this.key=e,this.value=t,this.negated=s,this.type=13}static create(e,t,s=null){return C(t,(t=>new _(e,t,s)))}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}class m{constructor(e,t,s){this.key=e,this.value=t,this.negated=s,this.type=14}static create(e,t,s=null){return C(t,(t=>new m(e,t,s)))}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this.value,this)),this.negated}}class w{constructor(e,t,s){this.key=e,this.value=t,this.negated=s,this.type=15}static create(e,t,s=null){return C(t,(t=>new w(e,t,s)))}cmp(e){return e.type!==this.type?this.type-e.type:K(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=k.create(this.key,this.value,this)),this.negated}}class b{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new b(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",s=e.regexp?e.regexp.source:"";return t<s?-1:t>s?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",s=e.regexp?e.regexp.source:"";return this.key===e.key&&t===s}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this)),this.negated}}class S{constructor(e){this._actual=e,this.type=8}static create(e){return new S(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function N(e){let t=null;for(let s=0,i=e.length;s<i;s++){const i=e[s].substituteConstants();if(e[s]!==i&&null===t){t=[];for(let i=0;i<s;i++)t[i]=e[i]}null!==t&&(t[s]=i)}return null===t?e:t}class V{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return V._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,s=this.expr.length;t<s;t++){const s=l(this.expr[t],e.expr[t]);if(0!==s)return s}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,s=this.expr.length;t<s;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=N(this.expr);return e===this.expr?this:V.create(e,this.negated)}evaluate(e){for(let t=0,s=this.expr.length;t<s;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const s=[];let i=!1;for(const t of e)if(t)if(1!==t.type){if(0===t.type)return c.INSTANCE;6!==t.type?s.push(t):s.push(...t.expr)}else i=!0;if(0===s.length&&i)return y.INSTANCE;if(0!==s.length){if(1===s.length)return s[0];s.sort(l);for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];for(;s.length>1;){const e=s[s.length-1];if(9!==e.type)break;s.pop();const t=s.pop(),i=0===s.length,n=A.create(e.expr.map((e=>V.create([e,t],null))),null,i);n&&(s.push(n),s.sort(l))}return 1===s.length?s[0]:new V(s,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=A.create(e,this,!0)}return this.negated}}class A{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,s){return A._normalizeArr(e,t,s)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,s=this.expr.length;t<s;t++){const s=l(this.expr[t],e.expr[t]);if(0!==s)return s}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,s=this.expr.length;t<s;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=N(this.expr);return e===this.expr?this:A.create(e,this.negated,!1)}evaluate(e){for(let t=0,s=this.expr.length;t<s;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,s){let i=[],n=!1;if(e){for(let t=0,s=e.length;t<s;t++){const s=e[t];if(s)if(0!==s.type){if(1===s.type)return y.INSTANCE;9!==s.type?i.push(s):i=i.concat(s.expr)}else n=!0}if(0===i.length&&n)return c.INSTANCE;i.sort(l)}if(0!==i.length){if(1===i.length)return i[0];for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];if(s){for(let e=0;e<i.length;e++)for(let t=e+1;t<i.length;t++)O(i[e],i[t])&&(i.splice(t,1),t--);if(1===i.length)return i[0]}return new A(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),s=e.shift(),i=[];for(const e of z(t))for(const t of z(s))i.push(V.create([e,t],null));const n=0===e.length;e.unshift(A.create(i,null,n))}this.negated=e[0]}return this.negated}}class I extends p{constructor(e,t,s){super(e,null),this._defaultValue=t,"object"==typeof s?I._info.push(Object.assign(Object.assign({},s),{key:e})):!0!==s&&I._info.push({key:e,description:s,type:null!=t?typeof t:void 0})}static all(){return I._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return d.create(this.key,e)}}I._info=[];const E=(0,r.yh)("contextKeyService"),D="setContext";function T(e,t){return e<t?-1:e>t?1:0}function K(e,t,s,i){return e<s?-1:e>s?1:t<i?-1:t>i?1:0}function O(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const s of t.expr)if(e.equals(s))return!0;const s=z(e.negate()).concat(z(t));s.sort(l);for(let e=0;e<s.length;e++){const t=s[e].negate();for(let i=e+1;i<s.length;i++){const e=s[i];if(t.equals(e))return!0}}return!1}function z(e){return 9===e.type?e.expr:[e]}},57131:function(e,t,s){s.d(t,{cv:function(){return o},d0:function(){return a}});var i=s(11138),n=s(26386),r=s(70499);new r.uy("isMac",i.dz,(0,n.NC)("isMac","Whether the operating system is macOS")),new r.uy("isLinux",i.IJ,(0,n.NC)("isLinux","Whether the operating system is Linux"));const o=new r.uy("isWindows",i.ED,(0,n.NC)("isWindows","Whether the operating system is Windows")),a=(new r.uy("isWeb",i.$L,(0,n.NC)("isWeb","Whether the platform is a web browser")),new r.uy("isMacNative",i.dz&&!i.$L,(0,n.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new r.uy("isIOS",i.gn,(0,n.NC)("isIOS","Whether the operating system is iOS")),new r.uy("isDevelopment",!1,!0),new r.uy("productQualityType","",(0,n.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new r.uy(a,!1,(0,n.NC)("inputFocus","Whether keyboard focus is inside an input box"))},57248:function(e,t,s){s.d(t,{L:function(){return C}});var i=s(34441),n=s(56709),r=s(38431),o=s(55495),a=s(97968),u=s(68554),h=s(58566),l=s(24677),c=s(91568),y=s(98299),p=s(20996),d=s(83003);class f{constructor(e,t,s,i,n){this.contextViewService=e,this.telemetryService=t,this.notificationService=s,this.keybindingService=i,this.themeService=n,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let s;this.focusToReturn=document.activeElement;const n=(0,i.Re)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:n=>{const o=e.getMenuClassName?e.getMenuClassName():"";o&&(n.className+=" "+o),this.options.blockMouse&&(this.block=n.appendChild((0,i.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,i.nm)(this.block,i.tw.MOUSE_DOWN,(e=>e.stopPropagation())));const a=new r.SL,u=e.actionRunner||new y.Wi;return u.onBeforeRun(this.onActionRun,this,a),u.onDidRun(this.onDidActionRun,this,a),s=new c.v2(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),a.add((0,d.tj)(s,this.themeService)),s.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,a),s.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,a),a.add((0,i.nm)(window,i.tw.BLUR,(()=>this.contextViewService.hideContextView(!0)))),a.add((0,i.nm)(window,i.tw.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new l.n(e);let s=t.target;if(!t.rightButton){for(;s;){if(s===n)return;s=s.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,r.F8)(a,s)},focus:()=>{null==s||s.focus(!!e.autoSelectFirstItem)},onHide:t=>{var s;null===(s=e.onHide)||void 0===s||s.call(e,!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!(0,p.n2)(e.error)&&this.notificationService.error(e.error)}}var g=s(36953),x=function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},v=function(e,t){return function(s,i){t(s,i,e)}};let C=class extends r.JT{constructor(e,t,s,i,r){super(),this._onDidShowContextMenu=new n.Q5,this._onDidHideContextMenu=new n.Q5,this.contextMenuHandler=new f(s,e,t,i,r)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var s;null===(s=e.onHide)||void 0===s||s.call(e,t),this._onDidHideContextMenu.fire()}})),i._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};C=x([v(0,u.b),v(1,a.lT),v(2,g.u),v(3,o.d),v(4,h.XE)],C)},36953:function(e,t,s){s.d(t,{i:function(){return r},u:function(){return n}});var i=s(44333);const n=(0,i.yh)("contextViewService"),r=(0,i.yh)("contextMenuService")},63361:function(e,t,s){s.d(t,{g:function(){return u}});var i=s(85101),n=s(38431),r=s(41263),o=function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},a=function(e,t){return function(s,i){t(s,i,e)}};let u=class extends n.JT{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=n.JT.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new i.Ry(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,s){t?t===this.container&&this.shadowRoot===s||(this.container=t,this.setContainer(t,s?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=s,this.contextView.show(e);const i=(0,n.OF)((()=>{this.currentViewDisposable===i&&this.hideContextView()}));return this.currentViewDisposable=i,i}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};u=o([a(0,r.F)],u)}}]);