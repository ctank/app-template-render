"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[8652],{30563:function(e,t,i){i.d(t,{T:function(){return x}});var n=i(56709),s=i(38431),r=i(20996),a=i(17416),o=i(64759),g=i(9161),u=i(5007),l=i(91686),h=i(6227),c=i(90638);let d=[],m=[],_=[];function f(e,t=!1){!function(e,t,i){const n=function(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,o.Qc)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(l.KR.sep)>=0}}(e,t);d.push(n),n.userConfigured?_.push(n):m.push(n);i&&!n.userConfigured&&d.forEach((e=>{e.mime===n.mime||e.userConfigured||(n.extension&&(e.extension,n.extension),n.filename&&(e.filename,n.filename),n.filepattern&&(e.filepattern,n.filepattern),n.firstline&&(e.firstline,n.firstline))}))}(e,!1,t)}function p(e,t){return function(e,t){let i;if(e)switch(e.scheme){case u.lg.file:i=e.fsPath;break;case u.lg.data:i=h.Vb.parseMetaData(e).get(h.Vb.META_DATA_LABEL);break;case u.lg.vscodeNotebookCell:i=void 0;break;default:i=e.path}if(!i)return[{id:"unknown",mime:g.v.unknown}];i=i.toLowerCase();const n=(0,l.EZ)(i),s=L(i,n,_);if(s)return[s,{id:c.bd,mime:g.v.text}];const r=L(i,n,m);if(r)return[r,{id:c.bd,mime:g.v.text}];if(t){const e=function(e){(0,a.uS)(e)&&(e=e.substr(1));if(e.length>0)for(let t=d.length-1;t>=0;t--){const i=d[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i}return}(t);if(e)return[e,{id:c.bd,mime:g.v.text}]}return[{id:"unknown",mime:g.v.unknown}]}(e,t).map((e=>e.id))}function L(e,t,i){var n;let s,r,a;for(let o=i.length-1;o>=0;o--){const g=i[o];if(t===g.filenameLowercase){s=g;break}if(g.filepattern&&(!r||g.filepattern.length>r.filepattern.length)){const i=g.filepatternOnPath?e:t;(null===(n=g.filepatternLowercase)||void 0===n?void 0:n.call(g,i))&&(r=g)}g.extension&&(!a||g.extension.length>a.extension.length)&&t.endsWith(g.extensionLowercase)&&(a=g)}return s||(r||(a||void 0))}var y=i(12326),C=i(6325);const w=Object.prototype.hasOwnProperty,k="vs.editor.nullLanguage";class v{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(k,0),this._register(c.bd,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||k}}class D extends s.JT{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,D.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new v,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(c.dQ.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){D.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d=d.filter((e=>e.userConfigured)),m=[];const e=[].concat(c.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),C.B.as(y.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;w.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)f({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const s of t.filenames)f({id:i,mime:n,filename:s},this._warnOnOverwrite),e.filenames.push(s);if(Array.isArray(t.filenamePatterns))for(const e of t.filenamePatterns)f({id:i,mime:n,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);(0,a.IO)(t)||f({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(e){(0,r.dL)(e)}}e.aliases.push(i);let s=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(s=0===t.aliases.length?[null]:t.aliases),null!==s)for(const t of s)t&&0!==t.length&&e.aliases.push(t);const o=null!==s&&s.length>0;if(o&&null===s[0]);else{const t=(o?s[0]:null)||i;!o&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&w.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return w.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&w.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?p(e,t):[]}}D.instanceCount=0;var I=i(16308),M=i(16012);class x extends s.JT{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new n.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new n.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,x.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new D(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){x.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,I.Xh)(i,null)}createById(e){return new b(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new b(this.onDidChange,(()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=c.bd),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),M.RW.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}}x.instanceCount=0;class b{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages((()=>this._evaluate()))),this._emitter||(this._emitter=new n.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,null===(e=this._emitter)||void 0===e||e.fire(this.languageId))}}},52919:function(e,t,i){i.d(t,{i:function(){return n}});const n=(0,i(44333).yh)("markerDecorationsService")},1022:function(e,t,i){i.d(t,{x:function(){return p}});var n=i(36156),s=i(38431),r=i(41913),a=i(58566),o=i(44411),g=i(65041),u=i(50038),l=i(5007),h=i(56709),c=i(92537),d=i(39832),m=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},_=function(e,t){return function(i,n){t(i,n,e)}};class f extends s.JT{constructor(e){super(),this.model=e,this._markersData=new Map,this._register((0,s.OF)((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let t=0;t<n.length;t++)this._markersData.set(n[t],e[t]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let p=class extends s.JT{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new h.Q5),this._markerDecorations=new d.Y9,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new f(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==l.lg.inMemory&&e.uri.scheme!==l.lg.internal&&e.uri.scheme!==l.lg.vscode||null===(t=this._markerService)||void 0===t||t.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=u.e.lift(t);if(t.severity!==n.ZL.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(1===t||i.endColumn>=t)return i;const n=e.getWordAtPosition(i.getStartPosition());n&&(i=new u.e(i.startLineNumber,n.startColumn,i.endLineNumber,n.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){const n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new u.e(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,s,g,u;switch(e.severity){case n.ZL.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",s=0;break;case n.ZL.Warning:t="squiggly-warning",i=(0,a.EN)(o.Re),s=20,u={color:(0,a.EN)(c.Ivo),position:r.F5.Inline};break;case n.ZL.Info:t="squiggly-info",i=(0,a.EN)(o.eS),s=10;break;case n.ZL.Error:default:t="squiggly-error",i=(0,a.EN)(o.lK),s=30,u={color:(0,a.EN)(c.Gj_),position:r.F5.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(g="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(g="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:r.sh.Right},minimap:u,zIndex:s,inlineClassName:g}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};p=m([_(0,g.q),_(1,n.lT)],p)}}]);