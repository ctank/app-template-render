"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5719],{19846:function(i,e,t){t.d(e,{M:function(){return w},z:function(){return I}});var s=t(34441),n=t(43800),h=t(28638),a=t(16308),o=t(86741),r=t(56709),l=t(38431),m=t(98726),d=t(44929),u=t(14818);const c={separatorBorder:o.Il.transparent};class p{constructor(i,e,t,s){this.container=i,this.view=e,this.disposable=s,this._cachedVisibleSize=void 0,"number"==typeof t?(this._size=t,this._cachedVisibleSize=void 0,i.classList.add("visible")):(this._size=0,this._cachedVisibleSize=t.cachedVisibleSize)}set size(i){this._size=i}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(i,e){var t,s;i!==this.visible&&(i?(this.size=(0,m.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof e?e:this.size,this.size=0),this.container.classList.toggle("visible",i),null===(s=(t=this.view).setVisible)||void 0===s||s.call(t,i))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(i){this.container.style.pointerEvents=i?"":"none"}layout(i,e){this.layoutContainer(i),this.view.layout(this.size,i,e)}dispose(){return this.disposable.dispose(),this.view}}class v extends p{layoutContainer(i){this.container.style.top=`${i}px`,this.container.style.height=`${this.size}px`}}class S extends p{layoutContainer(i){this.container.style.left=`${i}px`,this.container.style.width=`${this.size}px`}}var z,w;!function(i){i[i.Idle=0]="Idle",i[i.Busy=1]="Busy"}(z||(z={})),function(i){i.Distribute={type:"distribute"},i.Split=function(i){return{type:"split",index:i}},i.Invisible=function(i){return{type:"invisible",cachedVisibleSize:i}}}(w||(w={}));class I extends l.JT{constructor(i,e={}){var t,n,a,o,l;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=z.Idle,this._onDidSashChange=this._register(new r.Q5),this._onDidSashReset=this._register(new r.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(t=e.orientation)&&void 0!==t?t:0,this.inverseAltBehavior=null!==(n=e.inverseAltBehavior)&&void 0!==n&&n,this.proportionalLayout=null===(a=e.proportionalLayout)||void 0===a||a,this.getSashOrthogonalSize=e.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),i.appendChild(this.el),this.sashContainer=(0,s.R3)(this.el,(0,s.$)(".sash-container")),this.viewContainer=(0,s.$)(".split-view-container"),this.scrollable=new d.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:s.jL}),this.scrollableElement=this._register(new h.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(o=e.scrollbarVisibility)&&void 0!==o?o:1:2,horizontal:1===this.orientation?null!==(l=e.scrollbarVisibility)&&void 0!==l?l:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((i=>{this.viewContainer.scrollTop=i.scrollTop,this.viewContainer.scrollLeft=i.scrollLeft}))),(0,s.R3)(this.el,this.scrollableElement.getDomNode()),this.style(e.styles||c),e.descriptor&&(this.size=e.descriptor.size,e.descriptor.views.forEach(((i,e)=>{const t=u.o8(i.visible)||i.visible?i.size:{type:"invisible",cachedVisibleSize:i.size},s=i.view;this.doAddView(s,t,e,!0)})),this.contentSize=this.viewItems.reduce(((i,e)=>i+e.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(i){for(const e of this.sashItems)e.sash.orthogonalStartSash=i;this._orthogonalStartSash=i}set orthogonalEndSash(i){for(const e of this.sashItems)e.sash.orthogonalEndSash=i;this._orthogonalEndSash=i}set startSnappingEnabled(i){this._startSnappingEnabled!==i&&(this._startSnappingEnabled=i,this.updateSashEnablement())}set endSnappingEnabled(i){this._endSnappingEnabled!==i&&(this._endSnappingEnabled=i,this.updateSashEnablement())}style(i){i.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",i.separatorBorder.toString()))}addView(i,e,t=this.viewItems.length,s){this.doAddView(i,e,t,s)}layout(i,e){const t=Math.max(this.size,this.contentSize);if(this.size=i,this.layoutContext=e,this.proportions)for(let e=0;e<this.viewItems.length;e++){const t=this.viewItems[e];t.size=(0,m.uZ)(Math.round(this.proportions[e]*i),t.minimumSize,t.maximumSize)}else{const e=(0,a.w6)(this.viewItems.length),s=e.filter((i=>1===this.viewItems[i].priority)),n=e.filter((i=>2===this.viewItems[i].priority));this.resize(this.viewItems.length-1,i-t,void 0,s,n)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((i=>i.size/this.contentSize)))}onSashStart({sash:i,start:e,alt:t}){for(const i of this.viewItems)i.enabled=!1;const n=this.sashItems.findIndex((e=>e.sash===i)),h=(0,l.F8)((0,s.nm)(document.body,"keydown",(i=>o(this.sashDragState.current,i.altKey))),(0,s.nm)(document.body,"keyup",(()=>o(this.sashDragState.current,!1)))),o=(i,e)=>{const t=this.viewItems.map((i=>i.size));let s,o,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(e=!e),e){if(n===this.sashItems.length-1){const i=this.viewItems[n];r=(i.minimumSize-i.size)/2,l=(i.maximumSize-i.size)/2}else{const i=this.viewItems[n+1];r=(i.size-i.maximumSize)/2,l=(i.size-i.minimumSize)/2}}if(!e){const i=(0,a.w6)(n,-1),e=(0,a.w6)(n+1,this.viewItems.length),h=i.reduce(((i,e)=>i+(this.viewItems[e].minimumSize-t[e])),0),r=i.reduce(((i,e)=>i+(this.viewItems[e].viewMaximumSize-t[e])),0),l=0===e.length?Number.POSITIVE_INFINITY:e.reduce(((i,e)=>i+(t[e]-this.viewItems[e].minimumSize)),0),m=0===e.length?Number.NEGATIVE_INFINITY:e.reduce(((i,e)=>i+(t[e]-this.viewItems[e].viewMaximumSize)),0),d=Math.max(h,m),u=Math.min(l,r),c=this.findFirstSnapIndex(i),p=this.findFirstSnapIndex(e);if("number"==typeof c){const i=this.viewItems[c],e=Math.floor(i.viewMinimumSize/2);s={index:c,limitDelta:i.visible?d-e:d+e,size:i.size}}if("number"==typeof p){const i=this.viewItems[p],e=Math.floor(i.viewMinimumSize/2);o={index:p,limitDelta:i.visible?u+e:u-e,size:i.size}}}this.sashDragState={start:i,current:i,index:n,sizes:t,minDelta:r,maxDelta:l,alt:e,snapBefore:s,snapAfter:o,disposable:h}};o(e,t)}onSashChange({current:i}){const{index:e,start:t,sizes:s,alt:n,minDelta:h,maxDelta:a,snapBefore:o,snapAfter:r}=this.sashDragState;this.sashDragState.current=i;const l=i-t,m=this.resize(e,l,s,void 0,void 0,h,a,o,r);if(n){const i=e===this.sashItems.length-1,t=this.viewItems.map((i=>i.size)),s=i?e:e+1,n=this.viewItems[s],h=n.size-n.maximumSize,a=n.size-n.minimumSize,o=i?e-1:e+1;this.resize(o,-m,t,void 0,void 0,h,a)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(i){this._onDidSashChange.fire(i),this.sashDragState.disposable.dispose(),this.saveProportions();for(const i of this.viewItems)i.enabled=!0}onViewChange(i,e){const t=this.viewItems.indexOf(i);t<0||t>=this.viewItems.length||(e="number"==typeof e?e:i.size,e=(0,m.uZ)(e,i.minimumSize,i.maximumSize),this.inverseAltBehavior&&t>0?(this.resize(t-1,Math.floor((i.size-e)/2)),this.distributeEmptySpace(),this.layoutViews()):(i.size=e,this.relayout([t],void 0)))}resizeView(i,e){if(this.state!==z.Idle)throw new Error("Cant modify splitview");if(this.state=z.Busy,i<0||i>=this.viewItems.length)return;const t=(0,a.w6)(this.viewItems.length).filter((e=>e!==i)),s=[...t.filter((i=>1===this.viewItems[i].priority)),i],n=t.filter((i=>2===this.viewItems[i].priority)),h=this.viewItems[i];e=Math.round(e),e=(0,m.uZ)(e,h.minimumSize,Math.min(h.maximumSize,this.size)),h.size=e,this.relayout(s,n),this.state=z.Idle}distributeViewSizes(){const i=[];let e=0;for(const t of this.viewItems)t.maximumSize-t.minimumSize>0&&(i.push(t),e+=t.size);const t=Math.floor(e/i.length);for(const e of i)e.size=(0,m.uZ)(t,e.minimumSize,e.maximumSize);const s=(0,a.w6)(this.viewItems.length),n=s.filter((i=>1===this.viewItems[i].priority)),h=s.filter((i=>2===this.viewItems[i].priority));this.relayout(n,h)}getViewSize(i){return i<0||i>=this.viewItems.length?-1:this.viewItems[i].size}doAddView(i,e,t=this.viewItems.length,h){if(this.state!==z.Idle)throw new Error("Cant modify splitview");this.state=z.Busy;const o=(0,s.$)(".split-view-view");t===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(t));const m=i.onDidChange((i=>this.onViewChange(p,i))),d=(0,l.OF)((()=>this.viewContainer.removeChild(o))),u=(0,l.F8)(m,d);let c;c="number"==typeof e?e:"split"===e.type?this.getViewSize(e.index)/2:"invisible"===e.type?{cachedVisibleSize:e.cachedVisibleSize}:i.minimumSize;const p=0===this.orientation?new v(o,i,c,u):new S(o,i,c,u);if(this.viewItems.splice(t,0,p),this.viewItems.length>1){const i={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},e=0===this.orientation?new n.g(this.sashContainer,{getHorizontalSashTop:i=>this.getSashPosition(i),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},i),{orientation:1})):new n.g(this.sashContainer,{getVerticalSashLeft:i=>this.getSashPosition(i),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},i),{orientation:0})),s=0===this.orientation?i=>({sash:e,start:i.startY,current:i.currentY,alt:i.altKey}):i=>({sash:e,start:i.startX,current:i.currentX,alt:i.altKey}),h=r.ju.map(e.onDidStart,s)(this.onSashStart,this),o=r.ju.map(e.onDidChange,s)(this.onSashChange,this),m=r.ju.map(e.onDidEnd,(()=>this.sashItems.findIndex((i=>i.sash===e)))),d=m(this.onSashEnd,this),u=e.onDidReset((()=>{const i=this.sashItems.findIndex((i=>i.sash===e)),t=(0,a.w6)(i,-1),s=(0,a.w6)(i+1,this.viewItems.length),n=this.findFirstSnapIndex(t),h=this.findFirstSnapIndex(s);("number"!=typeof n||this.viewItems[n].visible)&&("number"!=typeof h||this.viewItems[h].visible)&&this._onDidSashReset.fire(i)})),c=(0,l.F8)(h,o,d,u,e),p={sash:e,disposable:c};this.sashItems.splice(t-1,0,p)}let w;o.appendChild(i.element),"number"!=typeof e&&"split"===e.type&&(w=[e.index]),h||this.relayout([t],w),this.state=z.Idle,h||"number"==typeof e||"distribute"!==e.type||this.distributeViewSizes()}relayout(i,e){const t=this.viewItems.reduce(((i,e)=>i+e.size),0);this.resize(this.viewItems.length-1,this.size-t,void 0,i,e),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(i,e,t=this.viewItems.map((i=>i.size)),s,n,h=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,r,l){if(i<0||i>=this.viewItems.length)return 0;const d=(0,a.w6)(i,-1),u=(0,a.w6)(i+1,this.viewItems.length);if(n)for(const i of n)(0,a.zI)(d,i),(0,a.zI)(u,i);if(s)for(const i of s)(0,a.al)(d,i),(0,a.al)(u,i);const c=d.map((i=>this.viewItems[i])),p=d.map((i=>t[i])),v=u.map((i=>this.viewItems[i])),S=u.map((i=>t[i])),z=d.reduce(((i,e)=>i+(this.viewItems[e].minimumSize-t[e])),0),w=d.reduce(((i,e)=>i+(this.viewItems[e].maximumSize-t[e])),0),I=0===u.length?Number.POSITIVE_INFINITY:u.reduce(((i,e)=>i+(t[e]-this.viewItems[e].minimumSize)),0),b=0===u.length?Number.NEGATIVE_INFINITY:u.reduce(((i,e)=>i+(t[e]-this.viewItems[e].maximumSize)),0),g=Math.max(z,b,h),f=Math.min(I,w,o);let y=!1;if(r){const i=this.viewItems[r.index],t=e>=r.limitDelta;y=t!==i.visible,i.setVisible(t,r.size)}if(!y&&l){const i=this.viewItems[l.index],t=e<l.limitDelta;y=t!==i.visible,i.setVisible(t,l.size)}if(y)return this.resize(i,e,t,s,n,h,o);for(let i=0,t=e=(0,m.uZ)(e,g,f);i<c.length;i++){const e=c[i],s=(0,m.uZ)(p[i]+t,e.minimumSize,e.maximumSize);t-=s-p[i],e.size=s}for(let i=0,t=e;i<v.length;i++){const e=v[i],s=(0,m.uZ)(S[i]-t,e.minimumSize,e.maximumSize);t+=s-S[i],e.size=s}return e}distributeEmptySpace(i){const e=this.viewItems.reduce(((i,e)=>i+e.size),0);let t=this.size-e;const s=(0,a.w6)(this.viewItems.length-1,-1),n=s.filter((i=>1===this.viewItems[i].priority)),h=s.filter((i=>2===this.viewItems[i].priority));for(const i of h)(0,a.zI)(s,i);for(const i of n)(0,a.al)(s,i);"number"==typeof i&&(0,a.al)(s,i);for(let i=0;0!==t&&i<s.length;i++){const e=this.viewItems[s[i]],n=(0,m.uZ)(e.size+t,e.minimumSize,e.maximumSize);t-=n-e.size,e.size=n}}layoutViews(){this.contentSize=this.viewItems.reduce(((i,e)=>i+e.size),0);let i=0;for(const e of this.viewItems)e.layout(i,this.layoutContext),i+=e.size;this.sashItems.forEach((i=>i.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let i=!1;const e=this.viewItems.map((e=>i=e.size-e.minimumSize>0||i));i=!1;const t=this.viewItems.map((e=>i=e.maximumSize-e.size>0||i)),s=[...this.viewItems].reverse();i=!1;const n=s.map((e=>i=e.size-e.minimumSize>0||i)).reverse();i=!1;const h=s.map((e=>i=e.maximumSize-e.size>0||i)).reverse();let o=0;for(let i=0;i<this.sashItems.length;i++){const{sash:s}=this.sashItems[i];o+=this.viewItems[i].size;const r=!(e[i]&&h[i+1]),l=!(t[i]&&n[i+1]);if(r&&l){const t=(0,a.w6)(i,-1),h=(0,a.w6)(i+1,this.viewItems.length),r=this.findFirstSnapIndex(t),l=this.findFirstSnapIndex(h),m="number"==typeof r&&!this.viewItems[r].visible,d="number"==typeof l&&!this.viewItems[l].visible;m&&n[i]&&(o>0||this.startSnappingEnabled)?s.state=1:d&&e[i]&&(o<this.contentSize||this.endSnappingEnabled)?s.state=2:s.state=0}else s.state=r&&!l?1:!r&&l?2:3}}getSashPosition(i){let e=0;for(let t=0;t<this.sashItems.length;t++)if(e+=this.viewItems[t].size,this.sashItems[t].sash===i)return e;return 0}findFirstSnapIndex(i){for(const e of i){const i=this.viewItems[e];if(i.visible&&i.snap)return e}for(const e of i){const i=this.viewItems[e];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return e}}dispose(){super.dispose(),(0,l.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach((i=>i.disposable.dispose())),this.sashItems=[]}}}}]);