"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[2427],{56797:function(t,e,n){n.d(e,{Id:function(){return D},Mm:function(){return k},vr:function(){return S}});var i=n(34441),s=n(6544),o=n(85898),c=n(59525),a=n(98299),l=n(49553),r=n(38431),d=n(11138),h=n(26386),u=n(21208),m=n(70499),_=n(36953),f=n(44333),p=n(55495),g=n(97968),v=n(75295),b=n(58566),A=n(49914),y=n(14818),w=function(t,e,n,i){var s,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(c=(o<3?s(c):o>3?s(e,n,c):s(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},C=function(t,e){return function(n,i){e(n,i,t)}},I=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function c(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}l((i=i.apply(t,e||[])).next())}))};function S(t,e,n,i,s,o,c){const l=t.getActions(e);return function(t,e,n,i=(t=>"navigation"===t),s=Number.MAX_SAFE_INTEGER,o=(()=>!1),c=!1){let l,r;Array.isArray(e)?(l=e,r=e):(l=e.primary,r=e.secondary);const d=new Set;for(const[e,s]of t){let t;i(e)?(t=l,t.length>0&&c&&t.push(new a.Z0)):(t=r,t.length>0&&t.push(new a.Z0));for(let i of s){n&&(i=i instanceof u.U8&&i.alt?i.alt:i);const s=t.push(i);i instanceof a.wY&&d.add({group:e,action:i,index:s-1})}}for(const{group:t,action:e,index:n}of d){const c=i(t)?l:r,a=e.actions;(a.length<=1||c.length+a.length-2<=s)&&o(e,t,c.length)&&c.splice(n,1,...a)}if(l!==r&&l.length>s){const t=l.splice(s,l.length-s);r.unshift(...t,new a.Z0)}}(l,n,!1,"string"==typeof i?t=>t===i:i,s,o,c),function(t){const e=new r.SL;for(const[,n]of t)for(const t of n)e.add(t);return e}(l)}let k=class extends o.g{constructor(t,e,n,s,o,c,a){super(void 0,t,{icon:!(!t.class&&!t.item.icon),label:!t.class&&!t.item.icon,draggable:null==e?void 0:e.draggable,keybinding:null==e?void 0:e.keybinding,hoverDelegate:null==e?void 0:e.hoverDelegate}),this._keybindingService=n,this._notificationService=s,this._contextKeyService=o,this._themeService=c,this._contextMenuService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new r.XK),this._altKey=i._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(t){return I(this,void 0,void 0,(function*(){t.preventDefault(),t.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}))}render(t){super.render(t),t.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let e=!1,n=this._altKey.keyStatus.altKey||(d.ED||d.IJ)&&this._altKey.keyStatus.shiftKey;const s=()=>{var t;const i=e&&n&&!!(null===(t=this._commandAction.alt)||void 0===t?void 0:t.enabled);i!==this._wantsAltCommand&&(this._wantsAltCommand=i,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((t=>{n=t.altKey||(d.ED||d.IJ)&&t.shiftKey,s()}))),this._register((0,i.nm)(t,"mouseleave",(t=>{e=!1,s()}))),this._register((0,i.nm)(t,"mouseenter",(t=>{e=!0,s()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var t;const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),n=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let s=n?(0,h.NC)("titleAndKb","{0} ({1})",i,n):i;if(!this._wantsAltCommand&&(null===(t=this._menuItemAction.alt)||void 0===t?void 0:t.enabled)){const t=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,e=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),n=e&&e.getLabel(),i=n?(0,h.NC)("titleAndKb","{0} ({1})",t,n):t;s=(0,h.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",s,l.xo.modifierLabels[d.OS].altKey,i)}return s}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(t){var e;this._itemClassDispose.value=void 0;const{element:n,label:s}=this;if(!n||!s)return;const o=this._commandAction.checked&&(null===(e=t.toggled)||void 0===e?void 0:e.icon)?t.toggled.icon:t.icon;if(o)if(b.kS.isThemeIcon(o)){const t=b.kS.asClassNameArray(o);s.classList.add(...t),this._itemClassDispose.value=(0,r.OF)((()=>{s.classList.remove(...t)}))}else s.style.backgroundImage=(0,A._T)(this._themeService.getColorTheme().type)?(0,i.wY)(o.dark):(0,i.wY)(o.light),s.classList.add("icon"),this._itemClassDispose.value=(0,r.F8)((0,r.OF)((()=>{s.style.backgroundImage="",s.classList.remove("icon")})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}};k=w([C(2,p.d),C(3,g.lT),C(4,m.i6),C(5,b.XE),C(6,_.i)],k);let x=class extends c.C{constructor(t,e,n,i){var s,o;const c=Object.assign({},null!=e?e:Object.create(null),{menuAsChild:null!==(s=null==e?void 0:e.menuAsChild)&&void 0!==s&&s,classNames:null!==(o=null==e?void 0:e.classNames)&&void 0!==o?o:b.kS.isThemeIcon(t.item.icon)?b.kS.asClassName(t.item.icon):void 0});super(t,{getActions:()=>t.actions},n,c),this._contextMenuService=n,this._themeService=i}render(t){super.render(t),(0,y.p_)(this.element),t.classList.add("menu-entry");const e=this._action,{icon:n}=e.item;if(n&&!b.kS.isThemeIcon(n)){this.element.classList.add("icon");const t=()=>{this.element&&(this.element.style.backgroundImage=(0,A._T)(this._themeService.getColorTheme().type)?(0,i.wY)(n.dark):(0,i.wY)(n.light))};t(),this._register(this._themeService.onDidColorThemeChange((()=>{t()})))}}};x=w([C(2,_.i),C(3,b.XE)],x);let K=class extends o.Y{constructor(t,e,n,i,s,o,l,r){var d,h,m;let _;super(null,t),this._keybindingService=n,this._notificationService=i,this._contextMenuService=s,this._menuService=o,this._instaService=l,this._storageService=r,this._container=null,this._options=e,this._storageKey=`${t.item.submenu.id}_lastActionId`;const f=r.get(this._storageKey,1);f&&(_=t.actions.find((t=>f===t.id))),_||(_=t.actions[0]),this._defaultAction=this._instaService.createInstance(k,_,{keybinding:this._getDefaultActionKeybindingLabel(_)});const p=Object.assign({},null!=e?e:Object.create(null),{menuAsChild:null===(d=null==e?void 0:e.menuAsChild)||void 0===d||d,classNames:null!==(h=null==e?void 0:e.classNames)&&void 0!==h?h:["codicon","codicon-chevron-down"],actionRunner:null!==(m=null==e?void 0:e.actionRunner)&&void 0!==m?m:new a.Wi});this._dropdown=new c.C(t,t.actions,this._contextMenuService,p),this._dropdown.actionRunner.onDidRun((t=>{t.action instanceof u.U8&&this.update(t.action)}))}update(t){this._storageService.store(this._storageKey,t.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(k,t,{keybinding:this._getDefaultActionKeybindingLabel(t)}),this._defaultAction.actionRunner=new class extends a.Wi{runAction(t,e){return I(this,void 0,void 0,(function*(){yield t.run(void 0)}))}},this._container&&this._defaultAction.render((0,i.Ce)(this._container,(0,i.$)(".action-container")))}_getDefaultActionKeybindingLabel(t){var e;let n;if(null===(e=this._options)||void 0===e?void 0:e.renderKeybindingWithDefaultActionLabel){const e=this._keybindingService.lookupKeybinding(t.id);e&&(n=`(${e.getLabel()})`)}return n}setActionContext(t){super.setActionContext(t),this._defaultAction.setActionContext(t),this._dropdown.setActionContext(t)}render(t){this._container=t,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const e=(0,i.$)(".action-container");this._defaultAction.render((0,i.R3)(this._container,e)),this._register((0,i.nm)(e,i.tw.KEY_DOWN,(t=>{const e=new s.y(t);e.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),e.stopPropagation())})));const n=(0,i.$)(".dropdown-action-container");this._dropdown.render((0,i.R3)(this._container,n)),this._register((0,i.nm)(n,i.tw.KEY_DOWN,(t=>{var e;const n=new s.y(t);n.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(e=this._defaultAction.element)||void 0===e||e.focus(),n.stopPropagation())})))}focus(t){t?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(t){t?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function D(t,e,n){return e instanceof u.U8?t.createInstance(k,e,n):e instanceof u.NZ?e.item.rememberDefaultAction?t.createInstance(K,e,n):t.createInstance(x,e,n):void 0}K=w([C(2,p.d),C(3,g.lT),C(4,_.i),C(5,u.co),C(6,f.TG),C(7,v.Uy)],K)}}]);