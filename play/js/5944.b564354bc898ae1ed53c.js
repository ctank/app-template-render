"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5944],{22852:function(e,l,t){t.d(l,{Z:function(){return m}});var n=t(27875),o=t(77733),r=t(74450),a=t(72713),s=t(63709),i=t(40641),d=t(92322),u=t(71302);var c=t(29114);function p(e){const l=(0,n.f3)(s.m),t=(0,c.s)("table"),{handleDoubleClick:o,handleClick:r,handleContextMenu:p,handleMouseEnter:h,handleMouseLeave:m,handleCellMouseEnter:v,handleCellMouseLeave:f,tooltipContent:g,tooltipTrigger:y}=function(e){const l=(0,n.f3)(s.m),t=(0,i.iH)(""),o=(0,i.iH)((0,n.h)("div")),r=(t,n,o)=>{var r;const s=l,i=(0,a.$S)(t);let d;const u=null==(r=null==s?void 0:s.vnode.el)?void 0:r.dataset.prefix;i&&(d=(0,a.Vl)({columns:e.store.states.columns.value},i,u),d&&(null==s||s.emit(`cell-${o}`,n,d,i,t))),null==s||s.emit(`row-${o}`,n,d,t)};return{handleDoubleClick:(e,l)=>{r(e,l,"dblclick")},handleClick:(l,t)=>{e.store.commit("setCurrentRow",t),r(l,t,"click")},handleContextMenu:(e,l)=>{r(e,l,"contextmenu")},handleMouseEnter:(0,d.Z)((l=>{e.store.commit("setHoverRow",l)}),30),handleMouseLeave:(0,d.Z)((()=>{e.store.commit("setHoverRow",null)}),30),handleCellMouseEnter:(t,n,o)=>{var r;const s=l,i=(0,a.$S)(t),d=null==(r=null==s?void 0:s.vnode.el)?void 0:r.dataset.prefix;if(i){const l=(0,a.Vl)({columns:e.store.states.columns.value},i,d),o=s.hoverState={cell:i,column:l,row:n};null==s||s.emit("cell-mouse-enter",o.row,o.column,o.cell,t)}const c=t.target.querySelector(".cell");if(!(0,u.pv)(c,`${d}-tooltip`)||!c.childNodes.length)return;const p=document.createRange();p.setStart(c,0),p.setEnd(c,c.childNodes.length),(p.getBoundingClientRect().width+((Number.parseInt((0,u.C2)(c,"paddingLeft"),10)||0)+(Number.parseInt((0,u.C2)(c,"paddingRight"),10)||0))>c.offsetWidth||c.scrollWidth>c.offsetWidth)&&(0,a._D)(null==l?void 0:l.refs.tableWrapper,i,i.innerText||i.textContent,{placement:"top",strategy:"fixed"},o)},handleCellMouseLeave:e=>{if(!(0,a.$S)(e))return;const t=null==l?void 0:l.hoverState;null==l||l.emit("cell-mouse-leave",null==t?void 0:t.row,null==t?void 0:t.column,null==t?void 0:t.cell,e)},tooltipContent:t,tooltipTrigger:o}}(e),{getRowStyle:C,getRowClass:w,getCellStyle:b,getCellClass:x,getSpan:S,getColspanRealWidth:N}=function(e){const l=(0,n.f3)(s.m),t=(0,c.s)("table");return{getRowStyle:(e,t)=>{const n=null==l?void 0:l.props.rowStyle;return"function"==typeof n?n.call(null,{row:e,rowIndex:t}):n||null},getRowClass:(n,o)=>{const r=[t.e("row")];(null==l?void 0:l.props.highlightCurrentRow)&&n===e.store.states.currentRow.value&&r.push("current-row"),e.stripe&&o%2==1&&r.push(t.em("row","striped"));const a=null==l?void 0:l.props.rowClassName;return"string"==typeof a?r.push(a):"function"==typeof a&&r.push(a.call(null,{row:n,rowIndex:o})),r},getCellStyle:(t,n,o,r)=>{const s=null==l?void 0:l.props.cellStyle;let i=null!=s?s:{};"function"==typeof s&&(i=s.call(null,{rowIndex:t,columnIndex:n,row:o,column:r}));const d=r.isSubColumn?null:(0,a.Gt)(n,null==e?void 0:e.fixed,e.store);return(0,a.fL)(d,"left"),(0,a.fL)(d,"right"),Object.assign({},i,d)},getCellClass:(n,o,r,s)=>{const i=s.isSubColumn?[]:(0,a.ty)(t.b(),o,null==e?void 0:e.fixed,e.store),d=[s.id,s.align,s.className,...i],u=null==l?void 0:l.props.cellClassName;return"string"==typeof u?d.push(u):"function"==typeof u&&d.push(u.call(null,{rowIndex:n,columnIndex:o,row:r,column:s})),d.push(t.e("cell")),d.filter((e=>Boolean(e))).join(" ")},getSpan:(e,t,n,o)=>{let r=1,a=1;const s=null==l?void 0:l.props.spanMethod;if("function"==typeof s){const l=s({row:e,column:t,rowIndex:n,columnIndex:o});Array.isArray(l)?(r=l[0],a=l[1]):"object"==typeof l&&(r=l.rowspan,a=l.colspan)}return{rowspan:r,colspan:a}},getColspanRealWidth:(e,l,t)=>{if(l<1)return e[t].realWidth;const n=e.map((({realWidth:e,width:l})=>e||l)).slice(t,t+l);return Number(n.reduce(((e,l)=>Number(e)+Number(l)),-1))}}}(e),W=(0,n.Fl)((()=>e.store.states.columns.value.findIndex((({type:e})=>"default"===e)))),A=(e,t)=>{const n=l.props.rowKey;return n?(0,a.WO)(e,n):t},O=(a,s,i,d=!1)=>{const{tooltipEffect:u,store:c}=e,{indent:g,columns:y}=c.states,O=w(a,s);let R=!0;i&&(O.push(t.em("row",`level-${i.level}`)),R=i.display);const M=R?null:{display:"none"};return(0,n.h)("tr",{style:[M,C(a,s)],class:O,key:A(a,s),onDblclick:e=>o(e,a),onClick:e=>r(e,a),onContextmenu:e=>p(e,a),onMouseenter:()=>h(s),onMouseleave:m},y.value.map(((t,o)=>{const{rowspan:r,colspan:c}=S(a,t,s,o);if(!r||!c)return null;const p={...t};p.realWidth=N(y.value,c,o);const h={store:e.store,_self:e.context||l,column:p,row:a,$index:s,cellIndex:o,expanded:d};o===W.value&&i&&(h.treeNode={indent:i.level*g.value,level:i.level},"boolean"==typeof i.expanded&&(h.treeNode.expanded=i.expanded,"loading"in i&&(h.treeNode.loading=i.loading),"noLazyChildren"in i&&(h.treeNode.noLazyChildren=i.noLazyChildren)));const m=`${s},${o}`,C=p.columnKey||p.rawColumnKey||"",w=$(o,t,h);return(0,n.h)("td",{style:b(s,o,a,t),class:x(s,o,a,t),key:`${C}${m}`,rowspan:r,colspan:c,onMouseenter:e=>v(e,a,u),onMouseleave:f},[w])})))},$=(e,l,t)=>l.renderCell(t);return{wrappedRowRender:(t,o)=>{const r=e.store,{isRowExpanded:s,assertRowKey:i}=r,{treeData:d,lazyTreeNodeMap:u,childrenColumnName:c,rowKey:p}=r.states,h=r.states.columns.value;if(h.some((({type:e})=>"expand"===e))){const e=s(t),a=O(t,o,void 0,e),i=l.renderExpanded;return e?i?[[a,(0,n.h)("tr",{key:`expanded-row__${a.key}`},[(0,n.h)("td",{colspan:h.length,class:"el-table__cell el-table__expanded-cell"},[i({row:t,$index:o,store:r,expanded:e})])])]]:a:[[a]]}if(Object.keys(d.value).length){i();const e=(0,a.WO)(t,p.value);let l=d.value[e],n=null;l&&(n={expanded:l.expanded,level:l.level,display:!0},"boolean"==typeof l.lazy&&("boolean"==typeof l.loaded&&l.loaded&&(n.noLazyChildren=!(l.children&&l.children.length)),n.loading=l.loading));const r=[O(t,o,n)];if(l){let n=0;const s=(e,t)=>{e&&e.length&&t&&e.forEach((e=>{const i={display:t.display&&t.expanded,level:t.level+1,expanded:!1,noLazyChildren:!1,loading:!1},h=(0,a.WO)(e,p.value);if(null==h)throw new Error("For nested data item, row-key is required.");if(l={...d.value[h]},l&&(i.expanded=l.expanded,l.level=l.level||i.level,l.display=!(!l.expanded||!i.display),"boolean"==typeof l.lazy&&("boolean"==typeof l.loaded&&l.loaded&&(i.noLazyChildren=!(l.children&&l.children.length)),i.loading=l.loading)),n++,r.push(O(e,o+n,i)),l){const t=u.value[h]||e[c.value];s(t,l)}}))};l.display=!0;const i=u.value[e]||t[c.value];s(i,l)}return r}return O(t,o,void 0)},tooltipContent:g,tooltipTrigger:y}}const h={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var m=(0,n.aZ)({name:"ElTableBody",props:h,setup(e){const l=(0,n.FN)(),t=(0,n.f3)(s.m),i=(0,c.s)("table"),{wrappedRowRender:d,tooltipContent:h,tooltipTrigger:m}=p(e),{onColumnsChange:v,onScrollableChange:f}=(0,r.Z)(t);return(0,n.YP)(e.store.states.hoverRow,((t,n)=>{if(!e.store.states.isComplex.value||!o.C5)return;let r=window.requestAnimationFrame;r||(r=e=>window.setTimeout(e,16)),r((()=>{var e;const o=null==(e=null==l?void 0:l.vnode.el)?void 0:e.querySelectorAll(`.${i.e("row")}`),r=o[n],a=o[t];r&&(0,u.IV)(r,"hover-row"),a&&(0,u.cn)(a,"hover-row")}))})),(0,n.Ah)((()=>{var e;null==(e=a.mU)||e()})),{ns:i,onColumnsChange:v,onScrollableChange:f,wrappedRowRender:d,tooltipContent:h,tooltipTrigger:m}},render(){const{wrappedRowRender:e,store:l}=this,t=l.states.data.value||[];return(0,n.h)("tbody",{},[t.reduce(((l,t)=>l.concat(e(t,l.length))),[])])}})},10390:function(e,l,t){t.d(l,{Z:function(){return v}});var n=t(27875),o=t(40641),r=t(99994),a=t(89559),s=t(72713),i=t(50349);function d(e,l){return e.reduce(((e,l)=>(e[l]=l,e)),l)}var u=t(29114),c=t(30844);function p(e,l,t){const r=(0,n.FN)(),i=(0,o.iH)(""),d=(0,o.iH)(!1),p=(0,o.iH)(),h=(0,o.iH)(),m=(0,u.s)("table");(0,n.m0)((()=>{p.value=e.align?`is-${e.align}`:null,p.value})),(0,n.m0)((()=>{h.value=e.headerAlign?`is-${e.headerAlign}`:p.value,h.value}));const v=(0,n.Fl)((()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e})),f=(0,n.Fl)((()=>{const{store:e}=r.parent;if(!e)return!1;const{treeData:l}=e.states,t=l.value;return t&&Object.keys(t).length>0})),g=(0,o.iH)((0,s.CT)(e.width)),y=(0,o.iH)((0,s._m)(e.minWidth));return{columnId:i,realAlign:p,isSubColumn:d,realHeaderAlign:h,columnOrTableParent:v,setColumnWidth:e=>(g.value&&(e.width=g.value),y.value&&(e.minWidth=y.value),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),setColumnForcedProps:e=>{const l=e.type,t=a.VJ[l]||{};Object.keys(t).forEach((l=>{const n=t[l];"className"!==l&&void 0!==n&&(e[l]=n)}));const n=(0,a.YK)(l);if(n){const l=`${(0,o.SU)(m.namespace)}-${n}`;e.className=e.className?`${e.className} ${l}`:l}return e},setColumnRenders:s=>{e.renderHeader?(0,c.N)("TableColumn","Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==s.type&&(s.renderHeader=e=>{r.columnConfig.value.label;const t=l.header;return t?t(e):s.label});let i=s.renderCell;const d=f.value;return"expand"===s.type?(s.renderCell=e=>(0,n.h)("div",{class:"cell"},[i(e)]),t.value.renderExpanded=e=>l.default?l.default(e):l.default):(i=i||a.ig,s.renderCell=e=>{let t=null;if(l.default){const o=l.default(e);t=o.some((e=>e.type!==n.sv))?o:i(e)}else t=i(e);const u=d&&0===e.cellIndex,c=(0,a.Y$)(e,u),p={class:"cell",style:{}};return s.showOverflowTooltip&&(p.class=`${p.class} ${(0,o.SU)(m.namespace)}-tooltip`,p.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),(e=>{function l(e){var l;"ElTableColumn"===(null==(l=null==e?void 0:e.type)?void 0:l.name)&&(e.vParent=r)}Array.isArray(e)?e.forEach((e=>l(e))):l(e)})(t),(0,n.h)("div",p,[c,t])}),s},getPropsData:(...l)=>l.reduce(((l,t)=>(Array.isArray(t)&&t.forEach((t=>{l[t]=e[t]})),l)),{}),getColumnElIndex:(e,l)=>Array.prototype.indexOf.call(e,l)}}var h={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every((e=>["ascending","descending",null].includes(e)))}};let m=1;var v=(0,n.aZ)({name:"ElTableColumn",components:{ElCheckbox:r.Xb},props:h,setup(e,{slots:l}){const t=(0,n.FN)(),r=(0,o.iH)({}),u=(0,n.Fl)((()=>{let e=t.parent;for(;e&&!e.tableId;)e=e.parent;return e})),{registerNormalWatchers:c,registerComplexWatchers:h}=function(e,l){const t=(0,n.FN)();return{registerComplexWatchers:()=>{const o={realWidth:"width",realMinWidth:"minWidth"},r=d(["fixed"],o);Object.keys(r).forEach((r=>{const a=o[r];(0,i.hasOwn)(l,a)&&(0,n.YP)((()=>l[a]),(l=>{let n=l;"width"===a&&"realWidth"===r&&(n=(0,s.CT)(l)),"minWidth"===a&&"realMinWidth"===r&&(n=(0,s._m)(l)),t.columnConfig.value[a]=n,t.columnConfig.value[r]=n;const o="fixed"===a;e.value.store.scheduleLayout(o)}))}))},registerNormalWatchers:()=>{const e={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=d(["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],e);Object.keys(o).forEach((o=>{const r=e[o];(0,i.hasOwn)(l,r)&&(0,n.YP)((()=>l[r]),(e=>{t.columnConfig.value[o]=e}))}))}}}(u,e),{columnId:v,isSubColumn:f,realHeaderAlign:g,columnOrTableParent:y,setColumnWidth:C,setColumnForcedProps:w,setColumnRenders:b,getPropsData:x,getColumnElIndex:S,realAlign:N}=p(e,l,u),W=y.value;v.value=`${W.tableId||W.columnId}_column_${m++}`,(0,n.wF)((()=>{f.value=u.value!==W;const l=e.type||"default",n=""===e.sortable||e.sortable,o={...a.gv[l],id:v.value,type:l,property:e.prop||e.property,align:N,headerAlign:g,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:n,index:e.index,rawColumnKey:t.vnode.key};let i=x(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);i=(0,s.JH)(o,i);i=(0,s.qC)(b,C,w)(i),r.value=i,c(),h()})),(0,n.bv)((()=>{var e;const l=y.value,n=f.value?l.vnode.el.children:null==(e=l.refs.hiddenColumns)?void 0:e.children,o=()=>S(n||[],t.vnode.el);r.value.getColumnIndex=o;o()>-1&&u.value.store.commit("insertColumn",r.value,f.value?l.columnConfig.value:null)})),(0,n.Jd)((()=>{u.value.store.commit("removeColumn",r.value,f.value?W.columnConfig.value:null)})),t.columnId=v.value,t.columnConfig=r},render(){var e,l,t;try{const o=null==(l=(e=this.$slots).default)?void 0:l.call(e,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(o))for(const e of o)"ElTableColumn"===(null==(t=e.type)?void 0:t.name)||2&e.shapeFlag?r.push(e):e.type===n.HY&&Array.isArray(e.children)&&e.children.forEach((e=>{1024===(null==e?void 0:e.patchFlag)||(0,i.isString)(null==e?void 0:e.children)||r.push(e)}));return(0,n.h)("div",r)}catch(e){return(0,n.h)("div",[])}}})}}]);