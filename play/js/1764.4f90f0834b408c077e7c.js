"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[1764],{4600:function(e,t,a){a.r(t),a.d(t,{default:function(){return r}});var n=a(27875),l=(0,n.Uk)("自定义"),o=(0,n.Uk)("中国行政区域");a(58188),a(1939),a(68995),a(74083),a(99805);var u={name:"CascaderAttr",extends:a(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,t=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(a){if(a.id===e.data.extras.relateOptionField)return t=a.extras.options||[],!1})),t}},watch:{},mounted:function(){},methods:{addOption:function(e){var t=1,a=[];for(this.data.extras.options.forEach((function(e){a.push(parseInt(e.value))}));-1!==a.indexOf(t);)t++;var n={isDefault:!1,value:"".concat(t),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,n):this.data.extras.options.push(n)},deleteOption:function(e){this.data.extras.options.splice(e,1)},changeDefaultOption:function(e){this.data.extras.options.forEach((function(t){t.value!==e.value&&(t.isDefault=!1)}))}}};var r=(0,a(94407).Z)(u,[["render",function(e,t,a,u,r,i){var d=(0,n.up)("base-attr"),s=(0,n.up)("el-tab-pane"),c=(0,n.up)("el-radio"),f=(0,n.up)("el-radio-group"),m=(0,n.up)("el-form-item"),p=(0,n.up)("showConfig"),h=(0,n.up)("el-tabs"),w=(0,n.up)("el-form");return(0,n.wg)(),(0,n.j4)(w,{ref:"form",model:e.data.extras,rules:r.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:e.tabsActives,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tabsActives=t})},{default:(0,n.w5)((function(){return[(0,n.Wm)(s,{label:"基础属性",name:"base"},{default:(0,n.w5)((function(){return[(0,n.Wm)(d,{data:e.data},null,8,["data"])]})),_:1}),(0,n.Wm)(s,{label:"业务属性",name:"extras"},{default:(0,n.w5)((function(){return[(0,n.Wm)(m,{label:"数据类型：",class:"mb_2"},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{modelValue:e.data.extras.dataType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.dataType=t}),disabled:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{label:"custom"},{default:(0,n.w5)((function(){return[l]})),_:1}),(0,n.Wm)(c,{label:"chinaAreaData"},{default:(0,n.w5)((function(){return[o]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),(0,n.Wm)(s,{label:"显示设置",name:"show"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,n.Wm)(s,{label:"只读设置",name:"readonly"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},59149:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});a(74083);var n=a(27875),l=a(50349),o={key:0,class:"custom-table mb-5"},u=(0,n._)("span",null,null,-1),r=(0,n._)("span",null,"数量限制：",-1),i=(0,n._)("i",{class:"iconfont icon-xiangqing"},null,-1),d={key:1,class:"text-center"},s={key:3,class:"text-right",style:{color:"#666"}},c={key:2,class:"custom-table mb-5"};a(58188),a(1939),a(68995),a(99805);var f={name:"CheckBoxAttr",extends:a(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,t=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(a){if(a.id===e.data.extras.relateOptionField)return t=a.extras.options||[],!1})),t}},watch:{"data.id":function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.data.placeholder||(this.data.placeholder="请选择")},addOption:function(e){var t=1,a=[];for(this.data.extras.options.forEach((function(e){a.push(parseInt(e.value))}));-1!==a.indexOf(t);)t++;var n={isDefault:!1,value:"".concat(t),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,n):this.data.extras.options.push(n)},deleteOption:function(e){this.data.extras.options.splice(e,1)},handleDataSourceChange:function(e){"api"===e?(this.data.extras.options=[],this.data.extras.relateOptionField="",this.data.extras.relateAvailableOptions={}):this.data.extras.options=[{isDefault:!1,value:"1",label:"选项一"},{isDefault:!1,value:"2",label:"选项二"},{isDefault:!1,value:"3",label:"选项三"}]}}};var m=(0,a(94407).Z)(f,[["render",function(e,t,a,f,m,p){var h=(0,n.up)("base-attr"),w=(0,n.up)("el-tab-pane"),b=(0,n.up)("el-option"),x=(0,n.up)("el-select"),g=(0,n.up)("el-form-item"),v=(0,n.up)("el-checkbox"),_=(0,n.up)("el-table-column"),W=(0,n.up)("el-input"),V=(0,n.up)("delete"),k=(0,n.up)("el-icon"),y=(0,n.up)("el-table"),O=(0,n.up)("el-switch"),C=(0,n.up)("el-popover"),D=(0,n.up)("row-split"),U=(0,n.up)("showConfig"),L=(0,n.up)("el-tabs"),A=(0,n.up)("el-form");return(0,n.wg)(),(0,n.j4)(A,{ref:"form",model:e.data.extras,rules:m.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,n.w5)((function(){return[(0,n.Wm)(L,{modelValue:e.tabsActives,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.tabsActives=t})},{default:(0,n.w5)((function(){return[(0,n.Wm)(w,{label:"基础属性",name:"base"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{data:e.data},null,8,["data"])]})),_:1}),(0,n.Wm)(w,{label:"业务属性",name:"extras"},{default:(0,n.w5)((function(){return[(0,n.Wm)(g,{label:"数据源：",class:"mb_2"},{default:(0,n.w5)((function(){return[(0,n.Wm)(x,{modelValue:e.data.extras.dataSource,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.dataSource=t}),clearable:"",onChange:p.handleDataSourceChange},{default:(0,n.w5)((function(){return[(0,n.Wm)(b,{label:"配置",value:"custom"}),(0,n.Wm)(b,{label:"接口",value:"api"})]})),_:1},8,["modelValue","onChange"])]})),_:1}),"custom"===e.data.extras.dataSource?((0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(y,{"row-key":"value",prop:"options",data:e.data.extras.options,"max-height":506},{default:(0,n.w5)((function(){return[(0,n.Wm)(_,{"header-align":"center",align:"center",label:"默认值",width:"60px"},{default:(0,n.w5)((function(e){var t=e.row,a=e.$index;return[(0,n.Wm)(v,{"data-mark":"选择框_"+a,modelValue:t.isDefault,"onUpdate:modelValue":function(e){return t.isDefault=e},label:!0,size:"small"},{default:(0,n.w5)((function(){return[u]})),_:2},1032,["data-mark","modelValue","onUpdate:modelValue"])]})),_:1}),(0,n.Wm)(_,{"header-align":"center",align:"center",label:"选项值",width:"60px"},{default:(0,n.w5)((function(e){var t=e.row;return[(0,n.Wm)(W,{class:"w_100",prop:"value",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,n.Wm)(_,{label:"选项名称"},{default:(0,n.w5)((function(e){var t=e.row;return[(0,n.Wm)(W,{class:"w_100",prop:"selectName",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,n.Wm)(_,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,n.w5)((function(e){var t=e.$index;return[(0,n.Wm)(k,{class:"custom-table__icon",onClick:function(e){return p.deleteOption(t)}},{default:(0,n.w5)((function(){return[(0,n.Wm)(V)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,n._)("div",{"data-mark":"添加选项按钮",class:"custom-table__button",onClick:t[1]||(t[1]=function(e){return p.addOption("")})}," +添加选项 ")])):(0,n.kq)("",!0),(0,n.Wm)(g,{label:"支持全选"},{default:(0,n.w5)((function(){return[(0,n.Wm)(O,{modelValue:e.data.extras.checkAll,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.checkAll=t})},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(g,null,{label:(0,n.w5)((function(){return[r,(0,n.Wm)(C,{placement:"top-start",trigger:"hover",content:"为空代表单选"},{reference:(0,n.w5)((function(){return[i]})),_:1})]})),default:(0,n.w5)((function(){return[(0,n.Wm)(D,{colWidths:["calc((100% - 50px) / 2)","10px","calc((100% - 50px) / 2)","40px"]},{default:(0,n.w5)((function(a){return[0===a.data.index?((0,n.wg)(),(0,n.j4)(W,{key:0,class:"w_100",modelValue:e.data.extras.minLimit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.minLimit=t}),modelModifiers:{number:!0},type:"number",onkeypress:"return /^\\d$/.test(event.key)",placeholder:"最少"},null,8,["modelValue"])):(0,n.kq)("",!0),1===a.data.index?((0,n.wg)(),(0,n.iD)("div",d,"-")):(0,n.kq)("",!0),2===a.data.index?((0,n.wg)(),(0,n.j4)(W,{key:2,class:"w_100",modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.maxLimit=t}),modelModifiers:{number:!0},type:"number",onkeypress:"return /^\\d$/.test(event.key)",placeholder:"最多"},null,8,["modelValue"])):(0,n.kq)("",!0),3===a.data.index?((0,n.wg)(),(0,n.iD)("div",s,"个选项")):(0,n.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,n.Wm)(g,{label:"关联选项：",class:"mb_2"},{default:(0,n.w5)((function(){return[(0,n.Wm)(x,{modelValue:e.data.extras.relateOptionField,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.relateOptionField=t}),class:"w_100",filterable:"",clearable:""},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.componentList,(function(t){return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.relateOptionTypes.indexOf(t.type)>=0&&t.id!==e.data.id?((0,n.wg)(),(0,n.j4)(b,{"data-mark":"关联选项字段",label:t.title,value:t.id,key:t.id},null,8,["label","value"])):(0,n.kq)("",!0)],64)})),256))]})),_:1},8,["modelValue"])]})),_:1}),"custom"===e.data.extras.dataSource?((0,n.wg)(),(0,n.j4)(g,{key:1,label:"关联可选项："})):(0,n.kq)("",!0),"custom"===e.data.extras.dataSource?((0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(y,{data:p.relateFieldOptions,"max-height":506},{default:(0,n.w5)((function(){return[(0,n.Wm)(_,{"header-align":"center",align:"center",label:"关联选项",width:"100px"},{default:(0,n.w5)((function(e){var t=e.row;return[(0,n.Uk)((0,l.toDisplayString)(t.label),1)]})),_:1}),(0,n.Wm)(_,{"header-align":"center",align:"center",label:"本组件可选项"},{default:(0,n.w5)((function(t){var a=t.row;return[((0,n.wg)(),(0,n.j4)(x,{class:"w_100",modelValue:e.data.extras.relateAvailableOptions[a.value],"onUpdate:modelValue":function(t){return e.data.extras.relateAvailableOptions[a.value]=t},key:a.label,appendToBody:"",multiple:"",size:"small"},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.data.extras.options,(function(e){return(0,n.wg)(),(0,n.j4)(b,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]))]})),_:1})]})),_:1},8,["data"])])):(0,n.kq)("",!0)]})),_:1}),(0,n.Wm)(w,{label:"显示设置",name:"show"},{default:(0,n.w5)((function(){return[(0,n.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,n.Wm)(w,{label:"只读设置",name:"readonly"},{default:(0,n.w5)((function(){return[(0,n.Wm)(U,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},30621:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var n=a(27875);a(58188),a(1939),a(39529),a(31235);var l=a(56282),o=a(43814),u=a(44792),r=a(87957),i=(a(13987),a(325)),d={name:"baseComponent",components:{baseAttr:l.default,rowSplit:o.Z,showConfig:r.Z,configButton:u.Z},props:{data:{default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},inputListByInputType:{type:Object,default:function(){return{}}}},data:function(){return{usageConditionDialog:null,tabsActives:"base",collapseActives:["base","extras"],relateOptionTypes:["radio","checkBox","select"]}},computed:{fieldId:function(){return this.data.id},filterComponentList:function(){var e=this,t=[];return Array.isArray(this.componentList)&&this.componentList.forEach((function(a){a.id===e.data.id||i.LAYOUT_TYPES.includes(a.type)||t.push(a)})),t}},watch:{},methods:{openUsageConditionDialog:function(e){}}};var s=(0,a(94407).Z)(d,[["render",function(e,t,a,l,o,u){return(0,n.wg)(),(0,n.iD)("div")}]])},56282:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});a(39529);var n=a(27875),l={class:"base-config"},o=(0,n._)("span",null,"字段路径：",-1),u=(0,n._)("i",{class:"iconfont icon-xiangqing"},null,-1),r=(0,n._)("span",{class:"font-color-heavy fz-12"},"必填",-1);var i={name:"baseAttr",mixins:[a(92041).Z],props:{data:{default:function(){return{}}},isShowOnly:{type:Boolean,default:function(){return!1}},isNeedRequired:{type:Boolean,default:function(){return!0}}},data:function(){var e=this;return{dataObjectChange:!1,rules:{title:[{required:!0,trigger:"blur",message:"请填写字段标题"},{validator:function(t,a,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l=e.data||l,(a=a||l.title).length>200?n(new Error("字段标题长度不得超过200个字符"),"warning"):n()}}],fieldPath:[{required:!0,trigger:"blur",message:"请填写字段路径"},{validator:function(t,a,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l=e.data||l,(a=a||l.fieldPath).length>64?n(new Error("字段路径长度不得超过64个字符"),"warning"):n()}}]}}}};var d=(0,a(94407).Z)(i,[["render",function(e,t,a,i,d,s){var c=(0,n.up)("el-input"),f=(0,n.up)("el-form-item"),m=(0,n.up)("el-popover"),p=(0,n.up)("el-checkbox"),h=(0,n.up)("el-form");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(h,{model:a.data,rules:d.rules,"label-width":"90px",size:"small"},{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{label:"标题：",prop:"title"},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{"data-mark":"字段标题输入框",modelValue:a.data.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.data.title=e}),class:"w_100",maxlength:"200"},null,8,["modelValue"])]})),_:1}),(0,n.Wm)(f,{prop:"fieldPath"},{label:(0,n.w5)((function(){return[o,(0,n.Wm)(m,{placement:"top-start",trigger:"hover"},{reference:(0,n.w5)((function(){return[u]})),_:1})]})),default:(0,n.w5)((function(){return[(0,n.Wm)(c,{"data-mark":"字段路径输入框",modelValue:a.data.fieldPath,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.data.fieldPath=e}),class:"w_100",maxlength:"64",disabled:a.data.isSave},null,8,["modelValue","disabled"])]})),_:1}),(0,n.Wm)(f,{prop:"placeholder",label:"提示信息："},{default:(0,n.w5)((function(){return[["textarea","editor"].includes(a.data.type)?((0,n.wg)(),(0,n.j4)(c,{key:0,modelValue:a.data.placeholder,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.data.placeholder=e}),type:"textarea",class:"w_100"},null,8,["modelValue"])):((0,n.wg)(),(0,n.j4)(c,{key:1,modelValue:a.data.placeholder,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.data.placeholder=e}),class:"w_100",maxlength:"32"},null,8,["modelValue"]))]})),_:1}),"generateCode"!==a.data.type&&a.isNeedRequired?((0,n.wg)(),(0,n.j4)(f,{key:0,label:"是否必填："},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,{modelValue:a.data.required,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.data.required=e}),data:!0},{default:(0,n.w5)((function(){return[r]})),_:1},8,["modelValue"])]})),_:1})):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"inside-form")]})),_:3},8,["model","rules"]),(0,n.WI)(e.$slots,"outside-form")])}]])}}]);