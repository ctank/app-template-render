(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[9659],{90937:function(t,e,n){"use strict";n.r(e),n.d(e,{DEFAULT_BUTTON:function(){return o}});var o={buttonName:"",buttonEvent:"",buttonType:"",permission:""}},34880:function(t,e,n){"use strict";n.r(e),n.d(e,{DesignerComponent:function(){return s},DesignerLayout:function(){return l}});n(95094),n(43105),n(34769);var o=n(55164);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=r((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(a(this,t),this.id=r||(0,o.hu)(),this.title=e,this.type=i,this.showTitle=!1,this.dataPath="",this.extras={},i)try{var s=n(18481)("./".concat(i)).default;this.extras=Object.assign(this.extras,(0,o.Xh)(s))}catch(t){}})),l=r((function t(e,i,r){if(a(this,t),this.id=r||(0,o.hu)(),this.type=i||"",this.children=[],e&&(this.title=e),i)try{var s=n(18481)("./".concat(i)).default;if(Object.keys(s).length&&(this.extras=(0,o.Xh)(s),"row"===i))if(this.extras.size)for(var l=0;l<this.extras.size;l+=1)this.children.push(new t("","column"))}catch(t){}}))},81170:function(t,e,n){"use strict";n.r(e),e.default={checkBox:!0,showNum:!0,showPagination:!0,pageSize:[10],columns:[{label:"列",type:"field",permission:"",width:"",align:"left",tag:"null",fieldPath:"",fieldType:"text",format:"",options:[],actionConfig:[]}],operations:[],tableStyle:"borderNoStripe",rowHigh:40}},47871:function(t,e,n){"use strict";n.r(e),e.default={searchEvent:""}},52875:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var o=n(27875);var i={name:"baseComponent",props:{componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},layouts:{type:Array,default:function(){return[]}},layout:{type:Object,default:function(){return{}}}},events:["select"],data:function(){return{}},computed:{currentComponentId:function(){return this.$store.state.form.currentComponentId||""},hoverComponentId:function(){return this.$store.state.form.hoverComponentIds[0]||""},component:function(){return this.componentMap[this.layout.id]||{}}},watch:{}};var r=(0,n(94407).Z)(i,[["render",function(t,e,n,i,r,a){return(0,o.wg)(),(0,o.iD)("div")}]])},25570:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var o=n(27875),i=n(50349),r={class:"component-wrapper component-listview"},a={key:0,class:"mb-3"},s={key:1,class:"mb-3"};var l={name:"ListView",extends:n(52875).default,data:function(){return{value:""}}};var c=(0,n(94407).Z)(l,[["render",function(t,e,n,l,c,u){var d,p,m,f=(0,o.up)("el-button"),h=(0,o.up)("el-table-column"),g=(0,o.up)("el-table"),v=(0,o.up)("el-pagination");return(0,o.wg)(),(0,o.iD)("div",r,[null!==(d=t.component.extras)&&void 0!==d&&d.operations.length?((0,o.wg)(),(0,o.iD)("div",a,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.component.extras.operations,(function(t,e){return(0,o.wg)(),(0,o.j4)(f,{key:e,type:t.buttonType||"default",size:"small"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,i.toDisplayString)(t.buttonName),1)]})),_:2},1032,["type"])})),128))])):(0,o.kq)("",!0),t.component.showTitle?((0,o.wg)(),(0,o.iD)("div",s,(0,i.toDisplayString)(t.component.title),1)):(0,o.kq)("",!0),(0,o.Wm)(g,{data:[{}],border:"",size:"small",style:{width:"100%"},fit:!0},{default:(0,o.w5)((function(){var e,n,i,r,a,s;return[null!==(e=t.component)&&void 0!==e&&null!==(n=e.extras)&&void 0!==n&&n.checkBox?((0,o.wg)(),(0,o.j4)(h,{key:0,resizable:!1,fixed:"left",type:"selection",width:t.w>10?60:40},null,8,["width"])):(0,o.kq)("",!0),null!==(i=t.component)&&void 0!==i&&null!==(r=i.extras)&&void 0!==r&&r.showNum?((0,o.wg)(),(0,o.j4)(h,{key:1,label:"序号",resizable:!1,fixed:"",width:t.w>10?60:50},null,8,["width"])):(0,o.kq)("",!0),(null===(a=t.component)||void 0===a||null===(s=a.extras)||void 0===s?void 0:s.columns.length)>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(t.component.extras.columns,(function(t,e){return(0,o.wg)(),(0,o.j4)(h,{key:e,resizable:!1,"min-width":"110",label:t.label},null,8,["label"])})),128)):((0,o.wg)(),(0,o.j4)(h,{key:3,resizable:!1,label:""}))]})),_:1}),null!==(p=t.component)&&void 0!==p&&null!==(m=p.extras)&&void 0!==m&&m.showPagination?((0,o.wg)(),(0,o.j4)(v,{key:2,small:"",background:"","page-sizes":[1],layout:"prev, pager, next",total:2,class:"mt-3 justify-end"})):(0,o.kq)("",!0)])}]])},68194:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var o=n(27875),i={class:"component-wrapper component-search-form"},r={class:"search-form__item inline-block mr-2 mb-2"},a=(0,o._)("div",{class:"search-form__title text-right text-ellipsis inline-block"},"示例：",-1),s={class:"search-form__field inline-block"};var l={name:"SearchForm",extends:n(52875).default};var c=(0,n(94407).Z)(l,[["render",function(t,e,n,l,c,u){var d=(0,o.up)("el-input");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",r,[a,(0,o._)("div",s,[(0,o.Wm)(d,{size:"small",disabled:""})])])])}]])},65192:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var o=n(27875),i={class:"search-form__item d_inline_block mr_2 mb_2"},r=(0,o._)("div",{class:"search-form__title text_right text_ellipsis d_inline_block"},"实例：",-1),a={class:"search_field d_inline_block"};var s={name:"SearchItem",props:{item:{default:function(){return{}}}},computed:{text:function(){return this.item.text},type:function(){return this.item.type}}};var l=(0,n(94407).Z)(s,[["render",function(t,e,n,s,l,c){var u=(0,o.up)("el-input");return(0,o.wg)(),(0,o.iD)("div",i,[r,(0,o._)("div",a,[(0,o.Wm)(u,{size:"mini",disabled:""})])])}]])},79659:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});n(26936);var o=n(27875),i=n(50349),r=n(14825),a={class:"view-designer__content"},s=["onMouseenter"],l={class:"designer-components__action"},c={class:"view-designer__float"};n(43450),n(18178),n(74083);var u=n(40641),d=n(24048),p=n.n(d),m=n(64599),f=n(34880),h=n(13987),g={name:"DesignerContent",components:{draggable:p()},mixins:[m.Z],props:{layouts:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},data:function(){return{attrDialog:null,viewAttrDialog:null}},computed:{currentComponentId:function(){return this.$store.state.form.currentComponentId||""},hoverComponentId:function(){return this.$store.state.form.hoverComponentIds[0]||""},dragOptions:function(){return{animation:150,ghostClass:"drop-component--ghost",itemKey:"id",group:{name:"components"},filter:".drop-component--disabled"}}},created:function(){this.initRenderComponent(),this.initRenderAttributes()},methods:{initRenderComponent:function(){var t=this;this.$App.component("input-element-render",{props:{type:{type:String,default:function(){return""}},layout:{type:Object,default:function(){return{}}},layouts:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}}},render:function(e){var i=e.type,r=e.layouts,a=e.layout,s=e.componentMap,l=e.componentList;if(i){var c=n(45122)("./".concat(i)).default;return(0,o.h)(c,{layout:a,layouts:r,componentMap:s,componentList:l,onSelect:t.handleComponentSelect,onDelete:t.handleComponentDel})}return(0,o.h)("div")}})},initRenderAttributes:function(){this.$App.component("component-attr-render",{props:{data:{type:Object,default:function(){return null}},componentList:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}}},render:function(t){var e=t.data,i=t.componentList,r=t.componentMap;if(e&&e.type){var a=n(35222)("./".concat(e.type)).default;return(0,o.h)(a,{data:e,componentList:i,componentMap:r})}return(0,o.h)("div")}})},handleComponentChange:function(t){var e=t.added;t.removed,t.moved;if(e){var n=e.element,o=this.menuItemListByType[n.type];if(1===o.classify){for(var i=this.componentList.map((function(t){return t.title})),r=this.componentList.map((function(t){return t.fieldPaths})),a=1,s="".concat(o.name).concat(a);i.indexOf(s)>-1||r.indexOf(s)>-1;)a++,s="".concat(o.name).concat(a);this.componentMap[n.id]=new f.DesignerComponent(s,n.type,n.id)}else this.componentMap[n.id]=n}},handleComponentHover:function(t){this.$store.dispatch("form/addHoverComponentId",t?t.id:"")},handleComponentLeave:function(){this.$store.dispatch("form/removeHoverComponentId")},handleViewAttrShow:function(){var t=this,e={config:this.config},o={confirm:function(e){t.config.name=e.name,t.config.api=e.api,t.$store.dispatch("dialogManager/closeDialog",t.viewAttrDialog.key)},cancel:function(){t.$store.dispatch("dialogManager/closeDialog",t.viewAttrDialog.key)}},i=(0,u.Xl)(n(28761).default);this.viewAttrDialog?(this.viewAttrDialog.props=e,this.viewAttrDialog.events=o,this.$store.dispatch("dialogManager/updateDialog",this.viewAttrDialog)):(this.viewAttrDialog=new h.V(i,e,o,{title:"表单属性",isDestroyByClose:!0,bodyHeight:350}),this.$store.dispatch("dialogManager/addDialog",this.viewAttrDialog)),this.$store.dispatch("dialogManager/openDialog",this.viewAttrDialog.key)},handleComponentSelect:function(t){var e=this,o={component:this.componentMap[t.id],componentMap:this.componentMap,componentList:this.componentList,config:this.config},i={confirm:function(t){e.componentMap[t.id]=t,e.$store.dispatch("dialogManager/closeDialog",e.attrDialog.key)},cancel:function(){e.$store.dispatch("dialogManager/closeDialog",e.attrDialog.key)}},r={title:"组件属性",isDestroyByClose:!0,footerTxt:t.id,bodyHeight:350},a=(0,u.Xl)(n(46052).default);this.attrDialog?(this.attrDialog.props=o,this.attrDialog.events=i,this.$store.dispatch("dialogManager/updateDialog",this.attrDialog)):(this.attrDialog=new h.V(a,o,i,r),this.$store.dispatch("dialogManager/addDialog",this.attrDialog)),this.$store.dispatch("dialogManager/openDialog",this.attrDialog.key)},handleComponentDel:function(t,e){this.$emit("delete",t,e)}}};var v=(0,n(94407).Z)(g,[["render",function(t,e,n,u,d,p){var m=(0,o.up)("input-element-render"),f=(0,o.up)("setting"),h=(0,o.up)("el-icon"),g=(0,o.up)("delete"),v=(0,o.up)("draggable"),y=(0,o.up)("el-button");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(v,(0,o.dG)({class:"designer-components",list:n.layouts},p.dragOptions,{onChange:p.handleComponentChange}),{item:(0,o.w5)((function(t){var a=t.element,c=t.index;return[(0,o._)("div",{class:(0,i.normalizeClass)(["designer-components__item",{"designer-components__item--active":a.id===p.currentComponentId,"designer-components__item--hover":a.id===p.hoverComponentId}]),onMouseenter:(0,r.withModifiers)((function(t){return p.handleComponentHover(a)}),["stop"]),onMouseleave:e[0]||(e[0]=(0,r.withModifiers)((function(t){return p.handleComponentLeave()}),["stop"]))},[((0,o.wg)(),(0,o.j4)(m,{type:a.type,key:a.name,layout:a,layouts:n.layouts,componentMap:n.componentMap,componentList:n.componentList},null,8,["type","layout","layouts","componentMap","componentList"])),(0,o._)("div",l,[(0,o.Wm)(h,{class:"designer-components__config mr-1",onClick:function(t){return p.handleComponentSelect(a)}},{default:(0,o.w5)((function(){return[(0,o.Wm)(f)]})),_:2},1032,["onClick"]),(0,o.Wm)(h,{class:"designer-components__close",onClick:function(t){return p.handleComponentDel(a,c)}},{default:(0,o.w5)((function(){return[(0,o.Wm)(g)]})),_:2},1032,["onClick"])])],42,s)]})),_:1},16,["list","onChange"]),(0,o._)("div",c,[(0,o.Wm)(y,{circle:"",onClick:p.handleViewAttrShow},{default:(0,o.w5)((function(){return[(0,o.Wm)(h,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(f)]})),_:1})]})),_:1},8,["onClick"])])])}]])},45122:function(t,e,n){var o={"./common/base":52875,"./common/base.vue":52875,"./listView":25570,"./listView/":25570,"./listView/index":25570,"./listView/index.vue":25570,"./searchForm":68194,"./searchForm/":68194,"./searchForm/index":68194,"./searchForm/index.vue":68194,"./searchForm/searchFields":65192,"./searchForm/searchFields.vue":65192};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=45122},18481:function(t,e,n){var o={"./":34880,"./constant":90937,"./constant.js":90937,"./index":34880,"./index.js":34880,"./listView":81170,"./listView.js":81170,"./searchForm":47871,"./searchForm.js":47871};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=18481}}]);