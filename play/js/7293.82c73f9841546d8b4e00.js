"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[7293],{91223:function(e,t,n){n.d(t,{S:function(){return i}});const i=(0,n(44333).yh)("textModelService")},21982:function(e,t,n){n.d(t,{C:function(){return o}});var i=n(77511),s=n(11138);function o(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const n of e.deltas)n.data&&(t+=n.data.length)}return t}(e));let n=0;if(t[n++]=e.id,"full"===e.type)t[n++]=1,t[n++]=e.data.length,t.set(e.data,n),n+=e.data.length;else{t[n++]=2,t[n++]=e.deltas.length;for(const i of e.deltas)t[n++]=i.start,t[n++]=i.deleteCount,i.data?(t[n++]=i.data.length,t.set(i.data,n),n+=i.data.length):t[n++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return s.r()||function(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0],i=e[t+1],s=e[t+2],o=e[t+3];e[t+0]=o,e[t+1]=s,e[t+2]=i,e[t+3]=n}}(t),i.KN.wrap(t)}(t)}},79257:function(e,t,n){n.d(t,{$:function(){return c},h:function(){return u}});var i=n(24506),s=n(58566),o=n(59271),r=n(59883),a=n(47626),l=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},h=function(e,t){return function(n,i){t(n,i,e)}};let c=class{constructor(e,t,n,i){this._legend=e,this._themeService=t,this._languageService=n,this._logService=i,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new g}getMetadata(e,t,n){const s=this._languageService.languageIdCodec.encodeLanguageId(n),r=this._hashTable.get(e,t,s);let a;if(r)a=r.metadata,this._logService.getLevel()===o.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${i.N.getForeground(a)}, fontStyle ${i.N.getFontStyle(a).toString(2)}`);else{let r=this._legend.tokenTypes[e];const l=[];if(r){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&l.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===o.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const i=this._themeService.getColorTheme().getTokenStyleMetadata(r,l,n);if(void 0===i)a=2147483647;else{if(a=0,void 0!==i.italic){a|=1|(i.italic?1:0)<<11}if(void 0!==i.bold){a|=2|(i.bold?2:0)<<11}if(void 0!==i.underline){a|=4|(i.underline?4:0)<<11}if(void 0!==i.strikethrough){a|=8|(i.strikethrough?8:0)<<11}if(i.foreground){a|=16|i.foreground<<15}0===a&&(a=2147483647)}}else this._logService.getLevel()===o.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),a=2147483647,r="not-in-legend";this._hashTable.add(e,t,s,a),this._logService.getLevel()===o.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${r}) / ${t} (${l.join(" ")}): foreground ${i.N.getForeground(a)}, fontStyle ${i.N.getFontStyle(a).toString(2)}`)}return a}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0)}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0)}warnInvalidEditStart(e,t,n,i,s){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0)}};function u(e,t,n){const i=e.data,s=e.data.length/5|0,o=Math.max(Math.ceil(s/1024),400),a=[];let l=0,h=1,c=0;for(;l<s;){const e=l;let u=Math.min(e+o,s);if(u<s){let t=u;for(;t-1>e&&0===i[5*t];)t--;if(t-1===e){let e=u;for(;e+1<s&&0===i[5*e];)e++;u=e}else u=t}let d=new Uint32Array(4*(u-e)),g=0,f=0,_=0,S=0;for(;l<u;){const e=5*l,s=i[e],o=i[e+1],r=h+s|0,a=0===s?c+o|0:o,u=a+i[e+2]|0,v=i[e+3],C=i[e+4];if(u<=a)t.warnInvalidLengthSemanticTokens(r,a+1);else if(_===r&&S>a)t.warnOverlappingSemanticTokens(r,a+1);else{const e=t.getMetadata(v,C,n);2147483647!==e&&(0===f&&(f=r),d[g]=r-f,d[g+1]=a,d[g+2]=u,d[g+3]=e,g+=4,_=r,S=u)}h=r,c=a,l++}g!==d.length&&(d=d.subarray(0,g));const v=r.Y.create(f,d);a.push(v)}return a}c=l([h(1,s.XE),h(2,a.O),h(3,o.VZ)],c);class d{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let s=this._elements[i];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===n)return s;s=s.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new d(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},16576:function(e,t,n){n.d(t,{V:function(){return s},y:function(){return o}});var i=n(44333);const s=(0,i.yh)("textResourceConfigurationService"),o=(0,i.yh)("textResourcePropertiesService")},83969:function(e,t,n){n.d(t,{a:function(){return l}});var i=n(50038),s=n(58461),o=n(17416),r=n(14818),a=n(52676);class l{static computeUnicodeHighlights(e,t,n){const l=n?n.startLineNumber:1,c=n?n.endLineNumber:e.getLineCount(),u=new h(t),d=u.getCandidateCodePoints();let g;var f;g="allNonBasicAscii"===d?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(""+(f=Array.from(d),`[${o.ec(f.map((e=>String.fromCodePoint(e))).join(""))}]`),"g");const _=new s.sz(null,g),S=[];let v,C=!1,m=0,p=0,I=0;e:for(let t=l,n=c;t<=n;t++){const n=e.getLineContent(t),s=n.length;_.reset(0);do{if(v=_.next(n),v){let e=v.index,l=v.index+v[0].length;if(e>0){const t=n.charCodeAt(e-1);o.ZG(t)&&e--}if(l+1<s){const e=n.charCodeAt(l-1);o.ZG(e)&&l++}const h=n.substring(e,l),c=(0,a.t2)(e+1,a.Af,n,0),d=u.shouldHighlightNonBasicASCII(h,c?c.word:null);if(0!==d){3===d?m++:2===d?p++:1===d?I++:(0,r.vE)(d);const n=1e3;if(S.length>=n){C=!0;break e}S.push(new i.e(t,e+1,t,l+1))}}}while(v)}return{ranges:S,hasMore:C,ambiguousCharacterCount:m,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:I}}static computeUnicodeHighlightReason(e,t){const n=new h(t);switch(n.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const i=e.codePointAt(0),s=n.ambiguousCharacters.getPrimaryConfusable(i),r=o.ZK.getLocales().filter((e=>!o.ZK.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(i)));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:r}}case 1:return{kind:2}}}}class h{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=o.ZK.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of o.vU.codePoints)c(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const n=e.codePointAt(0);if(this.allowedCodePoints.has(n))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,s=!1;if(t)for(const e of t){const t=e.codePointAt(0),n=o.$i(e);i=i||n,n||this.ambiguousCharacters.isAmbiguous(t)||o.vU.isInvisibleCharacter(t)||(s=!0)}return!i&&s?0:this.options.invisibleCharacters&&!c(e)&&o.vU.isInvisibleCharacter(n)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(n)?3:0}}function c(e){return" "===e||"\n"===e||"\t"===e}}}]);