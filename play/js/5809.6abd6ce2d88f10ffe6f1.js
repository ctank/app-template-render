"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5809],{27319:function(e,n,t){t.d(n,{o:function(){return c}});var i=t(60854),o=t(61669),r=t(8964),s=t(50038),u=t(17416),l=t(81831);class a{constructor(e,n,t){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=n,this.leftoverVisibleColumns=t}}class c{static leftPosition(e,n){if(n.column>e.getLineMinColumn(n.lineNumber))return n.delta(void 0,-u.HO(e.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const t=n.lineNumber-1;return new r.L(t,e.getLineMaxColumn(t))}return n}static leftPositionAtomicSoftTabs(e,n,t){if(n.column<=e.getLineIndentColumn(n.lineNumber)){const i=e.getLineMinColumn(n.lineNumber),o=e.getLineContent(n.lineNumber),s=l.l.atomicPosition(o,n.column-1,t,0);if(-1!==s&&s+1>=i)return new r.L(n.lineNumber,s+1)}return this.leftPosition(e,n)}static left(e,n,t){const i=e.stickyTabStops?c.leftPositionAtomicSoftTabs(n,t,e.tabSize):c.leftPosition(n,t);return new a(i.lineNumber,i.column,0)}static moveLeft(e,n,t,i,o){let r,s;if(t.hasSelection()&&!i)r=t.selection.startLineNumber,s=t.selection.startColumn;else{const i=t.position.delta(void 0,-(o-1)),u=n.normalizePosition(c.clipPositionColumn(i,n),0),l=c.left(e,n,u);r=l.lineNumber,s=l.column}return t.move(i,r,s,0)}static clipPositionColumn(e,n){return new r.L(e.lineNumber,c.clipRange(e.column,n.getLineMinColumn(e.lineNumber),n.getLineMaxColumn(e.lineNumber)))}static clipRange(e,n,t){return e<n?n:e>t?t:e}static rightPosition(e,n,t){return t<e.getLineMaxColumn(n)?t+=u.vH(e.getLineContent(n),t-1):n<e.getLineCount()&&(n+=1,t=e.getLineMinColumn(n)),new r.L(n,t)}static rightPositionAtomicSoftTabs(e,n,t,i,o){if(t<e.getLineIndentColumn(n)){const o=e.getLineContent(n),s=l.l.atomicPosition(o,t-1,i,1);if(-1!==s)return new r.L(n,s+1)}return this.rightPosition(e,n,t)}static right(e,n,t){const i=e.stickyTabStops?c.rightPositionAtomicSoftTabs(n,t.lineNumber,t.column,e.tabSize,e.indentSize):c.rightPosition(n,t.lineNumber,t.column);return new a(i.lineNumber,i.column,0)}static moveRight(e,n,t,i,o){let r,s;if(t.hasSelection()&&!i)r=t.selection.endLineNumber,s=t.selection.endColumn;else{const i=t.position.delta(void 0,o-1),u=n.normalizePosition(c.clipPositionColumn(i,n),1),l=c.right(e,n,u);r=l.lineNumber,s=l.column}return t.move(i,r,s,0)}static vertical(e,n,t,i,s,u,l,c){const m=o.i.visibleColumnFromColumn(n.getLineContent(t),i,e.tabSize)+s,f=n.getLineCount(),h=1===t&&1===i,d=t===f&&i===n.getLineMaxColumn(t),g=u<t?h:d;if((t=u)<1?(t=1,i=l?n.getLineMinColumn(t):Math.min(n.getLineMaxColumn(t),i)):t>f?(t=f,i=l?n.getLineMaxColumn(t):Math.min(n.getLineMaxColumn(t),i)):i=e.columnFromVisibleColumn(n,t,m),s=g?0:m-o.i.visibleColumnFromColumn(n.getLineContent(t),i,e.tabSize),void 0!==c){const e=new r.L(t,i),o=n.normalizePosition(e,c);s+=i-o.column,t=o.lineNumber,i=o.column}return new a(t,i,s)}static down(e,n,t,i,o,r,s){return this.vertical(e,n,t,i,o,t+r,s,4)}static moveDown(e,n,t,i,o){let r,s;t.hasSelection()&&!i?(r=t.selection.endLineNumber,s=t.selection.endColumn):(r=t.position.lineNumber,s=t.position.column);const u=c.down(e,n,r,s,t.leftoverVisibleColumns,o,!0);return t.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateDown(e,n,t){const o=t.selection,u=c.down(e,n,o.selectionStartLineNumber,o.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),l=c.down(e,n,o.positionLineNumber,o.positionColumn,t.leftoverVisibleColumns,1,!1);return new i.rS(new s.e(u.lineNumber,u.column,u.lineNumber,u.column),u.leftoverVisibleColumns,new r.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(e,n,t,i,o,r,s){return this.vertical(e,n,t,i,o,t-r,s,3)}static moveUp(e,n,t,i,o){let r,s;t.hasSelection()&&!i?(r=t.selection.startLineNumber,s=t.selection.startColumn):(r=t.position.lineNumber,s=t.position.column);const u=c.up(e,n,r,s,t.leftoverVisibleColumns,o,!0);return t.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(e,n,t){const o=t.selection,u=c.up(e,n,o.selectionStartLineNumber,o.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),l=c.up(e,n,o.positionLineNumber,o.positionColumn,t.leftoverVisibleColumns,1,!1);return new i.rS(new s.e(u.lineNumber,u.column,u.lineNumber,u.column),u.leftoverVisibleColumns,new r.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(e,n){return 0===e.getLineFirstNonWhitespaceColumn(n)}static moveToPrevBlankLine(e,n,t,i){let o=t.position.lineNumber;for(;o>1&&this._isBlankLine(n,o);)o--;for(;o>1&&!this._isBlankLine(n,o);)o--;return t.move(i,o,n.getLineMinColumn(o),0)}static moveToNextBlankLine(e,n,t,i){const o=n.getLineCount();let r=t.position.lineNumber;for(;r<o&&this._isBlankLine(n,r);)r++;for(;r<o&&!this._isBlankLine(n,r);)r++;return t.move(i,r,n.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,n,t,i){const o=t.position.lineNumber,r=n.getLineMinColumn(o),s=n.getLineFirstNonWhitespaceColumn(o)||r;let u;return u=t.position.column===s?r:s,t.move(i,o,u,0)}static moveToEndOfLine(e,n,t,i,o){const r=t.position.lineNumber,s=n.getLineMaxColumn(r);return t.move(i,r,s,o?1073741824-s:0)}static moveToBeginningOfBuffer(e,n,t,i){return t.move(i,1,1,0)}static moveToEndOfBuffer(e,n,t,i){const o=n.getLineCount(),r=n.getLineMaxColumn(o);return t.move(i,o,r,0)}}},70466:function(e,n,t){t.d(n,{Nu:function(){return L},g_:function(){return b},u6:function(){return p}});var i=t(20996),o=t(17416),r=t(38050),s=t(8453),u=t(23220),l=t(60854),a=t(31599),c=t(50038),m=t(8964),f=t(50282),h=t(29173),d=t(23189),g=t(89026),C=t(14);class p{static indent(e,n,t){if(null===n||null===t)return[];const i=[];for(let n=0,o=t.length;n<o;n++)i[n]=new s.U(t[n],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static outdent(e,n,t){const i=[];for(let n=0,o=t.length;n<o;n++)i[n]=new s.U(t[n],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static shiftIndent(e,n,t){return t=t||1,s.U.shiftIndent(n,n.length+t,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,n,t){return t=t||1,s.U.unshiftIndent(n,n.length+t,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,n,t,i){const o=[];for(let e=0,n=t.length;e<n;e++)o[e]=new r.T4(t[e],i[e]);return new l.Tp(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,n,t,i,o){const s=[];for(let e=0,n=t.length;e<n;e++){const n=t[e],u=n.getPosition();if(o&&!n.isEmpty()&&(o=!1),o&&i.indexOf("\n")!==i.length-1&&(o=!1),o){const t=new c.e(u.lineNumber,1,u.lineNumber,1);s[e]=new r.hP(t,i,n,!0)}else s[e]=new r.T4(n,i)}return new l.Tp(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,n,t,i,r){if(i)return null;if(1===n.length)return null;if(r&&r.length===n.length)return r;if("spread"===e.multiCursorPaste){10===t.charCodeAt(t.length-1)&&(t=t.substr(0,t.length-1)),13===t.charCodeAt(t.length-1)&&(t=t.substr(0,t.length-1));const e=o.uq(t);if(e.length===n.length)return e}return null}static paste(e,n,t,i,o,r){const s=this._distributePasteToCursors(e,t,i,o,r);return s?(t=t.sort(c.e.compareRangesUsingStarts),this._distributedPaste(e,n,t,s)):this._simplePaste(e,n,t,i,o)}static _goodIndentForLine(e,n,t){let i=null,r="";const s=(0,g.r7)(e.autoIndent,n,t,!1,e.languageConfigurationService);if(s)i=s.action,r=s.indentation;else if(t>1){let i;for(i=t-1;i>=1;i--){const e=n.getLineContent(i);if(o.ow(e)>=0)break}if(i<1)return null;const s=n.getLineMaxColumn(i),u=(0,C.A)(e.autoIndent,n,new c.e(i,s,i,s),e.languageConfigurationService);u&&(r=u.indentation+u.appendText)}return i&&(i===f.wU.Indent&&(r=p.shiftIndent(e,r)),i===f.wU.Outdent&&(r=p.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,n,t,i){let o="";const s=t.getStartPosition();if(e.insertSpaces){const t=e.visibleColumnFromColumn(n,s),i=e.indentSize,r=i-t%i;for(let e=0;e<r;e++)o+=" "}else o="\t";return new r.T4(t,o,i)}static tab(e,n,t){const i=[];for(let o=0,u=t.length;o<u;o++){const u=t[o];if(u.isEmpty()){const t=n.getLineContent(u.startLineNumber);if(/^\s*$/.test(t)&&n.tokenization.isCheapToTokenize(u.startLineNumber)){let s=this._goodIndentForLine(e,n,u.startLineNumber);s=s||"\t";const l=e.normalizeIndentation(s);if(!t.startsWith(l)){i[o]=new r.T4(new c.e(u.startLineNumber,1,u.startLineNumber,t.length+1),l,!0);continue}}i[o]=this._replaceJumpToNextIndent(e,n,u,!0)}else{if(u.startLineNumber===u.endLineNumber){const t=n.getLineMaxColumn(u.startLineNumber);if(1!==u.startColumn||u.endColumn!==t){i[o]=this._replaceJumpToNextIndent(e,n,u,!1);continue}}i[o]=new s.U(u,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return i}static compositionType(e,n,t,i,o,r,s,u){const a=i.map((e=>this._compositionType(t,e,o,r,s,u)));return new l.Tp(4,a,{shouldPushStackElementBefore:N(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,n,t,i,o,s){if(!n.isEmpty())return null;const u=n.getPosition(),l=Math.max(1,u.column-i),a=Math.min(e.getLineMaxColumn(u.lineNumber),u.column+o),m=new c.e(u.lineNumber,l,u.lineNumber,a);return e.getValueInRange(m)===t&&0===s?null:new r.Uo(m,t,0,s)}static _typeCommand(e,n,t){return t?new r.Sj(e,n,!0):new r.T4(e,n,!0)}static _enter(e,n,t,i){if(0===e.autoIndent)return p._typeCommand(i,"\n",t);if(!n.tokenization.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){const r=n.getLineContent(i.startLineNumber),s=o.V8(r).substring(0,i.startColumn-1);return p._typeCommand(i,"\n"+e.normalizeIndentation(s),t)}const s=(0,C.A)(e.autoIndent,n,i,e.languageConfigurationService);if(s){if(s.indentAction===f.wU.None)return p._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),t);if(s.indentAction===f.wU.Indent)return p._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),t);if(s.indentAction===f.wU.IndentOutdent){const n=e.normalizeIndentation(s.indentation),o=e.normalizeIndentation(s.indentation+s.appendText),u="\n"+o+"\n"+n;return t?new r.Sj(i,u,!0):new r.Uo(i,u,-1,o.length-n.length,!0)}if(s.indentAction===f.wU.Outdent){const n=p.unshiftIndent(e,s.indentation);return p._typeCommand(i,"\n"+e.normalizeIndentation(n+s.appendText),t)}}const u=n.getLineContent(i.startLineNumber),l=o.V8(u).substring(0,i.startColumn-1);if(e.autoIndent>=4){const s=(0,g.UF)(e.autoIndent,n,i,{unshiftIndent:n=>p.unshiftIndent(e,n),shiftIndent:n=>p.shiftIndent(e,n),normalizeIndentation:n=>e.normalizeIndentation(n)},e.languageConfigurationService);if(s){let u=e.visibleColumnFromColumn(n,i.getEndPosition());const l=i.endColumn,a=n.getLineContent(i.endLineNumber),c=o.LC(a);if(i=c>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,c+1)):i.setEndPosition(i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),t)return new r.Sj(i,"\n"+e.normalizeIndentation(s.afterEnter),!0);{let n=0;return l<=c+1&&(e.insertSpaces||(u=Math.ceil(u/e.indentSize)),n=Math.min(u+1-e.normalizeIndentation(s.afterEnter).length-1,0)),new r.Uo(i,"\n"+e.normalizeIndentation(s.afterEnter),0,n,!0)}}}return p._typeCommand(i,"\n"+e.normalizeIndentation(l),t)}static _isAutoIndentType(e,n,t){if(e.autoIndent<4)return!1;for(let e=0,i=t.length;e<i;e++)if(!n.tokenization.isCheapToTokenize(t[e].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,n,t,i){const o=(0,h.u0)(n,t.startLineNumber,t.startColumn),r=(0,g.$9)(e.autoIndent,n,t,i,{shiftIndent:n=>p.shiftIndent(e,n),unshiftIndent:n=>p.unshiftIndent(e,n)},e.languageConfigurationService);if(null===r)return null;if(r!==e.normalizeIndentation(o)){const o=n.getLineFirstNonWhitespaceColumn(t.startLineNumber);return 0===o?p._typeCommand(new c.e(t.startLineNumber,1,t.endLineNumber,t.endColumn),e.normalizeIndentation(r)+i,!1):p._typeCommand(new c.e(t.startLineNumber,1,t.endLineNumber,t.endColumn),e.normalizeIndentation(r)+n.getLineContent(t.startLineNumber).substring(o-1,t.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,n,t,i,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,s=t.length;r<s;r++){const s=t[r];if(!s.isEmpty())return!1;const u=s.getPosition(),a=n.getLineContent(u.lineNumber);if(a.charAt(u.column-1)!==o)return!1;const c=(0,l.LN)(o);if(92===(u.column>2?a.charCodeAt(u.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let n=0,t=i.length;n<t;n++){const t=i[n];if(u.lineNumber===t.startLineNumber&&u.column===t.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,n,t,i,o){const s=[];for(let e=0,n=i.length;e<n;e++){const n=i[e].getPosition(),t=new c.e(n.lineNumber,n.column,n.lineNumber,n.column+1);s[e]=new r.T4(t,o)}return new l.Tp(4,s,{shouldPushStackElementBefore:N(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,n){const t=n.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(t)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(t)||[],r=i.some((e=>n.startsWith(e.open))),s=o.some((e=>n.startsWith(e.close)));return!r&&s}static _findAutoClosingPairOpen(e,n,t,i){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!o)return null;let r=null;for(const e of o)if(null===r||e.open.length>r.open.length){let o=!0;for(const r of t){if(n.getValueInRange(new c.e(r.lineNumber,r.column-e.open.length+1,r.lineNumber,r.column))+i!==e.open){o=!1;break}}o&&(r=e)}return r}static _findContainedAutoClosingPair(e,n){if(n.open.length<=1)return null;const t=n.close.charAt(n.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(t)||[];let o=null;for(const e of i)e.open!==n.open&&n.open.includes(e.open)&&n.close.endsWith(e.close)&&(!o||e.open.length>o.open.length)&&(o=e);return o}static _getAutoClosingPairClose(e,n,t,i,o){const r=(0,l.LN)(i),s=r?e.autoClosingQuotes:e.autoClosingBrackets,u=r?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if("never"===s)return null;for(const e of t)if(!e.isEmpty())return null;const c=t.map((e=>{const n=e.getPosition();return o?{lineNumber:n.lineNumber,beforeColumn:n.column-i.length,afterColumn:n.column}:{lineNumber:n.lineNumber,beforeColumn:n.column,afterColumn:n.column}})),f=this._findAutoClosingPairOpen(e,n,c.map((e=>new m.L(e.lineNumber,e.beforeColumn))),i);if(!f)return null;const h=this._findContainedAutoClosingPair(e,f),g=h?h.close:"";let C=!0;for(const t of c){const{lineNumber:o,beforeColumn:r,afterColumn:l}=t,c=n.getLineContent(o),m=c.substring(0,r-1),h=c.substring(l-1);if(h.startsWith(g)||(C=!1),h.length>0){const n=h.charAt(0);if(!p._isBeforeClosingBrace(e,h)&&!u(n))return null}if(1===f.open.length&&("'"===i||'"'===i)&&"always"!==s){const n=(0,a.u)(e.wordSeparators);if(m.length>0){const e=m.charCodeAt(m.length-1);if(0===n.get(e))return null}}if(!n.tokenization.isCheapToTokenize(o))return null;n.tokenization.forceTokenization(o);const b=n.tokenization.getLineTokens(o),L=(0,d.wH)(b,r-1);if(!f.shouldAutoClose(L,r-L.firstCharOffset))return null;const S=f.findNeutralCharacter();if(S){const e=n.tokenization.getTokenTypeIfInsertingCharacter(o,r,S);if(!f.isOK(e))return null}}return C?f.close.substring(0,f.close.length-g.length):f.close}static _runAutoClosingOpenCharType(e,n,t,i,o,r,s){const u=[];for(let e=0,n=i.length;e<n;e++){const n=i[e];u[e]=new b(n,o,!r,s)}return new l.Tp(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,n){return(0,l.LN)(n)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,n,t,i){if(!p._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const o=(0,l.LN)(i);for(const e of t){if(e.isEmpty())return!1;let t=!0;for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=n.getLineContent(i),r=i===e.startLineNumber?e.startColumn-1:0,s=i===e.endLineNumber?e.endColumn-1:o.length,u=o.substring(r,s);if(/[^ \t]/.test(u)){t=!1;break}}if(t)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){const t=n.getValueInRange(e);if((0,l.LN)(t))return!1}}return!0}static _runSurroundSelectionType(e,n,t,i,o){const r=[];for(let e=0,t=i.length;e<t;e++){const t=i[e],s=n.surroundingPairs[o];r[e]=new u.F(t,o,s)}return new l.Tp(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,n,t){return!(1!==t.length||!n.tokenization.isCheapToTokenize(t[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,n,t,s,u){if(!n.electricChars.hasOwnProperty(u)||!s.isEmpty())return null;const a=s.getPosition();t.tokenization.forceTokenization(a.lineNumber);const m=t.tokenization.getLineTokens(a.lineNumber);let f;try{f=n.onElectricCharacter(u,m,a.column)}catch(e){return(0,i.dL)(e),null}if(!f)return null;if(f.matchOpenBracket){const i=(m.getLineContent()+u).lastIndexOf(f.matchOpenBracket)+1,s=t.bracketPairs.findMatchingBracketUp(f.matchOpenBracket,{lineNumber:a.lineNumber,column:i},500);if(s){if(s.startLineNumber===a.lineNumber)return null;const i=t.getLineContent(s.startLineNumber),m=o.V8(i),f=n.normalizeIndentation(m),h=t.getLineContent(a.lineNumber),d=t.getLineFirstNonWhitespaceColumn(a.lineNumber)||a.column,g=f+h.substring(d-1,a.column-1)+u,C=new c.e(a.lineNumber,1,a.lineNumber,a.column),p=new r.T4(C,g);return new l.Tp(S(g,e),[p],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,n,t,i,o,s){if(!i)return null;let a=null;for(const e of i)if(null===a)a=e.insertedText;else if(a!==e.insertedText)return null;if(!a||1!==a.length)return null;const m=a;let f=!1;for(const e of i)if(0!==e.deletedText.length){f=!0;break}if(f){if(!p._shouldSurroundChar(n,m)||!n.surroundingPairs.hasOwnProperty(m))return null;const e=(0,l.LN)(m);for(const n of i){if(0!==n.deletedSelectionStart||n.deletedSelectionEnd!==n.deletedText.length)return null;if(/^[ \t]+$/.test(n.deletedText))return null;if(e&&(0,l.LN)(n.deletedText))return null}const t=[];for(const e of o){if(!e.isEmpty())return null;t.push(e.getPosition())}if(t.length!==i.length)return null;const r=[];for(let e=0,n=t.length;e<n;e++)r.push(new u.K(t[e],i[e].deletedText,m));return new l.Tp(4,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,t,o,s,m)){const e=o.map((e=>new r.T4(new c.e(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new l.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const h=this._getAutoClosingPairClose(n,t,o,m,!0);return null!==h?this._runAutoClosingOpenCharType(e,n,t,o,m,!0,h):null}static typeWithInterceptors(e,n,t,i,o,s,u){if(!e&&"\n"===u){const e=[];for(let n=0,r=o.length;n<r;n++)e[n]=p._enter(t,i,!1,o[n]);return new l.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(t,i,o)){const e=[];let n=!1;for(let r=0,s=o.length;r<s;r++)if(e[r]=this._runAutoIndentType(t,i,o[r],u),!e[r]){n=!0;break}if(!n)return new l.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,s,u))return this._runAutoClosingOvertype(n,t,i,o,u);if(!e){const e=this._getAutoClosingPairClose(t,i,o,u,!1);if(e)return this._runAutoClosingOpenCharType(n,t,i,o,u,!1,e)}if(!e&&this._isSurroundSelectionType(t,i,o,u))return this._runSurroundSelectionType(n,t,i,o,u);if(!e&&this._isTypeInterceptorElectricChar(t,i,o)){const e=this._typeInterceptorElectricChar(n,t,i,o[0],u);if(e)return e}const a=[];for(let e=0,n=o.length;e<n;e++)a[e]=new r.T4(o[e],u);const c=S(u,n);return new l.Tp(c,a,{shouldPushStackElementBefore:N(n,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,n,t,i,o){const s=[];for(let e=0,n=i.length;e<n;e++)s[e]=new r.T4(i[e],o);const u=S(o,e);return new l.Tp(u,s,{shouldPushStackElementBefore:N(e,u),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,n,t){if(null===n||null===t)return[];const i=[];for(let o=0,s=t.length;o<s;o++){let s=t[o].positionLineNumber;if(1===s)i[o]=new r.Sj(new c.e(1,1,1,1),"\n");else{s--;const t=n.getLineMaxColumn(s);i[o]=this._enter(e,n,!1,new c.e(s,t,s,t))}}return i}static lineInsertAfter(e,n,t){if(null===n||null===t)return[];const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o].positionLineNumber,s=n.getLineMaxColumn(r);i[o]=this._enter(e,n,!1,new c.e(r,s,r,s))}return i}static lineBreakInsert(e,n,t){const i=[];for(let o=0,r=t.length;o<r;o++)i[o]=this._enter(e,n,!0,t[o]);return i}}class b extends r.Uo{constructor(e,n,t,i){super(e,(t?n:"")+i,0,-i.length),this._openCharacter=n,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,n){const t=n.getInverseEditOperations()[0].range;return this.closeCharacterRange=new c.e(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new c.e(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(e,n)}}class L{constructor(e,n,t,i,o,r){this.deletedText=e,this.deletedSelectionStart=n,this.deletedSelectionEnd=t,this.insertedText=i,this.insertedSelectionStart=o,this.insertedSelectionEnd=r}}function S(e,n){return" "===e?5===n||6===n?6:5:4}function N(e,n){return!(!T(e)||T(n))||5!==e&&P(e)!==P(n)}function P(e){return 6===e||5===e?"space":e}function T(e){return 4===e||5===e||6===e}}}]);