"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[4884],{94882:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(27875);var l=t(87957),a=t(55164),u={name:"ShowConfigDialog",components:{ShowConfig:l.Z},props:{config:{type:Object,default:{}},componentList:{type:Array,default:[]}},data:function(){return{showConfig:{}}},mounted:function(){this.$parent.$children=this,this.showConfig=(0,a.Xh)(this.config)},methods:{confirm:function(){this.$attrs.events.confirm(this.showConfig)},cancel:function(){this.$attrs.events.cancel()}}};var i=(0,t(94407).Z)(u,[["render",function(e,n,t,l,a,u){var i=(0,o.up)("show-config");return(0,o.wg)(),(0,o.j4)(i,{componentList:t.componentList,config:a.showConfig},null,8,["componentList","config"])}]])},34145:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});var o=t(27875);var l=t(25831),a=t(43814),u=t(44792),i=t(87957),r=(t(13987),{name:"baseComponent",components:{baseAttr:l.default,rowSplit:a.Z,showConfig:i.Z,configButton:u.Z},props:{data:{default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},componentMap:{type:Object,default:function(){return{}}},inputListByInputType:{type:Object,default:function(){return{}}}},data:function(){return{usageConditionDialog:null,tabsActives:"base",collapseActives:["base","extras"],relateOptionTypes:["radio","checkbox","select"]}},computed:{fieldId:function(){return this.data.id}},watch:{},methods:{openUsageConditionDialog:function(e){}}});var c=(0,t(94407).Z)(r,[["render",function(e,n,t,l,a,u){return(0,o.wg)(),(0,o.iD)("div")}]])},25831:function(e,n,t){t.r(n),t.d(n,{default:function(){return i}});var o=t(27875),l={class:"base-config"},a=(0,o.Uk)("显示");var u={name:"baseAttr",mixins:[t(64599).Z],props:{data:{default:function(){return{}}},isShowOnly:{type:Boolean,default:function(){return!1}},isNeedRequired:{type:Boolean,default:function(){return!0}}},data:function(){var e=this;return{dataObjectChange:!1,rules:{title:[{required:!0,trigger:"blur",message:"请填写字段标题"},{validator:function(n,t,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l=e.data||l,(t=t||l.title).length>200?o(new Error("字段标题长度不得超过200个字符"),"warning"):o()}}],fieldPath:[{required:!0,trigger:"blur",message:"请填写字段路径"},{validator:function(n,t,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l=e.data||l,(t=t||l.fieldPath).length>64?o(new Error("字段路径长度不得超过64个字符"),"warning"):o()}}]}}}};var i=(0,t(94407).Z)(u,[["render",function(e,n,t,u,i,r){var c=(0,o.up)("el-input"),d=(0,o.up)("el-col"),f=(0,o.up)("el-checkbox"),m=(0,o.up)("el-form-item"),s=(0,o.up)("el-form");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(s,{model:t.data,rules:i.rules,"label-width":"90px",size:"small"},{default:(0,o.w5)((function(){return[(0,o.Wm)(m,{label:"视图名称：",prop:"title"},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{span:10},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:t.data.title,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.data.title=e}),maxlength:20},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(d,{span:14,class:"pl-3"},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{modelValue:t.data.showTitle,"onUpdate:modelValue":n[1]||(n[1]=function(e){return t.data.showTitle=e})},{default:(0,o.w5)((function(){return[a]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),(0,o.Wm)(m,{label:"数据路径：",prop:"title"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:t.data.dataPath,"onUpdate:modelValue":n[2]||(n[2]=function(e){return t.data.dataPath=e}),maxlength:64},null,8,["modelValue"])]})),_:1}),(0,o.WI)(e.$slots,"inside-form")]})),_:3},8,["model","rules"]),(0,o.WI)(e.$slots,"outside-form")])}]])},46052:function(e,n,t){t.r(n),t.d(n,{default:function(){return r}});var o=t(27875),l={class:"designer-attributes"};t(58188),t(1939),t(26936);var a=t(64599),u=t(55164),i={name:"DesignerAttrDialog",mixins:[a.Z],props:{component:{type:Object,default:function(){return null}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},data:function(){return{data:null}},computed:{attrTitle:function(){var e=this,n="表单";return this.menuItemList.forEach((function(t){e.component&&t.type===e.component.type&&(n=t.name,e.component.id&&(n+="(".concat(e.component.id,")")))})),n}},mounted:function(){this.$parent.$children=this,this.data=(0,u.Xh)(this.component||{})},methods:{confirm:function(){this.$attrs.events.confirm(this.data)},cancel:function(){this.$attrs.events.cancel()}}};var r=(0,t(94407).Z)(i,[["render",function(e,n,t,a,u,i){var r=(0,o.up)("component-attr-render");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(r,{data:u.data,componentList:t.componentList,componentMap:t.componentMap},null,8,["data","componentList","componentMap"])])}]])},69694:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var o=t(27875),l={class:"custom-table"},a=(0,o.Uk)("设置");t(43450),t(99805);var u=t(40641),i=t(55164),r=t(90937),c=t(13987),d={name:"ColumnSet",props:{config:{type:Array,default:[]},columns:{type:Array,default:[]},isColumn:{type:Boolean,default:!0}},data:function(){return{buttonTypes:[{label:"默认",value:"default"},{label:"重要",value:"primary"},{label:"成功",value:"success"},{label:"信息",value:"info"},{label:"警告",value:"warning"},{label:"危险",value:"danger"}],showConfigDialog:null}},methods:{handleConfidDialogShow:function(e){var n=this,o={config:e.showConfig||[],componentList:this.columns.map((function(e){return{id:e.fieldPath,title:e.label}}))},l={confirm:function(t){t&&(e.showConfig=t),n.$store.dispatch("dialogManager/removeDialog",n.showConfigDialog.key),n.showConfigDialog=null},cancel:function(){n.$store.dispatch("dialogManager/removeDialog",n.showConfigDialog.key),n.showConfigDialog=null}},a=(0,u.Xl)(t(94882).Z);this.showConfigDialog?(this.showConfigDialog.props=o,this.$store.dispatch("dialogManager/updateDialog",this.showConfigDialog)):(this.showConfigDialog=new c.V(a,o,l,{title:"显示设置",width:600,bodyHeight:300}),this.$store.dispatch("dialogManager/addDialog",this.showConfigDialog)),this.$store.dispatch("dialogManager/openDialog",this.showConfigDialog.key)},handleButtonDelete:function(e){this.config.splice(e,1)},handleButtonAdd:function(){this.config.push((0,i.Xh)(r.DEFAULT_BUTTON))}}};const f=(0,t(94407).Z)(d,[["render",function(e,n,t,u,i,r){var c=(0,o.up)("el-input"),d=(0,o.up)("el-table-column"),f=(0,o.up)("el-option"),m=(0,o.up)("el-select"),s=(0,o.up)("el-button"),p=(0,o.up)("delete"),g=(0,o.up)("el-icon"),A=(0,o.up)("el-table");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(A,{data:t.config,size:"small"},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{label:"按钮名称"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(c,{class:"w-full",size:"small",prop:"buttonName",modelValue:n.buttonName,"onUpdate:modelValue":function(e){return n.buttonName=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(d,{label:"类型"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(m,{modelValue:n.buttonType,"onUpdate:modelValue":function(e){return n.buttonType=e}},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.buttonTypes,(function(e){return(0,o.wg)(),(0,o.j4)(f,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(d,{label:"事件名称"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(c,{class:"w-full",size:"small",prop:"buttonEvent",modelValue:n.buttonEvent,"onUpdate:modelValue":function(e){return n.buttonEvent=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),t.isColumn?((0,o.wg)(),(0,o.j4)(d,{key:0,label:"显示条件"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(s,{link:"",onClick:function(e){return r.handleConfidDialogShow(n)}},{default:(0,o.w5)((function(){return[a]})),_:2},1032,["onClick"])]})),_:1})):(0,o.kq)("",!0),(0,o.Wm)(d,{label:"权限"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(c,{class:"w-full",size:"small",prop:"permission",modelValue:n.permission,"onUpdate:modelValue":function(e){return n.permission=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(d,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,o.w5)((function(e){return[(0,o.Wm)(g,{class:"custom-table__icon",onClick:function(n){return r.handleButtonDelete(e.$index)}},{default:(0,o.w5)((function(){return[(0,o.Wm)(p)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,o._)("div",{class:"custom-table__button",onClick:n[0]||(n[0]=function(){return r.handleButtonAdd&&r.handleButtonAdd.apply(r,arguments)})},"+添加按鈕")])}]]);var m=f},75258:function(e,n,t){t.r(n),t.d(n,{default:function(){return r}});var o=t(27875),l={key:0,class:"custom-table mb-5"},a={key:3,class:"mb-5"};t(58188),t(1939),t(68995),t(74083),t(99805);var u=t(55164),i=(t(92041),{name:"ColumnSet",components:{ButtonSet:t(69694).default},props:{config:{type:Object,default:{}},columns:{type:Array,default:[]}},data:function(){return{columnConfig:{},formatOptions:u.a9.DATETIME_FORMAT_OPTIONS}},mounted:function(){this.$parent.$children=this,this.columnConfig=(0,u.Xh)(this.config)},methods:{addOption:function(e){var n=1,t=[];for(this.columnConfig.options||(this.columnConfig.options=[]),this.columnConfig.options.forEach((function(e){t.push(parseInt(e.value))}));-1!==t.indexOf(n);)n++;var o={isDefault:!1,value:"".concat(n),label:"",color:null};e||0===e?this.columnConfig.options.splice(e+1,0,o):this.columnConfig.options.push(o)},deleteOption:function(e){this.columnConfig.options.splice(e,1)},confirm:function(){this.$attrs.events.confirm(this.columnConfig)},cancel:function(){this.$attrs.events.cancel()}}});var r=(0,t(94407).Z)(i,[["render",function(e,n,t,u,i,r){var c=(0,o.up)("el-input"),d=(0,o.up)("el-form-item"),f=(0,o.up)("el-input-number"),m=(0,o.up)("el-option"),s=(0,o.up)("el-select"),p=(0,o.up)("el-col"),g=(0,o.up)("el-table-column"),A=(0,o.up)("el-color-picker"),w=(0,o.up)("delete"),h=(0,o.up)("el-icon"),b=(0,o.up)("el-table"),C=(0,o.up)("button-set"),v=(0,o.up)("el-form");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(v,{ref:"ruleFormRef",model:i.columnConfig,"label-width":"90px",size:"small","label-position":"left"},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{label:"标题：",prop:"label"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:i.columnConfig.label,"onUpdate:modelValue":n[0]||(n[0]=function(e){return i.columnConfig.label=e})},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(d,{label:"宽度：",prop:"label"},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{modelValue:i.columnConfig.width,"onUpdate:modelValue":n[1]||(n[1]=function(e){return i.columnConfig.width=e}),min:10,precision:0},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(d,{label:"对齐方式：",prop:"label"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{modelValue:i.columnConfig.align,"onUpdate:modelValue":n[2]||(n[2]=function(e){return i.columnConfig.align=e})},{default:(0,o.w5)((function(){return[(0,o.Wm)(m,{label:"居左",value:"left"}),(0,o.Wm)(m,{label:"居中",value:"center"}),(0,o.Wm)(m,{label:"居右",value:"right"})]})),_:1},8,["modelValue"])]})),_:1}),(0,o.Wm)(d,{label:"类型：",prop:"type"},{default:(0,o.w5)((function(){return[(0,o.Wm)(p,{span:6},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{modelValue:i.columnConfig.type,"onUpdate:modelValue":n[3]||(n[3]=function(e){return i.columnConfig.type=e})},{default:(0,o.w5)((function(){return[(0,o.Wm)(m,{label:"字段",value:"field"}),(0,o.Wm)(m,{label:"按钮",value:"button"})]})),_:1},8,["modelValue"])]})),_:1}),"field"===i.columnConfig.type?((0,o.wg)(),(0,o.j4)(p,{key:0,span:10,class:"pl-2"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{modelValue:i.columnConfig.fieldType,"onUpdate:modelValue":n[4]||(n[4]=function(e){return i.columnConfig.fieldType=e})},{default:(0,o.w5)((function(){return[(0,o.Wm)(m,{label:"文本",value:"text"}),(0,o.Wm)(m,{label:"选项",value:"option"}),(0,o.Wm)(m,{label:"文件",value:"file"}),(0,o.Wm)(m,{label:"日期时间",value:"datetime"})]})),_:1},8,["modelValue"])]})),_:1})):(0,o.kq)("",!0)]})),_:1}),"option"===i.columnConfig.fieldType?((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(b,{"row-key":"value",prop:"options",data:i.columnConfig.options,"max-height":506},{default:(0,o.w5)((function(){return[(0,o.Wm)(g,{label:"选项值"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(c,{class:"w_100",prop:"value",modelValue:n.value,"onUpdate:modelValue":function(e){return n.value=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(g,{label:"选项名称"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(c,{class:"w_100",prop:"selectName",modelValue:n.label,"onUpdate:modelValue":function(e){return n.label=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(g,{"header-align":"center",align:"center",label:"颜色",width:"60px"},{default:(0,o.w5)((function(e){var n=e.row;return[(0,o.Wm)(A,{modelValue:n.color,"onUpdate:modelValue":function(e){return n.color=e},size:"small"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.Wm)(g,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,o.w5)((function(e){var n=e.$index;return[(0,o.Wm)(h,{class:"custom-table__icon",onClick:function(e){return r.deleteOption(n)}},{default:(0,o.w5)((function(){return[(0,o.Wm)(w)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,o._)("div",{"data-mark":"添加选项按钮",class:"custom-table__button",onClick:n[5]||(n[5]=function(e){return r.addOption("")})}," +添加选项 ")])):"datetime"===i.columnConfig.fieldType?((0,o.wg)(),(0,o.j4)(d,{key:1,label:"日期格式：",prop:"fieldPath"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{modelValue:i.columnConfig.format,"onUpdate:modelValue":n[6]||(n[6]=function(e){return i.columnConfig.format=e}),onChange:e.handleFormatChange},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.formatOptions,(function(e){return(0,o.wg)(),(0,o.j4)(m,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1})):(0,o.kq)("",!0),"field"===i.columnConfig.type?((0,o.wg)(),(0,o.j4)(d,{key:2,label:"字段路径：",prop:"fieldPath"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:i.columnConfig.fieldPath,"onUpdate:modelValue":n[7]||(n[7]=function(e){return i.columnConfig.fieldPath=e})},null,8,["modelValue"])]})),_:1})):((0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(C,{config:i.columnConfig.actionConfig,columns:t.columns,isColumn:""},null,8,["config","columns"])])),(0,o.Wm)(d,{label:"权限：",prop:"type"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{modelValue:i.columnConfig.permission,"onUpdate:modelValue":n[8]||(n[8]=function(e){return i.columnConfig.permission=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])])}]])},27566:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAyCAYAAADREbxyAAAAAXNSR0IArs4c6QAAARxJREFUeAHt2DEKw0AMBVE7GLbe+9/Rrl0lbOALnWC2mTRSN+GxJKDzvu/v4QcTuFZpjIEFE3rfd0t39Xe1V/cTACcjIDjjXBXBi4JZBGecqyJ4UTCL4IxzVQQvCmYRnHGuiuBFwSyCM85VOb2llAWy/G8pc04k1iPP8xw7uus77Gqvrj8p/RUAu+AAck8I3jWAXXAAuScE7xrALjiA3BOCdw1gFxxA7gnBuwawCw4g94S3lK4B7N5SAOQkvKVEApz+hoPYKyW44LAAnPOFCw4LwDlfuOCwAJzzhQsOC8A5bykwuLcUENxbCoidlH+akYCm4BB0MoJHApqCQ9DJCB4JaAoOQScjeCSgKTgEnYzgkYCm4BB0Mh6vIgHNH5pCN1U+UIhLAAAAAElFTkSuQmCC"},50701:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAyCAYAAADREbxyAAAAAXNSR0IArs4c6QAAATpJREFUeAHt2jGug0AMAFHyFYmGhvvfERoaqnxtojj2ATzbTJrY1aCnFcWKx3Ecr8UfJvAcpXVdseA3dN/3lO7oz2qP7t8XwH9GQHDGOSqCBwUzCM44R0XwoGAGwRnnqAgeFMwgOOMcFcGDghkEZ5yj8vAuJSyQ4X2Xsu87EsuR8zyXGd3xDLPao+srJZ8CYBYcQM4JwbMGMAsOIOeE4FkDmAUHkHNC8KwBzIIDyDkheNYAZsEB5JzwLiVrAPP7LmXbNiBVE9d1LTO64ylmtUfXV0o9B+2b4O3ENSB49WjfBG8nrgHBq0f7Jng7cQ0IXj3aN8HbiWtA8OrRvgneTlwD3qVUj/bN71LaiX8Bv0v5WWCT73CM+hMSXHBYAM55wgWHBeCcJ1xwWADOecIFhwXgnCccBvfyCgb/B4WiN1V96mhHAAAAAElFTkSuQmCC"},26207:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAyCAYAAADREbxyAAAAAXNSR0IArs4c6QAAARFJREFUeAHt2LEKQyEMRuHbUnD2/d9RZ6cWhSzZczp4XEIWf/oRejGvMcb38WACn53UWsMCbw5aaz3vmwH+8dsFh9UFFxwWgOOccMFhATjOCRccFoDjnHDBYQE47jzt95PTwwgc8N47k3Z5ypzTXQo9A340YXHBBYcF4DgnXHBYAI5zwgWHBeA4J1xwWACOO0/7/eT0MALuUhjnk+IuBcSOKD+aIQFVwSHoiBE8JKAqOAQdMYKHBFQFh6AjRvCQgKrgEHTECB4SUHWXAkFHjLuUkACquxQAOUf4H55FinvBi4Hz9YJnkeJe8GLgfL3gWaS4F7wYOF8veBYp7gUvBs7XC55FinvBi4Hz9S6vskhx/wO/WxuPcHibSgAAAABJRU5ErkJggg=="},80262:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAyCAYAAADREbxyAAAAAXNSR0IArs4c6QAAAQNJREFUeAHt2jEKAyEYBeFNCNjYeP87amNjlaDwrjApHBvLYT9+EBdfvffv48IEPrtUSsGCN4fWWs/7ZoB/fLvgsLrggsMCcM4JFxwWgHNOuOCwAJxzwgWHBeDcudrvK6eLETjgrTWmdnlljOG/FHoGPDRhccEFhwXgnBMuOCwA55xwwWEBOOeECw4LwLlztd9XThcjcMBrrUzt8sqc038p9Ax4aMLiggsOC8A5J1xwWADOOeGCwwJwzgkXHBaAc+dqv6+cLkbAdymM86n4LgXETspDMxLQLjgEnYzgkYB2wSHoZASPBLQLDkEnI3gkoF1wCDoZwSMB7YJD0Mn4ECgS0P4D2Kobnq7n1HUAAAAASUVORK5CYII="}}]);