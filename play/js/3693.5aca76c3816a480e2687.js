"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[3693],{61958:function(e,t,n){n.d(t,{L:function(){return a},w:function(){return l}});var r=n(17416),i=n(60854),o=n(38452),s=n(31599),u=n(8964),d=n(50038);class l{static _createWord(e,t,n,r,i){return{start:r,end:i,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(e,t,n){const r=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(r,e,n)}static _doFindPreviousWordOnLine(e,t,n){let r=0;for(let i=n.column-2;i>=0;i--){const n=e.charCodeAt(i),o=t.get(n);if(0===o){if(2===r)return this._createWord(e,r,o,i+1,this._findEndOfWord(e,t,r,i+1));r=1}else if(2===o){if(1===r)return this._createWord(e,r,o,i+1,this._findEndOfWord(e,t,r,i+1));r=2}else if(1===o&&0!==r)return this._createWord(e,r,o,i+1,this._findEndOfWord(e,t,r,i+1))}return 0!==r?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,n,r){const i=e.length;for(let o=r;o<i;o++){const r=e.charCodeAt(o),i=t.get(r);if(1===i)return o;if(1===n&&2===i)return o;if(2===n&&0===i)return o}return i}static _findNextWordOnLine(e,t,n){const r=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(r,e,n)}static _doFindNextWordOnLine(e,t,n){let r=0;const i=e.length;for(let o=n.column-1;o<i;o++){const n=e.charCodeAt(o),i=t.get(n);if(0===i){if(2===r)return this._createWord(e,r,i,this._findStartOfWord(e,t,r,o-1),o);r=1}else if(2===i){if(1===r)return this._createWord(e,r,i,this._findStartOfWord(e,t,r,o-1),o);r=2}else if(1===i&&0!==r)return this._createWord(e,r,i,this._findStartOfWord(e,t,r,o-1),o)}return 0!==r?this._createWord(e,r,1,this._findStartOfWord(e,t,r,i-1),i):null}static _findStartOfWord(e,t,n,r){for(let i=r;i>=0;i--){const r=e.charCodeAt(i),o=t.get(r);if(1===o)return i+1;if(1===n&&2===o)return i+1;if(2===n&&0===o)return i+1}return 0}static moveWordLeft(e,t,n,r){let i=n.lineNumber,o=n.column;1===o&&i>1&&(i-=1,o=t.getLineMaxColumn(i));let s=l._findPreviousWordOnLine(e,t,new u.L(i,o));if(0===r)return new u.L(i,s?s.start+1:1);if(1===r)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=l._findPreviousWordOnLine(e,t,new u.L(i,s.start+1))),new u.L(i,s?s.start+1:1);if(3===r){for(;s&&2===s.wordType;)s=l._findPreviousWordOnLine(e,t,new u.L(i,s.start+1));return new u.L(i,s?s.start+1:1)}return s&&o<=s.end+1&&(s=l._findPreviousWordOnLine(e,t,new u.L(i,s.start+1))),new u.L(i,s?s.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(1===t.column)return n>1?new u.L(n-1,e.getLineMaxColumn(n-1)):t;const o=e.getLineContent(n);for(let e=t.column-1;e>1;e--){const t=o.charCodeAt(e-2),s=o.charCodeAt(e-1);if(95===t&&95!==s)return new u.L(n,e);if((r.mK(t)||r.T5(t))&&r.df(s))return new u.L(n,e);if(r.df(t)&&r.df(s)&&e+1<i){const t=o.charCodeAt(e);if(r.mK(t)||r.T5(t))return new u.L(n,e)}}return new u.L(n,1)}static moveWordRight(e,t,n,r){let i=n.lineNumber,o=n.column,s=!1;o===t.getLineMaxColumn(i)&&i<t.getLineCount()&&(s=!0,i+=1,o=1);let d=l._findNextWordOnLine(e,t,new u.L(i,o));if(2===r)d&&2===d.wordType&&d.end-d.start==1&&0===d.nextCharClass&&(d=l._findNextWordOnLine(e,t,new u.L(i,d.end+1))),o=d?d.end+1:t.getLineMaxColumn(i);else if(3===r){for(s&&(o=0);d&&(2===d.wordType||d.start+1<=o);)d=l._findNextWordOnLine(e,t,new u.L(i,d.end+1));o=d?d.start+1:t.getLineMaxColumn(i)}else d&&!s&&o>=d.start+1&&(d=l._findNextWordOnLine(e,t,new u.L(i,d.end+1))),o=d?d.start+1:t.getLineMaxColumn(i);return new u.L(i,o)}static _moveWordPartRight(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(t.column===i)return n<e.getLineCount()?new u.L(n+1,1):t;const o=e.getLineContent(n);for(let e=t.column+1;e<i;e++){const t=o.charCodeAt(e-2),s=o.charCodeAt(e-1);if(95!==t&&95===s)return new u.L(n,e);if((r.mK(t)||r.T5(t))&&r.df(s))return new u.L(n,e);if(r.df(t)&&r.df(s)&&e+1<i){const t=o.charCodeAt(e);if(r.mK(t)||r.T5(t))return new u.L(n,e)}}return new u.L(n,i)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-2,o=r.ow(n,i);return o+1<i?new d.e(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,r=e.model,i=e.selection,s=e.whitespaceHeuristics;if(!i.isEmpty())return i;if(o.A.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new d.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const a=new u.L(i.positionLineNumber,i.positionColumn);let c=a.lineNumber,m=a.column;if(1===c&&1===m)return null;if(s){const e=this._deleteWordLeftWhitespace(r,a);if(e)return e}let f=l._findPreviousWordOnLine(n,r,a);return 0===t?f?m=f.start+1:m>1?m=1:(c--,m=r.getLineMaxColumn(c)):(f&&m<=f.end+1&&(f=l._findPreviousWordOnLine(n,r,new u.L(c,f.start+1))),f?m=f.end+1:m>1?m=1:(c--,m=r.getLineMaxColumn(c))),new d.e(c,m,a.lineNumber,a.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const r=new u.L(n.positionLineNumber,n.positionColumn),i=this._deleteInsideWordWhitespace(t,r);return i||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=n.length;if(0===r)return null;let i=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,i))return null;let o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(n,o))return null;for(;i>0&&this._charAtIsWhitespace(n,i-1);)i--;for(;o+1<r&&this._charAtIsWhitespace(n,o+1);)o++;return new d.e(t.lineNumber,i+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const r=t.getLineContent(n.lineNumber),i=r.length;if(0===i)return n.lineNumber>1?new d.e(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new d.e(n.lineNumber,1,n.lineNumber+1,1):new d.e(n.lineNumber,1,n.lineNumber,1);const o=e=>e.start+1<=n.column&&n.column<=e.end+1,s=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new d.e(n.lineNumber,e,n.lineNumber,t)),u=e=>{let t=e.start+1,n=e.end+1,o=!1;for(;n-1<i&&this._charAtIsWhitespace(r,n-1);)o=!0,n++;if(!o)for(;t>1&&this._charAtIsWhitespace(r,t-2);)t--;return s(t,n)},a=l._findPreviousWordOnLine(e,t,n);if(a&&o(a))return u(a);const c=l._findNextWordOnLine(e,t,n);return c&&o(c)?u(c):a&&c?s(a.end+1,c.start+1):a?s(a.start+1,a.end+1):c?s(c.start+1,c.end+1):s(1,i+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),r=l._moveWordPartLeft(e,n);return new d.e(n.lineNumber,n.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){const n=e.length;for(let r=t;r<n;r++){const t=e.charAt(r);if(" "!==t&&"\t"!==t)return r}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=t.column-1,i=this._findFirstNonWhitespaceChar(n,r);return r+1<i?new d.e(t.lineNumber,t.column,t.lineNumber,i+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,r=e.model,i=e.selection,o=e.whitespaceHeuristics;if(!i.isEmpty())return i;const s=new u.L(i.positionLineNumber,i.positionColumn);let a=s.lineNumber,c=s.column;const m=r.getLineCount(),f=r.getLineMaxColumn(a);if(a===m&&c===f)return null;if(o){const e=this._deleteWordRightWhitespace(r,s);if(e)return e}let L=l._findNextWordOnLine(n,r,s);return 2===t?L?c=L.end+1:c<f||a===m?c=f:(a++,L=l._findNextWordOnLine(n,r,new u.L(a,1)),c=L?L.start+1:r.getLineMaxColumn(a)):(L&&c>=L.start+1&&(L=l._findNextWordOnLine(n,r,new u.L(a,L.end+1))),L?c=L.start+1:c<f||a===m?c=f:(a++,L=l._findNextWordOnLine(n,r,new u.L(a,1)),c=L?L.start+1:r.getLineMaxColumn(a))),new d.e(a,c,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),r=l._moveWordPartRight(e,n);return new d.e(n.lineNumber,n.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,n){const r=new d.e(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,n){const r=(0,s.u)(t),i=l._findPreviousWordOnLine(r,e,n);if(i&&1===i.wordType&&i.start<=n.column-1&&n.column-1<=i.end)return l._createWordAtPosition(e,n.lineNumber,i);const o=l._findNextWordOnLine(r,e,n);return o&&1===o.wordType&&o.start<=n.column-1&&n.column-1<=o.end?l._createWordAtPosition(e,n.lineNumber,o):null}static word(e,t,n,r,o){const a=(0,s.u)(e.wordSeparators),c=l._findPreviousWordOnLine(a,t,o),m=l._findNextWordOnLine(a,t,o);if(!r){let e,n;return c&&1===c.wordType&&c.start<=o.column-1&&o.column-1<=c.end?(e=c.start+1,n=c.end+1):m&&1===m.wordType&&m.start<=o.column-1&&o.column-1<=m.end?(e=m.start+1,n=m.end+1):(e=c?c.end+1:1,n=m?m.start+1:t.getLineMaxColumn(o.lineNumber)),new i.rS(new d.e(o.lineNumber,e,o.lineNumber,n),0,new u.L(o.lineNumber,n),0)}let f,L;c&&1===c.wordType&&c.start<o.column-1&&o.column-1<c.end?(f=c.start+1,L=c.end+1):m&&1===m.wordType&&m.start<o.column-1&&o.column-1<m.end?(f=m.start+1,L=m.end+1):(f=o.column,L=o.column);const W=o.lineNumber;let h;if(n.selectionStart.containsPosition(o))h=n.selectionStart.endColumn;else if(o.isBeforeOrEqual(n.selectionStart.getStartPosition())){h=f;const e=new u.L(W,h);n.selectionStart.containsPosition(e)&&(h=n.selectionStart.endColumn)}else{h=L;const e=new u.L(W,h);n.selectionStart.containsPosition(e)&&(h=n.selectionStart.startColumn)}return n.move(!0,W,h,0)}}class a extends l{static deleteWordPartLeft(e){const t=c([l.deleteWordLeft(e,0),l.deleteWordLeft(e,2),l._deleteWordPartLeft(e.model,e.selection)]);return t.sort(d.e.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=c([l.deleteWordRight(e,0),l.deleteWordRight(e,2),l._deleteWordPartRight(e.model,e.selection)]);return t.sort(d.e.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,n){const r=c([l.moveWordLeft(e,t,n,0),l.moveWordLeft(e,t,n,2),l._moveWordPartLeft(t,n)]);return r.sort(u.L.compare),r[2]}static moveWordPartRight(e,t,n){const r=c([l.moveWordRight(e,t,n,0),l.moveWordRight(e,t,n,2),l._moveWordPartRight(t,n)]);return r.sort(u.L.compare),r[0]}}function c(e){return e.filter((e=>Boolean(e)))}}}]);