"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[8197],{27973:function(e,a,t){t.r(a),t.d(a,{default:function(){return r}});t(26936);var l=t(27875),n=t(50349),u={key:1,class:"text-center",style:{color:"#999"}},o={key:3,class:"text-right",style:{color:"#666"}};t(68995);var i={name:"TextBoxAttr",extends:t(30621).default,data:function(){var e=this;return{lengthDisabeld:!1,rules:{defaultValue:[{validator:function(a,t,l,n){if(n=e.data.extras?e.data.extras:n){if(t&&n.maxLength&&t.length>parseInt(n.maxLength))l("默认值最大长度不能超过".concat(n.maxLength));if(t&&n.minLength&&t.length<parseInt(n.minLength))l("默认值最小长度不能超过".concat(n.minLength));l()}else l()}}]},validTypeOptions:[{id:"int",name:"整数"},{id:"float",name:"小数"},{id:"money",name:"金额"},{id:"percent",name:"百分比"}]}},computed:{showDecimalPlace:function(){switch(this.data.extras.validType){case"float":case"percent":return!0;default:return!1}},stepPrecisionConfig:function(){return(this.showDecimalPlace||"money"===this.data.extras.validType)&&this.data.extras.precision||0}},watch:{},mounted:function(){!this.data.placeholder&&this.data.extras&&"string"===this.data.extras.validType&&(this.data.placeholder="请输入"),"phone"===this.data.extras.validType||"idcard"===this.data.extras.validType?this.lengthDisabeld=!0:this.lengthDisabeld=!1},methods:{handleValidTypeChange:function(e){switch(e){case"int":this.data.extras.precision=0;break;case"money":this.data.extras.precision=2}}}};var r=(0,t(94407).Z)(i,[["render",function(e,a,t,i,r,d){var s=(0,l.up)("base-attr"),c=(0,l.up)("el-tab-pane"),m=(0,l.up)("el-option"),p=(0,l.up)("el-select"),f=(0,l.up)("el-form-item"),h=(0,l.up)("el-switch"),w=(0,l.up)("el-input"),b=(0,l.up)("row-split"),x=(0,l.up)("el-input-number"),g=(0,l.up)("showConfig"),v=(0,l.up)("el-tabs"),_=(0,l.up)("el-form");return(0,l.wg)(),(0,l.j4)(_,{ref:"form",model:e.data.extras,rules:r.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{modelValue:e.tabsActives,"onUpdate:modelValue":a[7]||(a[7]=function(a){return e.tabsActives=a})},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{label:"基础属性",name:"base"},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{data:e.data},null,8,["data"])]})),_:1}),(0,l.Wm)(c,{label:"业务属性",name:"extras"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{label:"校验类型：",prop:"validType",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(p,{modelValue:e.data.extras.validType,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.data.extras.validType=a}),class:"w_100",onChange:d.handleValidTypeChange},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.validTypeOptions,(function(e){return(0,l.wg)(),(0,l.j4)(m,{label:e.name,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),"money"===e.data.extras.validType?((0,l.wg)(),(0,l.j4)(f,{key:0,label:"显示大写："},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{modelValue:e.data.extras.showText,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.data.extras.showText=a})},null,8,["modelValue"])]})),_:1})):(0,l.kq)("",!0),(0,l.Wm)(f,{label:"数值限制："},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{colWidths:["calc((100% - 40px) / 2)","10px","calc((100% - 40px) / 2)","30px"]},{default:(0,l.w5)((function(t){return[0===t.data.index?((0,l.wg)(),(0,l.j4)(w,{key:0,class:"w_100",type:"number",disabled:r.lengthDisabeld,modelValue:e.data.extras.min,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.data.extras.min=a}),modelModifiers:{number:!0},placeholder:"最小"},null,8,["disabled","modelValue"])):(0,l.kq)("",!0),1===t.data.index?((0,l.wg)(),(0,l.iD)("div",u,"-")):(0,l.kq)("",!0),2===t.data.index?((0,l.wg)(),(0,l.j4)(w,{key:2,class:"w_100",type:"number",disabled:r.lengthDisabeld,modelValue:e.data.extras.max,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.data.extras.max=a}),modelModifiers:{number:!0},placeholder:"最大"},null,8,["disabled","modelValue"])):(0,l.kq)("",!0),3===t.data.index?((0,l.wg)(),(0,l.iD)("div",o,(0,n.toDisplayString)("percent"===e.data.extras.validType?"%":""),1)):(0,l.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,l.Wm)(f,{label:"默认值：",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(w,{type:e.data.type,modelValue:e.data.extras.defaultValue,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.data.extras.defaultValue=a}),class:"w_100"},null,8,["type","modelValue"])]})),_:1}),d.showDecimalPlace?((0,l.wg)(),(0,l.j4)(f,{key:1,label:"小数位："},{default:(0,l.w5)((function(){return[(0,l.Wm)(x,{modelValue:e.data.extras.precision,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.data.extras.precision=a}),min:1},null,8,["modelValue"])]})),_:1})):(0,l.kq)("",!0),(0,l.Wm)(f,{label:"步长："},{default:(0,l.w5)((function(){return[(0,l.Wm)(x,{modelValue:e.data.extras.step,"onUpdate:modelValue":a[6]||(a[6]=function(a){return e.data.extras.step=a}),precision:d.stepPrecisionConfig},null,8,["modelValue","precision"])]})),_:1})]})),_:1}),(0,l.Wm)(c,{label:"显示设置",name:"show"},{default:(0,l.w5)((function(){return[(0,l.Wm)(g,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,l.Wm)(c,{label:"只读设置",name:"readonly"},{default:(0,l.w5)((function(){return[(0,l.Wm)(g,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},95199:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var l=t(27875),n=t(50349),u={class:"custom-table mb-5"},o=(0,l._)("span",null,null,-1),i={class:"custom-table"};t(58188),t(1939),t(68995),t(74083),t(99805);var r={name:"RadioAttr",extends:t(30621).default,data:function(){return{isDisabeld:!1,rules:{}}},computed:{relateFieldOptions:function(){var e=this,a=[];return this.data.extras.relateOptionField&&this.componentList.forEach((function(t){if(t.id===e.data.extras.relateOptionField)return a=t.extras.options||[],!1})),a}},watch:{},mounted:function(){},methods:{addOption:function(e){var a=1,t=[];for(this.data.extras.options.forEach((function(e){t.push(parseInt(e.value))}));-1!==t.indexOf(a);)a++;var l={isDefault:!1,value:"".concat(a),label:"",color:null};e||0===e?this.data.extras.options.splice(e+1,0,l):this.data.extras.options.push(l)},deleteOption:function(e){this.data.extras.options.splice(e,1)},changeDefaultOption:function(e){this.data.extras.options.forEach((function(a){a.value!==e.value&&(a.isDefault=!1)}))}}};var d=(0,t(94407).Z)(r,[["render",function(e,a,t,r,d,s){var c=(0,l.up)("base-attr"),m=(0,l.up)("el-tab-pane"),p=(0,l.up)("el-radio"),f=(0,l.up)("el-table-column"),h=(0,l.up)("el-input"),w=(0,l.up)("delete"),b=(0,l.up)("el-icon"),x=(0,l.up)("el-table"),g=(0,l.up)("el-option"),v=(0,l.up)("el-select"),_=(0,l.up)("el-form-item"),V=(0,l.up)("showConfig"),y=(0,l.up)("el-tabs"),W=(0,l.up)("el-form");return(0,l.wg)(),(0,l.j4)(W,{ref:"form",model:e.data.extras,rules:d.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(y,{modelValue:e.tabsActives,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.tabsActives=a})},{default:(0,l.w5)((function(){return[(0,l.Wm)(m,{label:"基础属性",name:"base"},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{data:e.data},null,8,["data"])]})),_:1}),(0,l.Wm)(m,{label:"业务属性",name:"extras"},{default:(0,l.w5)((function(){return[(0,l._)("div",u,[(0,l.Wm)(x,{"row-key":"value",prop:"options",data:e.data.extras.options,"max-height":506,size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{"header-align":"center",align:"center",label:"默认值",width:"80px"},{default:(0,l.w5)((function(e){var a=e.row,t=e.$index;return[(0,l.Wm)(p,{size:"small","data-mark":"选择框_"+t,modelValue:a.isDefault,"onUpdate:modelValue":function(e){return a.isDefault=e},label:!0,onChange:function(e){return s.changeDefaultOption(a)}},{default:(0,l.w5)((function(){return[o]})),_:2},1032,["data-mark","modelValue","onUpdate:modelValue","onChange"])]})),_:1}),(0,l.Wm)(f,{"header-align":"center",align:"center",label:"选项值",width:"80px"},{default:(0,l.w5)((function(e){var a=e.row;return[(0,l.Wm)(h,{class:"w-full",size:"small",prop:"value",modelValue:a.value,"onUpdate:modelValue":function(e){return a.value=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(f,{label:"选项名称"},{default:(0,l.w5)((function(e){var a=e.row;return[(0,l.Wm)(h,{class:"w-full",size:"small",prop:"selectName",modelValue:a.label,"onUpdate:modelValue":function(e){return a.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(f,{"header-align":"center",align:"center",label:"操作",width:"50px"},{default:(0,l.w5)((function(e){var a=e.$index;return[(0,l.Wm)(b,{class:"custom-table__icon",onClick:function(e){return s.deleteOption(a)}},{default:(0,l.w5)((function(){return[(0,l.Wm)(w)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,l._)("div",{"data-mark":"添加选项按钮",class:"custom-table__button",onClick:a[0]||(a[0]=function(e){return s.addOption("")})}," +添加选项 ")]),(0,l.Wm)(_,{label:"关联选项：",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{modelValue:e.data.extras.relateOptionField,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.data.extras.relateOptionField=a}),size:"small",filterable:"",clearable:""},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.componentList,(function(a){return(0,l.wg)(),(0,l.iD)(l.HY,null,["radio"===a.type&&a.id!==e.data.id?((0,l.wg)(),(0,l.j4)(g,{"data-mark":"关联选项字段",label:a.title,value:a.id,key:a.id},null,8,["label","value"])):(0,l.kq)("",!0)],64)})),256))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)(_,{label:"关联可选项："}),(0,l._)("div",i,[(0,l.Wm)(x,{data:s.relateFieldOptions,"max-height":506,size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{"header-align":"center",align:"center",label:"关联选项",width:"100px"},{default:(0,l.w5)((function(e){var a=e.row;return[(0,l.Uk)((0,n.toDisplayString)(a.label),1)]})),_:1}),(0,l.Wm)(f,{label:"本组件可选项"},{default:(0,l.w5)((function(a){var t=a.row;return[((0,l.wg)(),(0,l.j4)(v,{class:"w-full",size:"small",modelValue:e.data.extras.relateAvailableOptions[t.value],"onUpdate:modelValue":function(a){return e.data.extras.relateAvailableOptions[t.value]=a},key:t.label,appendToBody:"",multiple:""},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data.extras.options,(function(e){return(0,l.wg)(),(0,l.j4)(g,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]))]})),_:1})]})),_:1},8,["data"])])]})),_:1}),(0,l.Wm)(m,{label:"显示设置",name:"show"},{default:(0,l.w5)((function(){return[(0,l.Wm)(V,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,l.Wm)(m,{label:"只读设置",name:"readonly"},{default:(0,l.w5)((function(){return[(0,l.Wm)(V,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])}}]);