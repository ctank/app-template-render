"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[3191],{64430:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=a(27875),n={key:1,class:"w_100",style:{height:"1px"}},u={key:1,class:"text-center"},o={class:"custom-table mb-5 w-full"},r={class:"custom-table mb-5 w-full"};a(99805);var d={name:"ImageUploadAttr",extends:a(30621).default,data:function(){return{lengthDisabeld:!1,rules:{}}},computed:{},watch:{},mounted:function(){},methods:{addHeader:function(){this.data.extras.uploadConfig.headers.push({key:"",type:"const",value:""})},deleteHeader:function(e){this.data.extras.uploadConfig.headers.splice(e,1)},addData:function(){this.data.extras.uploadConfig.data.push({key:"",type:"const",value:""})},deleteData:function(e){this.data.extras.uploadConfig.data.splice(e,1)}}};const i=(0,a(94407).Z)(d,[["render",function(e,t,a,d,i,m){var c=(0,l.up)("base-attr"),s=(0,l.up)("el-tab-pane"),f=(0,l.up)("el-input-number"),p=(0,l.up)("el-form-item"),b=(0,l.up)("el-option"),w=(0,l.up)("el-select"),_=(0,l.up)("row-split"),h=(0,l.up)("el-input"),V=(0,l.up)("el-table-column"),W=(0,l.up)("delete"),x=(0,l.up)("el-icon"),g=(0,l.up)("el-table"),v=(0,l.up)("showConfig"),y=(0,l.up)("el-tabs"),C=(0,l.up)("el-form");return(0,l.wg)(),(0,l.j4)(C,{ref:"form",model:e.data.extras,rules:i.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(y,{modelValue:e.tabsActives,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.tabsActives=t})},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{label:"基础属性",name:"base"},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{data:e.data},null,8,["data"])]})),_:1}),(0,l.Wm)(s,{label:"业务属性",name:"extras"},{default:(0,l.w5)((function(){return[(0,l.Wm)(p,{label:"显示宽度",prop:"width",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{modelValue:e.data.extras.width,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.width=t}),min:10},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"显示高度",prop:"height",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{modelValue:e.data.extras.height,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.height=t}),min:10},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"大小限制",prop:"fileSizeLimit"},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,{colWidths:["calc(100% - 70px)","10px","60px"]},{default:(0,l.w5)((function(a){return[0===a.data.index?((0,l.wg)(),(0,l.j4)(f,{key:0,modelValue:e.data.extras.fileSizeLimit.value,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.extras.fileSizeLimit.value=t}),min:0},null,8,["modelValue"])):(0,l.kq)("",!0),1===a.data.index?((0,l.wg)(),(0,l.iD)("div",n)):(0,l.kq)("",!0),2===a.data.index?((0,l.wg)(),(0,l.j4)(w,{key:2,class:"w_100",modelValue:e.data.extras.fileSizeLimit.unit,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.fileSizeLimit.unit=t})},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{label:"MB",value:"MB"}),(0,l.Wm)(b,{label:"KB",value:"KB"})]})),_:1},8,["modelValue"])):(0,l.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,l.Wm)(p,{label:"数量限制"},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,{colWidths:["calc((100% - 10px) / 2)","10px","calc((100% - 10px) / 2)"]},{default:(0,l.w5)((function(a){return[0===a.data.index?((0,l.wg)(),(0,l.j4)(f,{key:0,modelValue:e.data.extras.minLimit,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.minLimit=t}),min:1,precision:0,controls:!1,placeholder:"最少"},null,8,["modelValue"])):(0,l.kq)("",!0),1===a.data.index?((0,l.wg)(),(0,l.iD)("div",u,"-")):(0,l.kq)("",!0),2===a.data.index?((0,l.wg)(),(0,l.j4)(f,{key:2,modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.extras.maxLimit=t}),min:1,precision:0,controls:!1,placeholder:"最多"},null,8,["modelValue"])):(0,l.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1})]})),_:1}),(0,l.Wm)(s,{label:"上传配置",name:"config"},{default:(0,l.w5)((function(){return[(0,l.Wm)(p,{label:"接口",prop:"action",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{class:"w_100",modelValue:e.data.extras.uploadConfig.action,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.extras.uploadConfig.action=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"名称字段路径",prop:"success",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{class:"w_100",modelValue:e.data.extras.uploadConfig.nameFieldPath,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.data.extras.uploadConfig.nameFieldPath=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"地址字段路径",prop:"urlFieldPath",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{class:"w_100",modelValue:e.data.extras.uploadConfig.urlFieldPath,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.data.extras.uploadConfig.urlFieldPath=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"请求头",prop:"action",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l._)("div",o,[(0,l.Wm)(g,{prop:"headers",data:e.data.extras.uploadConfig.headers,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(V,{label:"键"},{default:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(h,{class:"w-full",size:"small",prop:"label",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(V,{label:"值类型"},{default:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(w,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e}},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{label:"常量",value:"const"}),(0,l.Wm)(b,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(V,{label:"值"},{default:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(h,{class:"w-full",size:"small",prop:"key",modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(V,{"header-align":"center",label:"操作",width:"50px"},{default:(0,l.w5)((function(e){var t=e.$index;return[(0,l.Wm)(x,{class:"custom-table__icon",onClick:function(e){return m.deleteHeader(t)}},{default:(0,l.w5)((function(){return[(0,l.Wm)(W)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,l._)("div",{class:"custom-table__button",onClick:t[9]||(t[9]=function(){return m.addHeader&&m.addHeader.apply(m,arguments)})},"+添加请求头")])]})),_:1}),(0,l.Wm)(p,{label:"附加数据",prop:"action",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l._)("div",r,[(0,l.Wm)(g,{prop:"data",data:e.data.extras.uploadConfig.data,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(V,{label:"键"},{default:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(h,{class:"w-full",size:"small",prop:"label",modelValue:t.label,"onUpdate:modelValue":function(e){return t.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(V,{label:"值类型"},{default:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(w,{modelValue:t.type,"onUpdate:modelValue":function(e){return t.type=e}},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{label:"常量",value:"const"}),(0,l.Wm)(b,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(V,{label:"值"},{default:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(h,{class:"w-full",size:"small",prop:"key",modelValue:t.key,"onUpdate:modelValue":function(e){return t.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,l.Wm)(V,{"header-align":"center",label:"操作",width:"50px"},{default:(0,l.w5)((function(e){var t=e.$index;return[(0,l.Wm)(x,{class:"custom-table__icon",onClick:function(e){return m.deleteHeader(t)}},{default:(0,l.w5)((function(){return[(0,l.Wm)(W)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,l._)("div",{class:"custom-table__button",onClick:t[10]||(t[10]=function(){return m.addData&&m.addData.apply(m,arguments)})},"+添加数据")])]})),_:1})]})),_:1}),(0,l.Wm)(s,{label:"事件配置",name:"event"},{default:(0,l.w5)((function(){return[(0,l.Wm)(p,{label:"上传成功",prop:"success",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{class:"w_100",modelValue:e.data.extras.actionConfig.success,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.data.extras.actionConfig.success=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"上传失败",prop:"error",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{class:"w_100",modelValue:e.data.extras.actionConfig.error,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.data.extras.actionConfig.error=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(p,{label:"删除图片",prop:"remove",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(h,{class:"w_100",modelValue:e.data.extras.actionConfig.remove,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.data.extras.actionConfig.remove=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,l.Wm)(s,{label:"显示设置",name:"show"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,l.Wm)(s,{label:"只读设置",name:"readonly"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]]);var m=i},25574:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var l=a(27875),n={class:"designer-attributes"};a(58188),a(1939),a(26936);var u=a(92041),o=a(55164),r={name:"DesignerAttrDialog",mixins:[u.Z],props:{component:{type:Object,default:function(){return null}},componentMap:{type:Object,default:function(){return{}}},componentList:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},data:function(){return{data:null}},computed:{attrTitle:function(){var e=this,t="表单";return this.menuItemList.forEach((function(a){e.component&&a.type===e.component.type&&(t=a.name,e.component.id&&(t+="(".concat(e.component.id,")")))})),t}},mounted:function(){this.$parent.$children=this,this.data=(0,o.Xh)(this.component||{})},methods:{confirm:function(){this.$attrs.events.confirm(this.data)},cancel:function(){this.$attrs.events.cancel()}}};var d=(0,a(94407).Z)(r,[["render",function(e,t,a,u,o,r){var d=(0,l.up)("component-attr-render");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(d,{data:o.data,componentList:a.componentList,componentMap:a.componentMap},null,8,["data","componentList","componentMap"])])}]])}}]);