"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[616],{22351:function(e,l,a){a.r(l),a.d(l,{default:function(){return f}});var t=a(27875),n={key:1,class:"w_100",style:{height:"1px"}},u={key:1,class:"text-center"},o=(0,t.Uk)("全部"),r=(0,t.Uk)("自定义"),d={class:"custom-table mb-5 w-full"},i={class:"custom-table mb-5 w-full"};a(99805);var m={name:"ImageUploadAttr",extends:a(30621).default,data:function(){return{fileType:"all",rules:{}}},computed:{},watch:{},mounted:function(){},methods:{addHeader:function(){this.data.extras.uploadConfig.headers.push({key:"",type:"const",value:""})},deleteHeader:function(e){this.data.extras.uploadConfig.headers.splice(e,1)},addData:function(){this.data.extras.uploadConfig.data.push({key:"",type:"const",value:""})},deleteData:function(e){this.data.extras.uploadConfig.data.splice(e,1)}}};const s=(0,a(94407).Z)(m,[["render",function(e,l,a,m,s,f){var c=(0,t.up)("base-attr"),p=(0,t.up)("el-tab-pane"),w=(0,t.up)("el-input-number"),b=(0,t.up)("el-option"),_=(0,t.up)("el-select"),V=(0,t.up)("row-split"),W=(0,t.up)("el-form-item"),x=(0,t.up)("el-radio"),g=(0,t.up)("QuestionFilled"),h=(0,t.up)("el-icon"),v=(0,t.up)("el-tooltip"),C=(0,t.up)("el-radio-group"),y=(0,t.up)("el-input"),k=(0,t.up)("el-table-column"),U=(0,t.up)("delete"),L=(0,t.up)("el-table"),z=(0,t.up)("showConfig"),M=(0,t.up)("el-tabs"),j=(0,t.up)("el-form");return(0,t.wg)(),(0,t.j4)(j,{ref:"form",model:e.data.extras,rules:s.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,t.w5)((function(){return[(0,t.Wm)(M,{modelValue:e.tabsActives,"onUpdate:modelValue":l[15]||(l[15]=function(l){return e.tabsActives=l})},{default:(0,t.w5)((function(){return[(0,t.Wm)(p,{label:"基础属性",name:"base"},{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{data:e.data},null,8,["data"])]})),_:1}),(0,t.Wm)(p,{label:"业务属性",name:"extras"},{default:(0,t.w5)((function(){return[(0,t.Wm)(W,{label:"大小限制",prop:"fileSizeLimit"},{default:(0,t.w5)((function(){return[(0,t.Wm)(V,{colWidths:["calc(100% - 70px)","10px","60px"]},{default:(0,t.w5)((function(a){return[0===a.data.index?((0,t.wg)(),(0,t.j4)(w,{key:0,modelValue:e.data.extras.fileSizeLimit.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.data.extras.fileSizeLimit.value=l}),min:0},null,8,["modelValue"])):(0,t.kq)("",!0),1===a.data.index?((0,t.wg)(),(0,t.iD)("div",n)):(0,t.kq)("",!0),2===a.data.index?((0,t.wg)(),(0,t.j4)(_,{key:2,class:"w_100",modelValue:e.data.extras.fileSizeLimit.unit,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.data.extras.fileSizeLimit.unit=l})},{default:(0,t.w5)((function(){return[(0,t.Wm)(b,{label:"MB",value:"MB"}),(0,t.Wm)(b,{label:"KB",value:"KB"})]})),_:1},8,["modelValue"])):(0,t.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,t.Wm)(W,{label:"数量限制"},{default:(0,t.w5)((function(){return[(0,t.Wm)(V,{colWidths:["calc((100% - 10px) / 2)","10px","calc((100% - 10px) / 2)"]},{default:(0,t.w5)((function(a){return[0===a.data.index?((0,t.wg)(),(0,t.j4)(w,{key:0,modelValue:e.data.extras.minLimit,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.data.extras.minLimit=l}),min:1,precision:0,controls:!1,placeholder:"最少"},null,8,["modelValue"])):(0,t.kq)("",!0),1===a.data.index?((0,t.wg)(),(0,t.iD)("div",u,"-")):(0,t.kq)("",!0),2===a.data.index?((0,t.wg)(),(0,t.j4)(w,{key:2,modelValue:e.data.extras.maxLimit,"onUpdate:modelValue":l[3]||(l[3]=function(l){return e.data.extras.maxLimit=l}),min:1,precision:0,controls:!1,placeholder:"最多"},null,8,["modelValue"])):(0,t.kq)("",!0)]})),_:1},8,["colWidths"])]})),_:1}),(0,t.Wm)(W,{label:"文件类型"},{default:(0,t.w5)((function(){return[(0,t.Wm)(C,{modelValue:s.fileType,"onUpdate:modelValue":l[4]||(l[4]=function(e){return s.fileType=e})},{default:(0,t.w5)((function(){return[(0,t.Wm)(x,{label:"all"},{default:(0,t.w5)((function(){return[o]})),_:1}),(0,t.Wm)(x,{label:"custom"},{default:(0,t.w5)((function(){return[r,(0,t.Wm)(v,{class:"box-item",effect:"dark",content:"格式：doc;xls;ppt",placement:"top-start"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{class:"atp-question-icon ml-2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(g)]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),"custom"===s.fileType?((0,t.wg)(),(0,t.j4)(W,{key:0,label:""},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w-80",modelValue:e.data.extras.fileType,"onUpdate:modelValue":l[5]||(l[5]=function(l){return e.data.extras.fileType=l}),rows:4,type:"textarea"},null,8,["modelValue"])]})),_:1})):(0,t.kq)("",!0)]})),_:1}),(0,t.Wm)(p,{label:"上传配置",name:"config"},{default:(0,t.w5)((function(){return[(0,t.Wm)(W,{label:"接口",prop:"action",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.uploadConfig.action,"onUpdate:modelValue":l[6]||(l[6]=function(l){return e.data.extras.uploadConfig.action=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(W,{label:"名称字段路径",prop:"success",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.uploadConfig.nameFieldPath,"onUpdate:modelValue":l[7]||(l[7]=function(l){return e.data.extras.uploadConfig.nameFieldPath=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(W,{label:"地址字段路径",prop:"urlFieldPath",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.uploadConfig.urlFieldPath,"onUpdate:modelValue":l[8]||(l[8]=function(l){return e.data.extras.uploadConfig.urlFieldPath=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(W,{label:"请求头",prop:"action",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t._)("div",d,[(0,t.Wm)(L,{prop:"headers",data:e.data.extras.uploadConfig.headers,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,t.w5)((function(){return[(0,t.Wm)(k,{label:"键"},{default:(0,t.w5)((function(e){var l=e.row;return[(0,t.Wm)(y,{class:"w-full",size:"small",prop:"label",modelValue:l.label,"onUpdate:modelValue":function(e){return l.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,t.Wm)(k,{label:"值类型"},{default:(0,t.w5)((function(e){var l=e.row;return[(0,t.Wm)(_,{modelValue:l.type,"onUpdate:modelValue":function(e){return l.type=e}},{default:(0,t.w5)((function(){return[(0,t.Wm)(b,{label:"常量",value:"const"}),(0,t.Wm)(b,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,t.Wm)(k,{label:"值"},{default:(0,t.w5)((function(e){var l=e.row;return[(0,t.Wm)(y,{class:"w-full",size:"small",prop:"key",modelValue:l.key,"onUpdate:modelValue":function(e){return l.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,t.Wm)(k,{"header-align":"center",label:"操作",width:"50px"},{default:(0,t.w5)((function(e){var l=e.$index;return[(0,t.Wm)(h,{class:"custom-table__icon",onClick:function(e){return f.deleteHeader(l)}},{default:(0,t.w5)((function(){return[(0,t.Wm)(U)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,t._)("div",{class:"custom-table__button",onClick:l[9]||(l[9]=function(){return f.addHeader&&f.addHeader.apply(f,arguments)})},"+添加请求头")])]})),_:1}),(0,t.Wm)(W,{label:"附加数据",prop:"action",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t._)("div",i,[(0,t.Wm)(L,{prop:"data",data:e.data.extras.uploadConfig.data,"max-height":506,style:{width:"100%"},size:"small"},{default:(0,t.w5)((function(){return[(0,t.Wm)(k,{label:"键"},{default:(0,t.w5)((function(e){var l=e.row;return[(0,t.Wm)(y,{class:"w-full",size:"small",prop:"label",modelValue:l.label,"onUpdate:modelValue":function(e){return l.label=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,t.Wm)(k,{label:"值类型"},{default:(0,t.w5)((function(e){var l=e.row;return[(0,t.Wm)(_,{modelValue:l.type,"onUpdate:modelValue":function(e){return l.type=e}},{default:(0,t.w5)((function(){return[(0,t.Wm)(b,{label:"常量",value:"const"}),(0,t.Wm)(b,{label:"属性",value:"prop"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,t.Wm)(k,{label:"值"},{default:(0,t.w5)((function(e){var l=e.row;return[(0,t.Wm)(y,{class:"w-full",size:"small",prop:"key",modelValue:l.key,"onUpdate:modelValue":function(e){return l.key=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,t.Wm)(k,{"header-align":"center",label:"操作",width:"50px"},{default:(0,t.w5)((function(e){var l=e.$index;return[(0,t.Wm)(h,{class:"custom-table__icon",onClick:function(e){return f.deleteHeader(l)}},{default:(0,t.w5)((function(){return[(0,t.Wm)(U)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,t._)("div",{class:"custom-table__button",onClick:l[10]||(l[10]=function(){return f.addData&&f.addData.apply(f,arguments)})},"+添加数据")])]})),_:1})]})),_:1}),(0,t.Wm)(p,{label:"事件配置",name:"event"},{default:(0,t.w5)((function(){return[(0,t.Wm)(W,{label:"上传成功",prop:"success",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.actionConfig.success,"onUpdate:modelValue":l[11]||(l[11]=function(l){return e.data.extras.actionConfig.success=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(W,{label:"上传失败",prop:"error",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.actionConfig.error,"onUpdate:modelValue":l[12]||(l[12]=function(l){return e.data.extras.actionConfig.error=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(W,{label:"文件删除",prop:"remove",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.actionConfig.remove,"onUpdate:modelValue":l[13]||(l[13]=function(l){return e.data.extras.actionConfig.remove=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(W,{label:"文件预览",prop:"preview",class:"mb_2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{class:"w_100",modelValue:e.data.extras.actionConfig.preview,"onUpdate:modelValue":l[14]||(l[14]=function(l){return e.data.extras.actionConfig.preview=l}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,t.Wm)(p,{label:"显示设置",name:"show"},{default:(0,t.w5)((function(){return[(0,t.Wm)(z,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,t.Wm)(p,{label:"只读设置",name:"readonly"},{default:(0,t.w5)((function(){return[(0,t.Wm)(z,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]]);var f=s},862:function(e,l,a){a.r(l),a.d(l,{default:function(){return o}});a(26936);var t=a(27875);var n=a(55164),u={name:"FormAttr",props:{config:{type:Object,default:function(){return{}}}},data:function(){return{tabsActives:"base",formConfig:{}}},mounted:function(){this.$parent.$children=this,this.formConfig=(0,n.Xh)(this.config||{})},methods:{confirm:function(){this.$attrs.events.confirm(this.formConfig)},cancel:function(){this.$attrs.events.cancel()}}};var o=(0,a(94407).Z)(u,[["render",function(e,l,a,n,u,o){var r=(0,t.up)("el-input"),d=(0,t.up)("el-form-item"),i=(0,t.up)("el-tab-pane"),m=(0,t.up)("el-tabs"),s=(0,t.up)("el-form");return(0,t.wg)(),(0,t.j4)(s,{ref:"form",model:u.formConfig,rules:e.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,t.w5)((function(){return[(0,t.Wm)(m,{modelValue:u.tabsActives,"onUpdate:modelValue":l[2]||(l[2]=function(e){return u.tabsActives=e})},{default:(0,t.w5)((function(){return[(0,t.Wm)(i,{label:"基础属性",name:"base"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{label:"表单名称：",prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(r,{modelValue:u.formConfig.name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return u.formConfig.name=e}),class:"w-1/2",maxlength:"200"},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(d,{label:"表单API：",prop:"api"},{default:(0,t.w5)((function(){return[(0,t.Wm)(r,{modelValue:u.formConfig.api,"onUpdate:modelValue":l[1]||(l[1]=function(e){return u.formConfig.api=e}),class:"w-1/2",maxlength:"200"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])}}]);