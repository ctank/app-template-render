"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[4815],{92306:function(e,t,n){n.r(t);var i=n(13484),o=n(20996),s=n(16614),r=n(55298),a=n(50038),c=n(57841),d=n(21081),l=n(132),u=n(30363),g=n(44411),h=n(26386),p=n(58566);class f{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new c.Y(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new c.Y(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}var S=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},m=function(e,t){return function(n,i){t(n,i,e)}};let b=class e{constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,n){this.currentRequest&&this.currentRequest.cancel();const r=this.editor.getSelection(),d=this.editor.getModel();if(!d||!r)return;let l=r;if(l.startLineNumber!==l.endLineNumber)return;const u=new s.yy(this.editor,5),g=d.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,i.PG)((e=>this.editorWorkerService.navigateValueSet(g,l,n))),this.currentRequest.then((n=>{if(!n||!n.range||!n.value)return;if(!u.validate(this.editor))return;const s=a.e.lift(n.range);let r=n.range;const d=n.value.length-(l.endColumn-l.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+n.value.length},d>1&&(l=new c.Y(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+d-1));const g=new f(s,l,n.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,g),this.editor.pushUndoStop(),this.decorations.set([{range:r,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,i.Vs)(350),this.decorationRemover.then((()=>this.decorations.clear())).catch(o.dL)})).catch(o.dL)):Promise.resolve(void 0)}};b.ID="editor.contrib.inPlaceReplaceController",b.DECORATION=l.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),b=S([m(1,u.p)],b);class C extends r.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:h.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=b.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}class I extends r.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:h.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=b.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}(0,r._K)(b.ID,b),(0,r.Qr)(C),(0,r.Qr)(I),(0,p.Ic)(((e,t)=>{const n=e.getColor(g.Dl);n&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${n}; }`)}))},54425:function(e,t,n){function i(e,t){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;let i="";if(!n){const n=Math.floor(e/t);e%=t;for(let e=0;e<n;e++)i+="\t"}for(let t=0;t<e;t++)i+=" ";return i}n.d(t,{J:function(){return o},Y:function(){return i}})},32262:function(e,t,n){n.r(t),n.d(t,{AutoIndentOnPaste:function(){return k},AutoIndentOnPasteCommand:function(){return P},ChangeIndentationSizeAction:function(){return N},DetectIndentation:function(){return _},IndentUsingSpaces:function(){return R},IndentUsingTabs:function(){return O},IndentationToSpacesAction:function(){return L},IndentationToSpacesCommand:function(){return w},IndentationToTabsAction:function(){return v},IndentationToTabsCommand:function(){return U},ReindentLinesAction:function(){return x},ReindentSelectedLinesAction:function(){return T},getReindentEditOperations:function(){return I}});var i=n(38431),o=n(17416),s=n(55298),r=n(8453),a=n(19083),c=n(50038),d=n(57841),l=n(21081),u=n(29173),g=n(65041),h=n(54425),p=n(26386),f=n(38785),S=n(5184),m=n(89026),b=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},C=function(e,t){return function(n,i){t(n,i,e)}};function I(e,t,n,i,s){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const c=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!c)return[];for(i=Math.min(i,e.getLineCount());n<=i&&c.unIndentedLinePattern;){const t=e.getLineContent(n);if(!c.unIndentedLinePattern.test(t))break;n++}if(n>i-1)return[];const{tabSize:l,indentSize:u,insertSpaces:g}=e.getOptions(),h=(e,t)=>(t=t||1,r.U.shiftIndent(e,e.length+t,l,u,g)),p=(e,t)=>(t=t||1,r.U.unshiftIndent(e,e.length+t,l,u,g)),f=[];let m;const b=e.getLineContent(n);let C=b;if(null!=s){m=s;const e=o.V8(b);C=m+b.substring(e.length),c.decreaseIndentPattern&&c.decreaseIndentPattern.test(C)&&(m=p(m),C=m+b.substring(e.length)),b!==C&&f.push(a.h.replaceMove(new d.Y(n,1,n,e.length+1),(0,S.x)(m,u,g)))}else m=o.V8(b);let I=m;c.increaseIndentPattern&&c.increaseIndentPattern.test(C)?(I=h(I),m=h(m)):c.indentNextLinePattern&&c.indentNextLinePattern.test(C)&&(I=h(I));for(let t=++n;t<=i;t++){const n=e.getLineContent(t),i=o.V8(n),s=I+n.substring(i.length);c.decreaseIndentPattern&&c.decreaseIndentPattern.test(s)&&(I=p(I),m=p(m)),i!==I&&f.push(a.h.replaceMove(new d.Y(t,1,t,i.length+1),(0,S.x)(I,u,g))),c.unIndentedLinePattern&&c.unIndentedLinePattern.test(n)||(c.increaseIndentPattern&&c.increaseIndentPattern.test(s)?(m=h(m),I=m):I=c.indentNextLinePattern&&c.indentNextLinePattern.test(s)?h(I):m)}return f}class L extends s.R6{constructor(){super({id:L.ID,label:p.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:l.u.writable})}run(e,t){const n=t.getModel();if(!n)return;const i=n.getOptions(),o=t.getSelection();if(!o)return;const s=new w(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}L.ID="editor.action.indentationToSpaces";class v extends s.R6{constructor(){super({id:v.ID,label:p.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:l.u.writable})}run(e,t){const n=t.getModel();if(!n)return;const i=n.getOptions(),o=t.getSelection();if(!o)return;const s=new U(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}v.ID="editor.action.indentationToTabs";class N extends s.R6{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(f.eJ),i=e.get(g.q),o=t.getModel();if(!o)return;const s=i.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),r=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===s.tabSize?p.NC("configuredTabSize","Configured Tab Size"):void 0}))),a=Math.min(o.getOptions().tabSize-1,7);setTimeout((()=>{n.pick(r,{placeHolder:p.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:r[a]}).then((e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})}))}),50)}}class O extends N{constructor(){super(!1,{id:O.ID,label:p.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}O.ID="editor.action.indentUsingTabs";class R extends N{constructor(){super(!0,{id:R.ID,label:p.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}R.ID="editor.action.indentUsingSpaces";class _ extends s.R6{constructor(){super({id:_.ID,label:p.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get(g.q),i=t.getModel();if(!i)return;const o=n.getCreationOptions(i.getLanguageId(),i.uri,i.isForSimpleWidget);i.detectIndentation(o.insertSpaces,o.tabSize)}}_.ID="editor.action.detectIndentation";class x extends s.R6{constructor(){super({id:"editor.action.reindentlines",label:p.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:l.u.writable})}run(e,t){const n=e.get(u.c_),i=t.getModel();if(!i)return;const o=I(i,n,1,i.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class T extends s.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:p.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:l.u.writable})}run(e,t){const n=e.get(u.c_),i=t.getModel();if(!i)return;const o=t.getSelections();if(null===o)return;const s=[];for(const e of o){let t=e.startLineNumber,o=e.endLineNumber;if(t!==o&&1===e.endColumn&&o--,1===t){if(t===o)continue}else t--;const r=I(i,n,t,o);s.push(...r)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}class P{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const t of e)t.range&&"string"==typeof t.text&&this._edits.push(t)}getEditOperations(e,t){for(const e of this._edits)t.addEditOperation(c.e.lift(e.range),e.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let k=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new i.SL,this.callOnModel=new i.SL,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(50)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){const t=this.editor.getSelections();if(null===t||t.length>1)return;const n=this.editor.getModel();if(!n)return;if(!n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const i=this.editor.getOption(9),{tabSize:s,indentSize:a,insertSpaces:d}=n.getOptions(),l=[],u={shiftIndent:e=>r.U.shiftIndent(e,e.length+1,s,a,d),unshiftIndent:e=>r.U.unshiftIndent(e,e.length+1,s,a,d)};let g=e.startLineNumber;for(;g<=e.endLineNumber&&this.shouldIgnoreLine(n,g);)g++;if(g>e.endLineNumber)return;let p=n.getLineContent(g);if(!/\S/.test(p.substring(0,e.startColumn-1))){const e=(0,m.n8)(i,n,n.getLanguageId(),g,u,this._languageConfigurationService);if(null!==e){const t=o.V8(p),i=h.Y(e,s);if(i!==h.Y(t,s)){const e=h.J(i,s,d);l.push({range:new c.e(g,1,g,t.length+1),text:e}),p=e+p.substr(t.length)}else{const e=(0,m.tI)(n,g,this._languageConfigurationService);if(0===e||8===e)return}}}const f=g;for(;g<e.endLineNumber&&!/\S/.test(n.getLineContent(g+1));)g++;if(g!==e.endLineNumber){const t={tokenization:{getLineTokens:e=>n.tokenization.getLineTokens(e),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(e,t)=>n.getLanguageIdAtPosition(e,t)},getLineContent:e=>e===f?p:n.getLineContent(e)},r=(0,m.n8)(i,t,n.getLanguageId(),g+1,u,this._languageConfigurationService);if(null!==r){const t=h.Y(r,s),i=h.Y(o.V8(n.getLineContent(g+1)),s);if(t!==i){const r=t-i;for(let t=g+1;t<=e.endLineNumber;t++){const e=n.getLineContent(t),i=o.V8(e),a=h.Y(i,s)+r,u=h.J(a,s,d);u!==i&&l.push({range:new c.e(t,1,t,i.length+1),text:u})}}}}if(l.length>0){this.editor.pushUndoStop();const e=new P(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;const i=e.tokenization.getLineTokens(t);if(i.getCount()>0){const e=i.findTokenIndexAtOffset(n);if(e>=0&&1===i.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};function D(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let e=0;e<n;e++)o+=" ";const s=new RegExp(o,"gi");for(let n=1,r=e.getLineCount();n<=r;n++){let r=e.getLineFirstNonWhitespaceColumn(n);if(0===r&&(r=e.getLineMaxColumn(n)),1===r)continue;const a=new c.e(n,1,n,r),d=e.getValueInRange(a),l=i?d.replace(/\t/gi,o):d.replace(s,"\t");t.addEditOperation(a,l)}}k.ID="editor.contrib.autoIndentOnPaste",k=b([C(1,u.c_)],k);class w{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),D(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class U{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),D(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,s._K)(k.ID,k),(0,s.Qr)(L),(0,s.Qr)(v),(0,s.Qr)(O),(0,s.Qr)(R),(0,s.Qr)(_),(0,s.Qr)(x),(0,s.Qr)(T)}}]);