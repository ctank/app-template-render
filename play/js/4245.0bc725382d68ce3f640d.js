"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[4245],{44245:function(e,a,t){t.r(a),t.d(a,{default:function(){return i}});var l=t(27875),n=(0,l._)("span",{class:"d_text"},"分钟",-1),u=(0,l._)("span",{class:"d_text"},"天",-1),r=(0,l._)("span",{class:"d_text"},"天",-1);t(58188),t(1939),t(95342),t(68995),t(18178);var o=t(30621),d=t(55164),m={name:"DateTimeAttr",extends:o.default,data:function(){return{lengthDisabeld:!1,valueTypeOptions:[{label:"任意",value:"custom"},{label:"固定",value:"fixed"}],formatOptions:d.a9.DATETIME_FORMAT_OPTIONS,timeStep:"",rules:{}}},computed:{fieldType:function(){var e=this.data.extras,a=e.format,t=e.timeStep,l={component:"el-date-picker",props:{type:"datetime",format:a}};switch(a){case"YYYY-MM-DD HH:mm:ss":case"YYYY-MM-DD HH:mm":l.component="el-date-picker",l.props.type="datetime",l.props.valueFormat=a;break;case"YYYY-MM-DD":l.component="el-date-picker",l.props.type="date",l.props.valueFormat=a;break;case"YYYY-MM":l.component="el-date-picker",l.props.type="month",l.props.valueFormat=a;break;case"YYYY":l.component="el-date-picker",l.props.type="year",l.props.valueFormat=a;break;case"HH:mm:ss":l.component="el-time-picker",l.props={};break;case"HH:mm":l.component="el-time-select",l.props={start:"00:00",end:"23:59"},t&&"0"!==t&&(l.props.step=t)}return l},relateComponentList:function(){var e=this,a=[];return Array.isArray(this.componentList)&&this.componentList.forEach((function(t){t.id!==e.data.id&&t.type===e.data.type&&a.push(t)})),a},dateRangeOptions:function(){var e=[{label:"无",value:"null"},{label:"固定",value:"fixed"},{label:"填写时",value:"now"},{label:"填写时前",value:"before"},{label:"填写时后",value:"after"},{label:"控件",value:"field"}];return"HH:mm:ss"===this.data.extras.format||"HH:mm"===this.data.extras.format?e.filter((function(e){return"before"!==e.value&&"after"!==e.value})):e},enableRange:function(){return!("YYYY"===this.data.extras.format||"HH:mm"===this.data.extras.format&&this.data.extras.isSelect)}},methods:{getTimeStep:function(){if(this.timeStep&&"0"!==this.timeStep){var e=parseInt(this.timeStep),a=parseInt(e/60),t=e%60;return a<10&&(a="0".concat(a)),t<10&&(t="0".concat(t)),"".concat(a,":").concat(t)}return"00:01"},handleStepInputBlur:function(){this.data.extras.timeStep=this.getTimeStep()},handleFormatChange:function(){this.data.extras.isRange=!1,this.data.extras.isSelect=!1,this.data.extras.min={type:"null",value:""},this.data.extras.max={type:"null",value:""}}}};var i=(0,t(94407).Z)(m,[["render",function(e,a,t,o,d,m){var i=(0,l.up)("base-attr"),s=(0,l.up)("el-tab-pane"),p=(0,l.up)("el-option"),f=(0,l.up)("el-select"),c=(0,l.up)("el-form-item"),x=(0,l.up)("el-switch"),b=(0,l.up)("el-input"),v=(0,l.up)("showConfig"),w=(0,l.up)("el-tabs"),y=(0,l.up)("el-form");return(0,l.wg)(),(0,l.j4)(y,{ref:"form",model:e.data.extras,rules:d.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,l.w5)((function(){return[(0,l.Wm)(w,{modelValue:e.tabsActives,"onUpdate:modelValue":a[13]||(a[13]=function(a){return e.tabsActives=a})},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{label:"基础属性",name:"base"},{default:(0,l.w5)((function(){return[(0,l.Wm)(i,{data:e.data},null,8,["data"])]})),_:1}),(0,l.Wm)(s,{label:"业务属性",name:"extras"},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{label:"格式",prop:"format",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{modelValue:e.data.extras.format,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.data.extras.format=a}),onChange:m.handleFormatChange},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.formatOptions,(function(e){return(0,l.wg)(),(0,l.j4)(p,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),"HH:mm"===e.data.extras.format?((0,l.wg)(),(0,l.j4)(c,{key:0,label:"下拉选择："},{default:(0,l.w5)((function(){return[(0,l.Wm)(x,{modelValue:e.data.extras.isSelect,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.data.extras.isSelect=a})},null,8,["modelValue"])]})),_:1})):(0,l.kq)("",!0),m.enableRange?((0,l.wg)(),(0,l.j4)(c,{key:1,label:"范围："},{default:(0,l.w5)((function(){return[(0,l.Wm)(x,{modelValue:e.data.extras.isRange,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.data.extras.isRange=a})},null,8,["modelValue"])]})),_:1})):(0,l.kq)("",!0),"el-time-select"===m.fieldType.component&&e.data.extras.isSelect?((0,l.wg)(),(0,l.j4)(c,{key:2,label:"时间间隔",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{class:"w-24 mr-2",modelValue:d.timeStep,"onUpdate:modelValue":a[3]||(a[3]=function(e){return d.timeStep=e}),onBlur:m.handleStepInputBlur},null,8,["modelValue","onBlur"]),n]})),_:1})):(0,l.kq)("",!0),(0,l.Wm)(c,{label:"最早",prop:"type",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{class:"mr-2",modelValue:e.data.extras.min.type,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.data.extras.min.type=a})},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.dateRangeOptions,(function(e){return(0,l.wg)(),(0,l.j4)(p,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),"fixed"===e.data.extras.min.type?((0,l.wg)(),(0,l.j4)((0,l.LL)(m.fieldType.component),(0,l.dG)({key:0,modelValue:e.data.extras.min.value,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.data.extras.min.value=a})},m.fieldType.props),null,16,["modelValue"])):"null"!==e.data.extras.min.type&&"now"!==e.data.extras.min.type&&"field"!==e.data.extras.min.type?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(b,{class:"mr-2 w-10",modelValue:e.data.extras.min.value,"onUpdate:modelValue":a[6]||(a[6]=function(a){return e.data.extras.min.value=a})},null,8,["modelValue"]),u],64)):"field"===e.data.extras.min.type?((0,l.wg)(),(0,l.j4)(f,{key:2,modelValue:e.data.extras.min.value,"onUpdate:modelValue":a[7]||(a[7]=function(a){return e.data.extras.min.value=a}),size:"small",filterable:"",clearable:""},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.relateComponentList,(function(e){return(0,l.wg)(),(0,l.j4)(p,{"data-mark":"关联选项字段",label:e.title,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)(c,{label:"最晚",prop:"type",class:"mb_2"},{default:(0,l.w5)((function(){return[(0,l.Wm)(f,{class:"mr-2",modelValue:e.data.extras.max.type,"onUpdate:modelValue":a[8]||(a[8]=function(a){return e.data.extras.max.type=a})},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.dateRangeOptions,(function(e){return(0,l.wg)(),(0,l.j4)(p,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),"fixed"===e.data.extras.max.type?((0,l.wg)(),(0,l.j4)((0,l.LL)(m.fieldType.component),(0,l.dG)({key:0,modelValue:e.data.extras.max.value,"onUpdate:modelValue":a[9]||(a[9]=function(a){return e.data.extras.max.value=a})},m.fieldType.props),null,16,["modelValue"])):"null"!==e.data.extras.max.type&&"now"!==e.data.extras.max.type&&"field"!==e.data.extras.max.type?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(b,{class:"mr-2 w-10",modelValue:e.data.extras.max.value,"onUpdate:modelValue":a[10]||(a[10]=function(a){return e.data.extras.max.value=a})},null,8,["modelValue"]),r],64)):"field"===e.data.extras.max.type?((0,l.wg)(),(0,l.j4)(f,{key:2,modelValue:e.data.extras.max.value,"onUpdate:modelValue":a[11]||(a[11]=function(a){return e.data.extras.max.value=a}),size:"small",filterable:"",clearable:""},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.relateComponentList,(function(e){return(0,l.wg)(),(0,l.j4)(p,{"data-mark":"关联选项字段",label:e.title,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)(c,{label:"默认值",class:"mb_2"},{default:(0,l.w5)((function(){return[((0,l.wg)(),(0,l.j4)((0,l.LL)(m.fieldType.component),(0,l.dG)({modelValue:e.data.extras.defaultValue,"onUpdate:modelValue":a[12]||(a[12]=function(a){return e.data.extras.defaultValue=a})},m.fieldType.props),null,16,["modelValue"]))]})),_:1})]})),_:1}),(0,l.Wm)(s,{label:"显示设置",name:"show"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{componentList:e.filterComponentList,config:e.data.extras.showConfig},null,8,["componentList","config"])]})),_:1}),(0,l.Wm)(s,{label:"只读设置",name:"readonly"},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{componentList:e.filterComponentList,config:e.data.extras.readonlyConfig},null,8,["componentList","config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])}}]);