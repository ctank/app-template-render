"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[7620],{46249:function(e,t,o){o.r(t);var n=o(55298),i=o(14963),r=o(26386);class s extends n.R6{constructor(){super({id:"editor.action.fontZoomIn",label:r.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){i.C.setZoomLevel(i.C.getZoomLevel()+1)}}class d extends n.R6{constructor(){super({id:"editor.action.fontZoomOut",label:r.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){i.C.setZoomLevel(i.C.getZoomLevel()-1)}}class a extends n.R6{constructor(){super({id:"editor.action.fontZoomReset",label:r.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){i.C.setZoomLevel(0)}}(0,n.Qr)(s),(0,n.Qr)(d),(0,n.Qr)(a)},25252:function(e,t,o){o.d(t,{Qq:function(){return P},Qs:function(){return N},Zg:function(){return x},x$:function(){return O},xC:function(){return D}});var n=o(16644),i=o(16308),r=o(97464),s=o(20996),d=o(97865),a=o(17979),c=o(14818),l=o(28919),u=o(16614),g=o(86086),h=o(8964),f=o(50038),p=o(57841),m=o(30363),v=o(91223),_=o(59661),C=o(26386),y=o(80793),F=o(30529),E=o(44333),M=o(35921),b=function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{a(n.next(e))}catch(e){r(e)}}function d(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,d)}a((n=n.apply(e,t||[])).next())}))};function x(e){if(!(e=e.filter((e=>e.range))).length)return;let{range:t}=e[0];for(let o=1;o<e.length;o++)t=f.e.plusRange(t,e[o].range);const{startLineNumber:o,endLineNumber:i}=t;o===i?1===e.length?(0,n.Z9)(C.NC("hint11","Made 1 formatting edit on line {0}",o)):(0,n.Z9)(C.NC("hintn1","Made {0} formatting edits on line {1}",e.length,o)):1===e.length?(0,n.Z9)(C.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",o,i)):(0,n.Z9)(C.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,o,i))}function R(e,t,o){const n=[],i=new Set,r=e.ordered(o);for(const e of r)n.push(e),e.extensionId&&i.add(F.k.toKey(e.extensionId));const s=t.ordered(o);for(const e of s){if(e.extensionId){if(i.has(F.k.toKey(e.extensionId)))continue;i.add(F.k.toKey(e.extensionId))}n.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits(t,o,n){return e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),o,n)}})}return n}class D{static setFormatterSelector(e){return{dispose:D._selectors.unshift(e)}}static select(e,t,o){return b(this,void 0,void 0,(function*(){if(0===e.length)return;const n=d.$.first(D._selectors);return n?yield n(e,t,o):void 0}))}}function O(e,t,o,n,i,r){return b(this,void 0,void 0,(function*(){const s=e.get(E.TG),{documentRangeFormattingEditProvider:d}=e.get(M.p),a=(0,g.CL)(t)?t.getModel():t,c=d.ordered(a),l=yield D.select(c,a,n);l&&(i.report(l),yield s.invokeFunction(w,l,t,o,r))}))}function w(e,t,o,n,r){return b(this,void 0,void 0,(function*(){const s=e.get(m.p);let d,a;(0,g.CL)(o)?(d=o.getModel(),a=new u.Dl(o,5,void 0,r)):(d=o,a=new u.YQ(o,r));const c=[];let l=0;for(const e of(0,i._2)(n).sort(f.e.compareRangesUsingStarts))l>0&&f.e.areIntersectingOrTouching(c[l-1],e)?c[l-1]=f.e.fromPositions(c[l-1].getStartPosition(),e.getEndPosition()):l=c.push(e);const h=e=>b(this,void 0,void 0,(function*(){return(yield t.provideDocumentRangeFormattingEdits(d,e,d.getFormattingOptions(),a.token))||[]})),v=(e,t)=>{if(!e.length||!t.length)return!1;const o=e.reduce(((e,t)=>f.e.plusRange(e,t.range)),e[0].range);if(!t.some((e=>f.e.intersectRanges(o,e.range))))return!1;for(const o of e)for(const e of t)if(f.e.intersectRanges(o.range,e.range))return!0;return!1},C=[],y=[];try{for(const e of c){if(a.token.isCancellationRequested)return!0;y.push(yield h(e))}for(let e=0;e<c.length;++e)for(let t=e+1;t<c.length;++t){if(a.token.isCancellationRequested)return!0;if(v(y[e],y[t])){const o=f.e.plusRange(c[e],c[t]),n=yield h(o);c.splice(t,1),c.splice(e,1),c.push(o),y.splice(t,1),y.splice(e,1),y.push(n),e=0,t=0}}for(const e of y){if(a.token.isCancellationRequested)return!0;const t=yield s.computeMoreMinimalEdits(d.uri,e);t&&C.push(...t)}}finally{a.dispose()}if(0===C.length)return!1;if((0,g.CL)(o))_.V.execute(o,C,!0),x(C),o.revealPositionInCenterIfOutsideViewport(o.getPosition(),1);else{const[{range:e}]=C,t=new p.Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);d.pushEditOperations([t],C.map((e=>({text:e.text,range:f.e.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:o}of e)if(f.e.areIntersectingOrTouching(o,t))return[new p.Y(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)];return null}))}return!0}))}function P(e,t,o,n,i){return b(this,void 0,void 0,(function*(){const r=e.get(E.TG),s=e.get(M.p),d=(0,g.CL)(t)?t.getModel():t,a=R(s.documentFormattingEditProvider,s.documentRangeFormattingEditProvider,d),c=yield D.select(a,d,o);c&&(n.report(c),yield r.invokeFunction(L,c,t,o,i))}))}function L(e,t,o,n,i){return b(this,void 0,void 0,(function*(){const r=e.get(m.p);let s,d,a;(0,g.CL)(o)?(s=o.getModel(),d=new u.Dl(o,5,void 0,i)):(s=o,d=new u.YQ(o,i));try{const e=yield t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),d.token);if(a=yield r.computeMoreMinimalEdits(s.uri,e),d.token.isCancellationRequested)return!0}finally{d.dispose()}if(!a||0===a.length)return!1;if((0,g.CL)(o))_.V.execute(o,a,2!==n),2!==n&&(x(a),o.revealPositionInCenterIfOutsideViewport(o.getPosition(),1));else{const[{range:e}]=a,t=new p.Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);s.pushEditOperations([t],a.map((e=>({text:e.text,range:f.e.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:o}of e)if(f.e.areIntersectingOrTouching(o,t))return[new p.Y(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)];return null}))}return!0}))}function N(e,t,o,n,i,r,d){const a=t.onTypeFormattingEditProvider.ordered(o);return 0===a.length||a[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(o,n,i,r,d)).catch(s.Cp).then((t=>e.computeMoreMinimalEdits(o.uri,t)))}D._selectors=new a.S,y.P0.registerCommand("_executeFormatRangeProvider",(function(e,...t){return b(this,void 0,void 0,(function*(){const[o,n,d]=t;(0,c.p_)(l.o.isUri(o)),(0,c.p_)(f.e.isIRange(n));const a=e.get(v.S),u=e.get(m.p),g=e.get(M.p),h=yield a.createModelReference(o);try{return function(e,t,o,n,r,d){return b(this,void 0,void 0,(function*(){const a=t.documentRangeFormattingEditProvider.ordered(o);for(const t of a){const a=yield Promise.resolve(t.provideDocumentRangeFormattingEdits(o,n,r,d)).catch(s.Cp);if((0,i.Of)(a))return yield e.computeMoreMinimalEdits(o.uri,a)}}))}(u,g,h.object.textEditorModel,f.e.lift(n),d,r.T.None)}finally{h.dispose()}}))})),y.P0.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return b(this,void 0,void 0,(function*(){const[o,n]=t;(0,c.p_)(l.o.isUri(o));const d=e.get(v.S),a=e.get(m.p),u=e.get(M.p),g=yield d.createModelReference(o);try{return function(e,t,o,n,r){return b(this,void 0,void 0,(function*(){const d=R(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,o);for(const t of d){const d=yield Promise.resolve(t.provideDocumentFormattingEdits(o,n,r)).catch(s.Cp);if((0,i.Of)(d))return yield e.computeMoreMinimalEdits(o.uri,d)}}))}(a,u,g.object.textEditorModel,n,r.T.None)}finally{g.dispose()}}))})),y.P0.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return b(this,void 0,void 0,(function*(){const[o,n,i,s]=t;(0,c.p_)(l.o.isUri(o)),(0,c.p_)(h.L.isIPosition(n)),(0,c.p_)("string"==typeof i);const d=e.get(v.S),a=e.get(m.p),u=e.get(M.p),g=yield d.createModelReference(o);try{return N(a,u,g.object.textEditorModel,h.L.lift(n),i,s,r.T.None)}finally{g.dispose()}}))}))},60849:function(e,t,o){o.r(t);var n=o(16308),i=o(97464),r=o(20996),s=o(94880),d=o(38431),a=o(55298),c=o(5603),l=o(55224),u=o(50038),g=o(21081),h=o(30363),f=o(35921),p=o(25252),m=o(59661),v=o(26386),_=o(80793),C=o(70499),y=o(44333),F=o(79969),E=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},M=function(e,t){return function(o,n){t(o,n,e)}},b=function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{a(n.next(e))}catch(e){r(e)}}function d(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,d)}a((n=n.apply(e,t||[])).next())}))};let x=class{constructor(e,t,o){this._editor=e,this._languageFeaturesService=t,this._workerService=o,this._disposables=new d.SL,this._sessionDisposables=new d.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(51)&&this._update()})))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const o=new l.q;for(const e of t.autoFormatTriggerCharacters)o.add(e.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((e=>{const t=e.charCodeAt(e.length-1);o.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),o=this._editor.getPosition(),r=new i.A,s=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return r.cancel(),void s.dispose();for(let t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=o.lineNumber)return r.cancel(),void s.dispose()}}));(0,p.Qs)(this._workerService,this._languageFeaturesService,t,o,e,t.getFormattingOptions(),r.token).then((e=>{r.token.isCancellationRequested||(0,n.Of)(e)&&(m.V.execute(this._editor,e,!0),(0,p.Zg)(e))})).finally((()=>{s.dispose()}))}};x.ID="editor.contrib.autoFormat",x=E([M(1,f.p),M(2,h.p)],x);let R=class{constructor(e,t,o){this.editor=e,this._languageFeaturesService=t,this._instantiationService=o,this._callOnDispose=new d.SL,this._callOnModel=new d.SL,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(p.x$,this.editor,e,2,F.Ex.None,i.T.None).catch(r.dL))}};R.ID="editor.contrib.formatOnPaste",R=E([M(1,f.p),M(2,y.TG)],R);class D extends a.R6{constructor(){super({id:"editor.action.formatDocument",label:v.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:C.Ao.and(g.u.notInCompositeEditor,g.u.writable,g.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return b(this,void 0,void 0,(function*(){if(t.hasModel()){const o=e.get(y.TG),n=e.get(F.ek);yield n.showWhile(o.invokeFunction(p.Qq,t,1,F.Ex.None,i.T.None),250)}}))}}class O extends a.R6{constructor(){super({id:"editor.action.formatSelection",label:v.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:C.Ao.and(g.u.writable,g.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,s.gx)(2089,2084),weight:100},contextMenuOpts:{when:g.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return b(this,void 0,void 0,(function*(){if(!t.hasModel())return;const o=e.get(y.TG),n=t.getModel(),r=t.getSelections().map((e=>e.isEmpty()?new u.e(e.startLineNumber,1,e.startLineNumber,n.getLineMaxColumn(e.startLineNumber)):e)),s=e.get(F.ek);yield s.showWhile(o.invokeFunction(p.x$,t,r,1,F.Ex.None,i.T.None),250)}))}}(0,a._K)(x.ID,x),(0,a._K)(R.ID,R),(0,a.Qr)(D),(0,a.Qr)(O),_.P0.registerCommand("editor.action.format",(e=>b(void 0,void 0,void 0,(function*(){const t=e.get(c.$).getFocusedCodeEditor();if(!t||!t.hasModel())return;const o=e.get(_.Hy);t.getSelection().isEmpty()?yield o.executeCommand("editor.action.formatDocument"):yield o.executeCommand("editor.action.formatSelection")}))))},59661:function(e,t,o){o.d(t,{V:function(){return r}});var n=o(19083),i=o(50038);class r{static _handleEolEdits(e,t){let o;const n=[];for(const e of t)"number"==typeof e.eol&&(o=e.eol),e.range&&"string"==typeof e.text&&n.push(e);return"number"==typeof o&&e.hasModel()&&e.getModel().pushEOL(o),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const o=e.getModel(),n=o.validateRange(t.range);return o.getFullModelRange().equalsRange(n)}static execute(e,t,o){o&&e.pushUndoStop();const s=r._handleEolEdits(e,t);1===s.length&&r._isFullModelReplaceEdit(e,s[0])?e.executeEdits("formatEditsCommand",s.map((e=>n.h.replace(i.e.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",s.map((e=>n.h.replaceMove(i.e.lift(e.range),e.text)))),o&&e.pushUndoStop()}}}}]);