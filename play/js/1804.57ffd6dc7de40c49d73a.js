"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[1804],{64853:function(t,e,n){n.d(e,{L:function(){return u}});var i=n(56709),s=n(38431),o=n(44929),r=n(923),l=n(71278),h=n(95484);class a{constructor(t,e,n,i){(t|=0)<0&&(t=0),(e|=0)<0&&(e=0),(n|=0)<0&&(n=0),(i|=0)<0&&(i=0),this.width=t,this.contentWidth=e,this.scrollWidth=Math.max(t,e),this.height=n,this.contentHeight=i,this.scrollHeight=Math.max(n,i)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class c extends s.JT{constructor(t,e){super(),this._onDidContentSizeChange=this._register(new i.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new a(0,0,0,0),this._scrollable=this._register(new o.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:e})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const e=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const n=e.contentWidth!==t.contentWidth,i=e.contentHeight!==t.contentHeight;(n||i)&&this._onDidContentSizeChange.fire(new h.zf(e.contentWidth,e.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class u extends s.JT{constructor(t,e,n){super(),this._configuration=t;const i=this._configuration.options,s=i.get(133),o=i.get(77);this._linesLayout=new r.z(e,i.get(61),o.top,o.bottom),this._scrollable=this._register(new c(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new a(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(t){const e=this._configuration.options;if(t.hasChanged(61)&&this._linesLayout.setLineHeight(e.get(61)),t.hasChanged(77)){const t=e.get(77);this._linesLayout.setPadding(t.top,t.bottom)}if(t.hasChanged(133)){const t=e.get(133),n=t.contentWidth,i=t.height,s=this._scrollable.getScrollDimensions(),o=s.contentWidth;this._scrollable.setScrollDimensions(new a(n,s.contentWidth,i,this._getContentHeight(n,i,o)))}else this._updateHeight();t.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,e){this._linesLayout.onLinesDeleted(t,e)}onLinesInserted(t,e){this._linesLayout.onLinesInserted(t,e)}_getHorizontalScrollbarHeight(t,e){const n=this._configuration.options.get(94);return 2===n.horizontal||t>=e?0:n.horizontalScrollbarSize}_getContentHeight(t,e,n){const i=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return i.get(96)?s+=Math.max(0,e-i.get(61)-i.get(77).bottom):s+=this._getHorizontalScrollbarHeight(t,n),s}_updateHeight(){const t=this._scrollable.getScrollDimensions(),e=t.width,n=t.height,i=t.contentWidth;this._scrollable.setScrollDimensions(new a(e,t.contentWidth,n,this._getContentHeight(e,n,i)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),e=this._scrollable.getCurrentScrollPosition();return new l.l_(e.scrollTop,e.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),e=this._scrollable.getFutureScrollPosition();return new l.l_(e.scrollTop,e.scrollLeft,t.width,t.height)}_computeContentWidth(t){const e=this._configuration.options,n=e.get(134),i=e.get(46),s=e.get(133);if(n.isViewportWrapping){const n=e.get(67);return t>s.contentWidth+i.typicalHalfwidthCharacterWidth&&n.enabled&&"right"===n.side?t+s.verticalScrollbarWidth:t}{const n=e.get(95)*i.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+n+s.verticalScrollbarWidth,o)}}setMaxLineWidth(t){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new a(e.width,this._computeContentWidth(t),e.height,e.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),e=t.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e);return{scrollTop:e,scrollTopWithoutViewZones:e-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:t.scrollLeft}}changeWhitespace(t){const e=this._linesLayout.changeWhitespace(t);return e&&this.onHeightMaybeChanged(),e}getVerticalOffsetForLineNumber(t,e=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,e)}getVerticalOffsetAfterLineNumber(t,e=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,e)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const e=this._scrollable.getScrollDimensions();return t+e.height>e.scrollHeight&&(t=e.scrollHeight-e.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+e.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,e){1===e?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,e){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+t,scrollTop:n.scrollTop+e})}}},19054:function(t,e,n){n.d(e,{IJ:function(){return h},Nd:function(){return a},d1:function(){return d},tF:function(){return p},zG:function(){return l}});var i=n(17416),s=n(12342),o=n(69756),r=n(30897);class l{constructor(t,e){this.startOffset=t,this.endOffset=e}equals(t){return this.startOffset===t.startOffset&&this.endOffset===t.endOffset}}class h{constructor(t,e,n,i,s,r,l,h,a,c,u,d,g,p,f,_,C,S,m){this.useMonospaceOptimizations=t,this.canUseHalfwidthRightwardsArrow=e,this.lineContent=n,this.continuesWithWrappedLine=i,this.isBasicASCII=s,this.containsRTL=r,this.fauxIndentLength=l,this.lineTokens=h,this.lineDecorations=a.sort(o.Kp.compare),this.tabSize=c,this.startVisibleColumn=u,this.spaceWidth=d,this.stopRenderingLineAfter=f,this.renderWhitespace="all"===_?4:"boundary"===_?1:"selection"===_?2:"trailing"===_?3:0,this.renderControlCharacters=C,this.fontLigatures=S,this.selectionsOnLine=m&&m.sort(((t,e)=>t.startOffset<e.startOffset?-1:1));Math.abs(p-d)<Math.abs(g-d)?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(t){if(null===this.selectionsOnLine)return null===t;if(null===t)return!1;if(t.length!==this.selectionsOnLine.length)return!1;for(let e=0;e<this.selectionsOnLine.length;e++)if(!this.selectionsOnLine[e].equals(t[e]))return!1;return!0}equals(t){return this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineContent===t.lineContent&&this.continuesWithWrappedLine===t.continuesWithWrappedLine&&this.isBasicASCII===t.isBasicASCII&&this.containsRTL===t.containsRTL&&this.fauxIndentLength===t.fauxIndentLength&&this.tabSize===t.tabSize&&this.startVisibleColumn===t.startVisibleColumn&&this.spaceWidth===t.spaceWidth&&this.renderSpaceWidth===t.renderSpaceWidth&&this.renderSpaceCharCode===t.renderSpaceCharCode&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.fontLigatures===t.fontLigatures&&o.Kp.equalsArr(this.lineDecorations,t.lineDecorations)&&this.lineTokens.equals(t.lineTokens)&&this.sameSelection(t.selectionsOnLine)}}class a{constructor(t,e){this.partIndex=t,this.charIndex=e}}class c{constructor(t,e){this.length=t,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(t){return(4294901760&t)>>>16}static getCharIndex(t){return(65535&t)>>>0}setColumnInfo(t,e,n,i){const s=(e<<16|n<<0)>>>0;this._data[t-1]=s,this._horizontalOffset[t-1]=i}getHorizontalOffset(t){return 0===this._horizontalOffset.length?0:this._horizontalOffset[t-1]}charOffsetToPartData(t){return 0===this.length?0:t<0?this._data[0]:t>=this.length?this._data[this.length-1]:this._data[t]}getDomPosition(t){const e=this.charOffsetToPartData(t-1),n=c.getPartIndex(e),i=c.getCharIndex(e);return new a(n,i)}getColumn(t,e){return this.partDataToCharOffset(t.partIndex,e,t.charIndex)+1}partDataToCharOffset(t,e,n){if(0===this.length)return 0;const i=(t<<16|n<<0)>>>0;let s=0,o=this.length-1;for(;s+1<o;){const t=s+o>>>1,e=this._data[t];if(e===i)return t;e>i?o=t:s=t}if(s===o)return s;const r=this._data[s],l=this._data[o];if(r===i)return s;if(l===i)return o;const h=c.getPartIndex(r),a=c.getCharIndex(r);let u;u=h!==c.getPartIndex(l)?e:c.getCharIndex(l);return n-a<=u-n?s:o}}class u{constructor(t,e,n){this._renderLineOutputBrand=void 0,this.characterMapping=t,this.containsRTL=e,this.containsForeignElements=n}}function d(t,e){if(0===t.lineContent.length){if(t.lineDecorations.length>0){e.appendASCIIString("<span>");let n=0,i=0,s=0;for(const o of t.lineDecorations)1!==o.type&&2!==o.type||(e.appendASCIIString('<span class="'),e.appendASCIIString(o.className),e.appendASCIIString('"></span>'),1===o.type&&(s|=1,n++),2===o.type&&(s|=2,i++));e.appendASCIIString("</span>");const o=new c(1,n+i);return o.setColumnInfo(1,n,0,0),new u(o,!1,s)}return e.appendASCIIString("<span><span></span></span>"),new u(new c(0,0),!1,0)}return function(t,e){const n=t.fontIsMonospace,s=t.canUseHalfwidthRightwardsArrow,o=t.containsForeignElements,r=t.lineContent,l=t.len,h=t.isOverflowing,a=t.parts,d=t.fauxIndentLength,g=t.tabSize,p=t.startVisibleColumn,f=t.containsRTL,S=t.spaceWidth,m=t.renderSpaceCharCode,w=t.renderWhitespace,I=t.renderControlCharacters,L=new c(l+1,a.length);let b=!1,v=0,W=p,O=0,A=0,H=0;f?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let t=0,h=a.length;t<h;t++){const h=a[t],c=h.endIndex,u=h.type,p=h.containsRTL,f=0!==w&&h.isWhitespace(),T=f&&!n&&("mtkw"===u||!o),E=v===c&&h.isPseudoAfter();if(O=0,e.appendASCIIString("<span "),p&&e.appendASCIIString('style="unicode-bidi:isolate" '),e.appendASCIIString('class="'),e.appendASCIIString(T?"mtkz":u),e.appendASCII(34),f){let n=0;{let t=v,e=W;for(;t<c;t++){const i=0|(9===r.charCodeAt(t)?g-e%g:1);n+=i,t>=d&&(e+=i)}}for(T&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(S*n)),e.appendASCIIString('px"')),e.appendASCII(62);v<c;v++){L.setColumnInfo(v+1,t-H,O,A),H=0;let n,i;if(9===r.charCodeAt(v)){n=g-W%g|0,i=n,!s||i>1?e.write1(8594):e.write1(65515);for(let t=2;t<=i;t++)e.write1(160)}else n=2,i=1,e.write1(m),e.write1(8204);O+=n,A+=i,v>=d&&(W+=i)}}else for(e.appendASCII(62);v<c;v++){L.setColumnInfo(v+1,t-H,O,A),H=0;const n=r.charCodeAt(v);let s=1,o=1;switch(n){case 9:s=g-W%g,o=s;for(let t=1;t<=s;t++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:I?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:i.K7(n)&&o++,I&&n<32?e.write1(9216+n):I&&127===n?e.write1(9249):I&&_(n)?(e.appendASCIIString("[U+"),e.appendASCIIString(C(n)),e.appendASCIIString("]"),s=8,o=s):e.write1(n)}O+=s,A+=o,v>=d&&(W+=o)}E?H++:H=0,v>=l&&!b&&h.isPseudoAfter()&&(b=!0,L.setColumnInfo(v+1,t,O,A)),e.appendASCIIString("</span>")}b||L.setColumnInfo(l+1,a.length-1,O,A);h&&e.appendASCIIString("<span>&hellip;</span>");return e.appendASCIIString("</span>"),new u(L,f,o)}(function(t){const e=t.lineContent;let n,s;-1!==t.stopRenderingLineAfter&&t.stopRenderingLineAfter<e.length?(n=!0,s=t.stopRenderingLineAfter):(n=!1,s=e.length);let l=function(t,e,n,s,o){const l=[];let h=0;s>0&&(l[h++]=new r.B(s,"",0,!1));let a=s;for(let c=0,u=n.getCount();c<u;c++){const u=n.getEndOffset(c);if(u<=s)continue;const d=n.getClassName(c);if(u>=o){const n=!!e&&i.Ut(t.substring(a,o));l[h++]=new r.B(o,d,0,n);break}const g=!!e&&i.Ut(t.substring(a,u));l[h++]=new r.B(u,d,0,g),a=u}return l}(e,t.containsRTL,t.lineTokens,t.fauxIndentLength,s);t.renderControlCharacters&&!t.isBasicASCII&&(l=function(t,e){const n=[];let i=new r.B(0,"",0,!1),s=0;for(const o of e){const e=o.endIndex;for(;s<e;s++){_(t.charCodeAt(s))&&(s>i.endIndex&&(i=new r.B(s,o.type,o.metadata,o.containsRTL),n.push(i)),i=new r.B(s+1,"mtkcontrol",o.metadata,!1),n.push(i))}s>i.endIndex&&(i=new r.B(e,o.type,o.metadata,o.containsRTL),n.push(i))}return n}(e,l));(4===t.renderWhitespace||1===t.renderWhitespace||2===t.renderWhitespace&&t.selectionsOnLine||3===t.renderWhitespace)&&(l=function(t,e,n,s){const o=t.continuesWithWrappedLine,l=t.fauxIndentLength,h=t.tabSize,a=t.startVisibleColumn,c=t.useMonospaceOptimizations,u=t.selectionsOnLine,d=1===t.renderWhitespace,g=3===t.renderWhitespace,p=t.renderSpaceWidth!==t.spaceWidth,f=[];let _=0,C=0,S=s[C].type,m=s[C].containsRTL,w=s[C].endIndex;const I=s.length;let L,b=!1,v=i.LC(e);-1===v?(b=!0,v=n,L=n):L=i.ow(e);let W=!1,O=0,A=u&&u[O],H=a%h;for(let t=l;t<n;t++){const o=e.charCodeAt(t);let a;if(A&&t>=A.endOffset&&(O++,A=u&&u[O]),t<v||t>L)a=!0;else if(9===o)a=!0;else if(32===o)if(d)if(W)a=!0;else{const i=t+1<n?e.charCodeAt(t+1):0;a=32===i||9===i}else a=!0;else a=!1;if(a&&u&&(a=!!A&&A.startOffset<=t&&A.endOffset>t),a&&g&&(a=b||t>L),a&&m&&t>=v&&t<=L&&(a=!1),W){if(!a||!c&&H>=h){if(p){for(let e=(_>0?f[_-1].endIndex:l)+1;e<=t;e++)f[_++]=new r.B(e,"mtkw",1,!1)}else f[_++]=new r.B(t,"mtkw",1,!1);H%=h}}else(t===w||a&&t>l)&&(f[_++]=new r.B(t,S,0,m),H%=h);for(9===o?H=h:i.K7(o)?H+=2:H++,W=a;t===w&&(C++,C<I);)S=s[C].type,m=s[C].containsRTL,w=s[C].endIndex}let T=!1;if(W)if(o&&d){const t=n>0?e.charCodeAt(n-1):0,i=n>1?e.charCodeAt(n-2):0;32===t&&32!==i&&9!==i||(T=!0)}else T=!0;if(T)if(p){for(let t=(_>0?f[_-1].endIndex:l)+1;t<=n;t++)f[_++]=new r.B(t,"mtkw",1,!1)}else f[_++]=new r.B(n,"mtkw",1,!1);else f[_++]=new r.B(n,S,0,m);return f}(t,e,s,l));let h=0;if(t.lineDecorations.length>0){for(let e=0,n=t.lineDecorations.length;e<n;e++){const n=t.lineDecorations[e];3===n.type||1===n.type?h|=1:2===n.type&&(h|=2)}l=function(t,e,n,i){i.sort(o.Kp.compare);const s=o.k.normalize(t,i),l=s.length;let h=0;const a=[];let c=0,u=0;for(let t=0,e=n.length;t<e;t++){const e=n[t],i=e.endIndex,o=e.type,d=e.metadata,g=e.containsRTL;for(;h<l&&s[h].startOffset<i;){const t=s[h];if(t.startOffset>u&&(u=t.startOffset,a[c++]=new r.B(u,o,d,g)),!(t.endOffset+1<=i)){u=i,a[c++]=new r.B(u,o+" "+t.className,d|t.metadata,g);break}u=t.endOffset+1,a[c++]=new r.B(u,o+" "+t.className,d|t.metadata,g),h++}i>u&&(u=i,a[c++]=new r.B(u,o,d,g))}const d=n[n.length-1].endIndex;if(h<l&&s[h].startOffset===d)for(;h<l&&s[h].startOffset===d;){const t=s[h];a[c++]=new r.B(u,t.className,t.metadata,!1),h++}return a}(e,0,l,t.lineDecorations)}t.containsRTL||(l=function(t,e,n){let i=0;const s=[];let o=0;if(n)for(let n=0,l=e.length;n<l;n++){const l=e[n],h=l.endIndex;if(i+50<h){const e=l.type,n=l.metadata,a=l.containsRTL;let c=-1,u=i;for(let l=i;l<h;l++)32===t.charCodeAt(l)&&(c=l),-1!==c&&l-u>=50&&(s[o++]=new r.B(c+1,e,n,a),u=c+1,c=-1);u!==h&&(s[o++]=new r.B(h,e,n,a))}else s[o++]=l;i=h}else for(let t=0,n=e.length;t<n;t++){const n=e[t],l=n.endIndex,h=l-i;if(h>50){const t=n.type,e=n.metadata,a=n.containsRTL,c=Math.ceil(h/50);for(let n=1;n<c;n++){const l=i+50*n;s[o++]=new r.B(l,t,e,a)}s[o++]=new r.B(l,t,e,a)}else s[o++]=n;i=l}return s}(e,l,!t.isBasicASCII||t.fontLigatures));return new f(t.useMonospaceOptimizations,t.canUseHalfwidthRightwardsArrow,e,s,n,l,h,t.fauxIndentLength,t.tabSize,t.startVisibleColumn,t.containsRTL,t.spaceWidth,t.renderSpaceCharCode,t.renderWhitespace,t.renderControlCharacters)}(t),e)}class g{constructor(t,e,n,i){this.characterMapping=t,this.html=e,this.containsRTL=n,this.containsForeignElements=i}}function p(t){const e=(0,s.l$)(1e4),n=d(t,e);return new g(n.characterMapping,e.build(),n.containsRTL,n.containsForeignElements)}class f{constructor(t,e,n,i,s,o,r,l,h,a,c,u,d,g,p){this.fontIsMonospace=t,this.canUseHalfwidthRightwardsArrow=e,this.lineContent=n,this.len=i,this.isOverflowing=s,this.parts=o,this.containsForeignElements=r,this.fauxIndentLength=l,this.tabSize=h,this.startVisibleColumn=a,this.containsRTL=c,this.spaceWidth=u,this.renderSpaceCharCode=d,this.renderWhitespace=g,this.renderControlCharacters=p}}function _(t){return t<32?9!==t:127===t||(t>=8234&&t<=8238||t>=8294&&t<=8297||t>=8206&&t<=8207||1564===t)}function C(t){return t.toString(16).toUpperCase().padStart(4,"0")}},35350:function(t,e,n){n.d(e,{x:function(){return s}});var i=n(50038);class s{constructor(t,e,n,s){this.selections=t,this.startLineNumber=0|e.startLineNumber,this.endLineNumber=0|e.endLineNumber,this.relativeVerticalOffset=e.relativeVerticalOffset,this.bigNumbersDelta=0|e.bigNumbersDelta,this.whitespaceViewportData=n,this._model=s,this.visibleRange=new i.e(e.startLineNumber,this._model.getLineMinColumn(e.startLineNumber),e.endLineNumber,this._model.getLineMaxColumn(e.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}},95484:function(t,e,n){n.d(e,{$X:function(){return m},H6:function(){return d},Ic:function(){return c},Ki:function(){return g},P2:function(){return C},Pb:function(){return p},Pt:function(){return a},Sh:function(){return u},ZX:function(){return f},Zw:function(){return h},iH:function(){return _},nu:function(){return o},q2:function(){return S},zf:function(){return l}});var i=n(56709),s=n(38431);class o extends s.JT{constructor(){super(),this._onEvent=this._register(new i.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let e=0,n=this._outgoingEvents.length;e<n;e++){const n=this._outgoingEvents[e].kind===t.kind?this._outgoingEvents[e].attemptToMerge(t):null;if(n)return void(this._outgoingEvents[e]=n)}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let t=0,e=this._eventHandlers.length;t<e;t++)this._eventHandlers[t];this._eventHandlers.push(t)}removeViewEventHandler(t){for(let e=0;e<this._eventHandlers.length;e++)if(this._eventHandlers[e]===t){this._eventHandlers.splice(e,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new r),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const t=this._collector.outgoingEvents,e=this._collector.viewEvents;this._collector=null;for(const e of t)this._addOutgoingEvent(e);e.length>0&&this._emitMany(e)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const e=this._eventHandlers.slice(0);for(const n of e)n.handleEvents(t)}}}class r{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class l{constructor(t,e,n,i){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=e,this.contentWidth=n,this.contentHeight=i,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new l(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class h{constructor(t,e){this.kind=1,this.oldHasFocus=t,this.hasFocus=e}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new h(this.oldHasFocus,t.hasFocus)}}class a{constructor(t,e,n,i,s,o,r,l){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=e,this._oldScrollHeight=n,this._oldScrollTop=i,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=r,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(t){return t.kind!==this.kind?null:new a(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class c{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class u{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class d{constructor(t,e,n,i,s,o,r){this.kind=6,this.oldSelections=t,this.selections=e,this.oldModelVersionId=n,this.modelVersionId=i,this.source=s,this.reason=o,this.reachedMaxCursorCount=r}static _selectionsAreEqual(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(!t[i].equalsSelection(e[i]))return!1;return!0}isNoOp(){return d._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new d(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class g{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class p{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class f{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class _{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class C{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class S{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class m{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}}}]);