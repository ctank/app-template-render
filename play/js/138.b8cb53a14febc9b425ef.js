"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[138],{33438:function(e,t,n){n.d(t,{s:function(){return a}});n(77950),n(85940);var r=n(90743),o=n(27875),a={name:"ViewComponentBase",components:{},inject:["onChange","onGetValue","onEvent"],props:{id:{type:String,default:function(){return""}},type:{type:String,default:function(){return""}},extras:{type:Object,default:function(){return{}}},showTitle:{type:String,default:function(){return"请输入"}},title:{type:String,default:function(){return""}},dataPath:{type:String,default:function(){return""}},componentMap:{type:Object,default:function(){return{}}},viewData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){var e="";return this.viewData&&this.dataPath&&(e=(0,r.g)(this.viewData,this.dataPath)),e},set:function(e){this.$emit("change",e,this.id)}},validProp:function(){return this.fieldPath.replace(/\//g,".")}},watch:{},methods:{},render:function(e,t,n,r,a,i){return(0,o.wg)(),(0,o.iD)("div")}}},99138:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});n(34769),n(34115),n(95342),n(58188),n(68625),n(1939),n(62775),n(76555),n(95094),n(39529),n(31235);var r=n(33438),o=n(90743),a=n(27875),i=n(50349),d=n(14825);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={name:"TreeView",extends:r.s,data:function(){return{filterText:""}},computed:{defaultProps:function(){return{children:this.extras.childrenField||"children",label:this.extras.titleField||"label"}}},watch:{filterText:function(e){this.$refs.treeRef.filter(e)}},methods:{filterNode:function(e,t){return!e||t.label.includes(e)},getComponentDisplay:function(e,t){var n=!0;if(t&&Array.isArray(t.showConfig)&&t.showConfig.length){n=!1;for(var r=0;r<t.showConfig.length;r+=1)if(!n)for(var a=0;a<t.showConfig[r].length;a+=1){var i=t.showConfig[r][a],d=i.field,l=i.value,u=i.logic,c=e[d]||"";switch(u){case"0":n=!(0,o.k)(c,l);break;case"1":n=!!(0,o.k)(c,l)}}}return n},handleNodeDrag:function(e,t){this.extras.draggableEvent&&this.onEvent(this.extras.draggableEvent,u(u({},t),{},{eventType:e,data:this.demo}))},handleBtnClick:function(e,t){this.onEvent(e,t)}}},p={class:"atp-treeview"},s={class:"atp-treeview__node"},g={class:"atp-treeview__title"},h={class:"atp-treeview__action"};f.render=function(e,t,n,r,o,l){var u=(0,a.up)("el-input"),c=(0,a.up)("el-button"),f=(0,a.up)("el-tree");return(0,a.wg)(),(0,a.iD)("div",p,[e.extras.filter?((0,a.wg)(),(0,a.j4)(u,{key:0,class:"atp-treeview__search",modelValue:o.filterText,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.filterText=e})},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(f,{ref:"treeRef",class:"filter-tree",data:e.value,props:l.defaultProps,draggable:e.extras.draggable||!1,"filter-node-method":l.filterNode,onNodeDragStart:t[1]||(t[1]=function(e,t){l.handleNodeDrag("dragStart",{draggingNode:e,event:t})}),onNodeDragEnter:t[2]||(t[2]=function(e,t,n){l.handleNodeDrag("dropEnter",{draggingNode:e,dropNode:t,event:n})}),onNodeDragLeave:t[3]||(t[3]=function(e,t,n){l.handleNodeDrag("dropLeave",{draggingNode:e,dropNode:t,event:n})}),onNodeDragOver:t[4]||(t[4]=function(e,t,n){l.handleNodeDrag("dropOver",{draggingNode:e,dropNode:t,event:n})}),onNodeDragEnd:t[5]||(t[5]=function(e,t,n,r){l.handleNodeDrag("dropEnd",{draggingNode:e,dropNode:t,dropType:n,event:r})}),onNodeDrop:t[6]||(t[6]=function(e,t,n,r){l.handleNodeDrag("drop",{draggingNode:e,dropNode:t,dropType:n,event:r})})},{default:(0,a.w5)((function(t){var n=t.node,r=t.data;return[(0,a._)("div",s,[(0,a._)("div",g,(0,i.toDisplayString)(n.label),1),(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.extras.operations,(function(t){return(0,a.wg)(),(0,a.iD)(a.HY,null,[l.getComponentDisplay(r,t)?((0,a.wg)(),(0,a.j4)(c,{key:t.buttonEvent,type:t.buttonType,onClick:(0,d.withModifiers)((function(n){return l.handleBtnClick(t.buttonEvent,e.row)}),["stop"]),size:"small"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.toDisplayString)(t.buttonName),1)]})),_:2},1032,["type","onClick"])):(0,a.kq)("",!0)],64)})),256))])])]})),_:1},8,["data","props","draggable","filter-node-method"])])}}}]);