"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[1654],{44260:function(e,t,l){l.d(t,{Z:function(){return N}});var r=l(27875),o=l(50349),n=l(14825),s=l(92322),a=l(74366),i=l(66501),u=l(78751),c=l(25373),d=l(22852),f=l(3784);var h=l(40641),p=l(48245),m=l(64878);function y(e,t,l,o){const n=(0,h.iH)(!1),s=(0,h.iH)(null),a=(0,h.iH)(!1),i=(0,h.iH)({width:null,height:null,headerHeight:null}),u=(0,h.iH)(!1),c=(0,h.iH)(),d=(0,h.iH)(0),f=(0,h.iH)(0),y=(0,h.iH)(0),g=(0,h.iH)(0);(0,r.m0)((()=>{t.setHeight(e.height)})),(0,r.m0)((()=>{t.setMaxHeight(e.maxHeight)})),(0,r.YP)((()=>[e.currentRowKey,l.states.rowKey]),(([e,t])=>{(0,h.SU)(t)&&l.setCurrentRowKey(`${e}`)}),{immediate:!0}),(0,r.YP)((()=>e.data),(e=>{o.store.commit("setData",e)}),{immediate:!0,deep:!0}),(0,r.m0)((()=>{e.expandRowKeys&&l.setExpandRowKeysAdapter(e.expandRowKeys)}));const b=(0,r.Fl)((()=>e.height||e.maxHeight||l.states.fixedColumns.value.length>0||l.states.rightFixedColumns.value.length>0)),v=(0,r.Fl)((()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""}))),w=()=>{b.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(S)};(0,r.bv)((async()=>{await(0,r.Y3)(),l.updateColumns(),H(),requestAnimationFrame(w);const t=o.vnode.el,n=o.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth="0"),i.value={width:c.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&n?n.offsetHeight:null},l.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&o.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),o.$ready=!0}));const x=e=>{const{tableWrapper:l}=o.refs;((e,l)=>{if(!e)return;const r=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));r.push(t.scrollX.value?l:"is-scrolling-none"),e.className=r.join(" ")})(l,e)},S=function(){if(!o.refs.scrollBarRef)return;if(!t.scrollX.value){const e="is-scrolling-none";return void((e=>{const{tableWrapper:t}=o.refs;return!(!t||!t.classList.contains(e))})(e)||x(e))}const e=o.refs.scrollBarRef.wrap$;if(!e)return;const{scrollLeft:l,offsetWidth:r,scrollWidth:n}=e,{headerWrapper:s,footerWrapper:a}=o.refs;s&&(s.scrollLeft=l),a&&(a.scrollLeft=l);x(l>=n-r-1?"is-scrolling-right":0===l?"is-scrolling-left":"is-scrolling-middle")},H=()=>{o.refs.scrollBarRef&&(o.refs.scrollBarRef.wrap$&&(0,p.ORN)(o.refs.scrollBarRef.wrap$,"scroll",S,{passive:!0}),e.fit?(0,p.yU7)(o.vnode.el,L):(0,p.ORN)(window,"resize",L))},L=()=>{var t,l,r;const n=o.vnode.el;if(!o.$ready||!n)return;let s=!1;const{width:a,height:u,headerHeight:h}=i.value,p=c.value=n.offsetWidth;a!==p&&(s=!0);const m=n.offsetHeight;(e.height||b.value)&&u!==m&&(s=!0);const v="fixed"===e.tableLayout?o.refs.headerWrapper:null==(t=o.refs.tableHeaderRef)?void 0:t.$el;e.showHeader&&(null==v?void 0:v.offsetHeight)!==h&&(s=!0),d.value=(null==(l=o.refs.tableWrapper)?void 0:l.scrollHeight)||0,y.value=(null==v?void 0:v.scrollHeight)||0,g.value=(null==(r=o.refs.footerWrapper)?void 0:r.scrollHeight)||0,f.value=d.value-y.value-g.value,s&&(i.value={width:p,height:m,headerHeight:e.showHeader&&(null==v?void 0:v.offsetHeight)||0},w())},W=(0,m.tH)(),k=(0,r.Fl)((()=>{const{bodyWidth:e,scrollY:l,gutterWidth:r}=t;return e.value?e.value-(l.value?r:0)+"px":""})),C=(0,r.Fl)((()=>e.maxHeight?"fixed":e.tableLayout)),R=(0,r.Fl)((()=>{if(e.data&&e.data.length)return null;let t="100%";e.height&&f.value&&(t=`${f.value}px`);const l=c.value;return{width:l?`${l}px`:"",height:t}})),N=(0,r.Fl)((()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{})),E=(0,r.Fl)((()=>{var t,l;if(e.height)return{height:"100%"};if(e.maxHeight){if(Number.isNaN(Number(e.maxHeight)))return{maxHeight:`calc(${e.maxHeight} - ${y.value+g.value}px)`};{const r=(null==(t=o.refs.headerWrapper)?void 0:t.scrollHeight)||0,n=(null==(l=o.refs.footerWrapper)?void 0:l.scrollHeight)||0,s=e.maxHeight;if(d.value>=Number(s))return{maxHeight:d.value-r-n+"px"}}}return{}}));return{isHidden:n,renderExpanded:s,setDragVisible:e=>{a.value=e},isGroup:u,handleMouseLeave:()=>{o.store.commit("setHoverRow",null),o.hoverState&&(o.hoverState=null)},handleHeaderFooterMousewheel:(e,t)=>{const{pixelX:l,pixelY:r}=t;Math.abs(l)>=Math.abs(r)&&(o.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},tableSize:W,emptyBlockStyle:R,handleFixedMousewheel:(e,t)=>{const l=o.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const r=l.scrollTop;t.pixelY<0&&0!==r&&e.preventDefault(),t.pixelY>0&&l.scrollHeight-l.clientHeight>r&&e.preventDefault(),l.scrollTop+=Math.ceil(t.pixelY/5)}else l.scrollLeft+=Math.ceil(t.pixelX/5)},resizeProxyVisible:a,bodyWidth:k,resizeState:i,doLayout:w,tableBodyStyles:v,tableLayout:C,scrollbarViewStyle:{display:"inline-block",verticalAlign:"middle"},tableInnerStyle:N,scrollbarStyle:E}}var g=l(76901),b=l(63709),v=l(97321),w=l(96546),x=l(23209),S=l(85340),H=l(36431),L=l(29114);let W=1;const k=(0,r.aZ)({name:"ElTable",directives:{Mousewheel:S.Z},components:{TableHeader:c.Z,TableBody:d.Z,TableFooter:f.Z,ElScrollbar:a.Mr,hColgroup:v.e},props:g.Z,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:t}=(0,H.bU)(),l=(0,L.s)("table"),o=(0,r.FN)();(0,r.JJ)(b.m,o);const n=(0,i.M)(o,e);o.store=n;const a=new u.Z({store:o.store,table:o,fit:e.fit,showHeader:e.showHeader});o.layout=a;const c=(0,r.Fl)((()=>0===(n.states.data.value||[]).length)),{setCurrentRow:d,getSelectionRows:f,toggleRowSelection:h,clearSelection:p,clearFilter:m,toggleAllSelection:g,toggleRowExpansion:v,clearSort:x,sort:S}=function(e){return{setCurrentRow:t=>{e.commit("setCurrentRow",t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,l)=>{e.toggleRowSelection(t,l,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(t,l)=>{e.toggleRowExpansionAdapter(t,l)},clearSort:()=>{e.clearSort()},sort:(t,l)=>{e.commit("sort",{prop:t,order:l})}}}(n),{isHidden:k,renderExpanded:C,setDragVisible:R,isGroup:N,handleMouseLeave:E,handleHeaderFooterMousewheel:z,tableSize:$,emptyBlockStyle:F,handleFixedMousewheel:M,resizeProxyVisible:T,bodyWidth:_,resizeState:B,doLayout:V,tableBodyStyles:D,tableLayout:A,scrollbarViewStyle:Z,tableInnerStyle:I,scrollbarStyle:q}=y(e,a,n,o),{scrollBarRef:Y,scrollTo:P,setScrollLeft:U,setScrollTop:G}=(0,w.u)(),K=(0,s.Z)(V,50),O="el-table_"+W++;o.tableId=O,o.state={isGroup:N,resizeState:B,doLayout:V,debouncedUpdateLayout:K};const X=(0,r.Fl)((()=>e.sumText||t("el.table.sumText"))),J=(0,r.Fl)((()=>e.emptyText||t("el.table.emptyText")));return{ns:l,layout:a,store:n,handleHeaderFooterMousewheel:z,handleMouseLeave:E,tableId:O,tableSize:$,isHidden:k,isEmpty:c,renderExpanded:C,resizeProxyVisible:T,resizeState:B,isGroup:N,bodyWidth:_,tableBodyStyles:D,emptyBlockStyle:F,debouncedUpdateLayout:K,handleFixedMousewheel:M,setCurrentRow:d,getSelectionRows:f,toggleRowSelection:h,clearSelection:p,clearFilter:m,toggleAllSelection:g,toggleRowExpansion:v,clearSort:x,doLayout:V,sort:S,t:t,setDragVisible:R,context:o,computedSumText:X,computedEmptyText:J,tableLayout:A,scrollbarViewStyle:Z,tableInnerStyle:I,scrollbarStyle:q,scrollBarRef:Y,scrollTo:P,setScrollLeft:U,setScrollTop:G}}}),C=["data-prefix"],R={ref:"hiddenColumns",class:"hidden-columns"};var N=(0,x.Z)(k,[["render",function(e,t,l,s,a,i){const u=(0,r.up)("hColgroup"),c=(0,r.up)("table-header"),d=(0,r.up)("table-body"),f=(0,r.up)("el-scrollbar"),h=(0,r.up)("table-footer"),p=(0,r.Q2)("mousewheel");return(0,r.wg)(),(0,r.iD)("div",{ref:"tableWrapper",class:(0,o.normalizeClass)([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:(0,o.normalizeStyle)(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=t=>e.handleMouseLeave())},[(0,r._)("div",{class:(0,o.normalizeClass)(e.ns.e("inner-wrapper")),style:(0,o.normalizeStyle)(e.tableInnerStyle)},[(0,r._)("div",R,[(0,r.WI)(e.$slots,"default")],512),e.showHeader&&"fixed"===e.tableLayout?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:0,ref:"headerWrapper",class:(0,o.normalizeClass)(e.ns.e("header-wrapper"))},[(0,r._)("table",{ref:"tableHeader",class:(0,o.normalizeClass)(e.ns.e("header")),style:(0,o.normalizeStyle)(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[(0,r.Wm)(u,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),(0,r.Wm)(c,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[p,e.handleHeaderFooterMousewheel]]):(0,r.kq)("v-if",!0),(0,r._)("div",{ref:"bodyWrapper",class:(0,o.normalizeClass)(e.ns.e("body-wrapper"))},[(0,r.Wm)(f,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:(0,r.w5)((()=>[(0,r._)("table",{ref:"tableBody",class:(0,o.normalizeClass)(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:(0,o.normalizeStyle)({width:e.bodyWidth,tableLayout:e.tableLayout})},[(0,r.Wm)(u,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&"auto"===e.tableLayout?((0,r.wg)(),(0,r.j4)(c,{key:0,ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):(0,r.kq)("v-if",!0),(0,r.Wm)(d,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),e.isEmpty?((0,r.wg)(),(0,r.iD)("div",{key:0,ref:"emptyBlock",style:(0,o.normalizeStyle)(e.emptyBlockStyle),class:(0,o.normalizeClass)(e.ns.e("empty-block"))},[(0,r._)("span",{class:(0,o.normalizeClass)(e.ns.e("empty-text"))},[(0,r.WI)(e.$slots,"empty",{},(()=>[(0,r.Uk)((0,o.toDisplayString)(e.computedEmptyText),1)]))],2)],6)):(0,r.kq)("v-if",!0),e.$slots.append?((0,r.wg)(),(0,r.iD)("div",{key:1,ref:"appendWrapper",class:(0,o.normalizeClass)(e.ns.e("append-wrapper"))},[(0,r.WI)(e.$slots,"append")],2)):(0,r.kq)("v-if",!0)])),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:1,ref:"footerWrapper",class:(0,o.normalizeClass)(e.ns.e("footer-wrapper"))},[(0,r.Wm)(h,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:(0,o.normalizeStyle)(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[n.vShow,!e.isEmpty],[p,e.handleHeaderFooterMousewheel]]):(0,r.kq)("v-if",!0),e.border||e.isGroup?((0,r.wg)(),(0,r.iD)("div",{key:2,class:(0,o.normalizeClass)(e.ns.e("border-left-patch"))},null,2)):(0,r.kq)("v-if",!0)],6),(0,r.wy)((0,r._)("div",{ref:"resizeProxy",class:(0,o.normalizeClass)(e.ns.e("column-resize-proxy"))},null,2),[[n.vShow,e.resizeProxyVisible]])],46,C)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]])},63709:function(e,t,l){l.d(t,{m:function(){return r}});const r=Symbol("ElTable")},72713:function(e,t,l){l.d(t,{$S:function(){return i},CT:function(){return g},EJ:function(){return v},Gt:function(){return R},JH:function(){return y},L$:function(){return S},UM:function(){return d},Vl:function(){return h},WO:function(){return p},Xo:function(){return c},_D:function(){return L},_m:function(){return b},fL:function(){return N},iB:function(){return x},iO:function(){return f},kr:function(){return m},mU:function(){return H},qC:function(){return w},ty:function(){return k}});var r=l(32747),o=l(90772),n=l(48439),s=l(50349),a=l(65298);const i=function(e){var t;return null==(t=e.target)?void 0:t.closest("td")},u=function(e){return null!==e&&"object"==typeof e},c=function(e,t,l,r,n){if(!t&&!r&&(!n||Array.isArray(n)&&!n.length))return e;l="string"==typeof l?"descending"===l?-1:1:l&&l<0?-1:1;const s=r?null:function(l,r){return n?(Array.isArray(n)||(n=[n]),n.map((t=>"string"==typeof t?(0,o.Z)(l,t):t(l,r,e)))):("$key"!==t&&u(l)&&"$value"in l&&(l=l.$value),[u(l)?(0,o.Z)(l,t):l])};return e.map(((e,t)=>({value:e,index:t,key:s?s(e,t):null}))).sort(((e,t)=>{let o=function(e,t){if(r)return r(e.value,t.value);for(let l=0,r=e.key.length;l<r;l++){if(e.key[l]<t.key[l])return-1;if(e.key[l]>t.key[l])return 1}return 0}(e,t);return o||(o=e.index-t.index),o*+l})).map((e=>e.value))},d=function(e,t){let l=null;return e.columns.forEach((e=>{e.id===t&&(l=e)})),l},f=function(e,t){let l=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){l=o;break}}return l},h=function(e,t,l){const r=(t.className||"").match(new RegExp(`${l}-table_[^\\s]+`,"gm"));return r?d(e,r[0]):null},p=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if("string"==typeof t){if(!t.includes("."))return`${e[t]}`;const l=t.split(".");let r=e;for(const e of l)r=r[e];return`${r}`}if("function"==typeof t)return t.call(null,e)},m=function(e,t){const l={};return(e||[]).forEach(((e,r)=>{l[p(e,t)]={row:e,index:r}})),l};function y(e,t){const l={};let r;for(r in e)l[r]=e[r];for(r in t)if((0,s.hasOwn)(t,r)){const e=t[r];void 0!==e&&(l[r]=e)}return l}function g(e){return""===e||void 0!==e&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function b(e){return""===e||void 0!==e&&(e=g(e),Number.isNaN(e)&&(e=80)),e}function v(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function w(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...l)=>e(t(...l))))}function x(e,t,l){let r=!1;const o=e.indexOf(t),n=-1!==o,s=()=>{e.push(t),r=!0},a=()=>{e.splice(o,1),r=!0};return"boolean"==typeof l?l&&!n?s():!l&&n&&a():n?a():s(),r}function S(e,t,l="children",r="hasChildren"){const o=e=>!(Array.isArray(e)&&e.length);function n(e,s,a){t(e,s,a),s.forEach((e=>{if(e[r])return void t(e,null,a+1);const s=e[l];o(s)||n(e,s,a+1)}))}e.forEach((e=>{if(e[r])return void t(e,null,0);const s=e[l];o(s)||n(e,s,0)}))}let H;function L(e,t,l,o,s){const{nextZIndex:i}=(0,a.C)(),u=null==e?void 0:e.dataset.prefix,c=null==e?void 0:e.querySelector(`.${u}-scrollbar__wrap`);function d(){f&&f.update()}null==H||H(),H=()=>{try{f&&f.destroy(),h&&(null==e||e.removeChild(h)),t.removeEventListener("mouseenter",d),t.removeEventListener("mouseleave",H),null==c||c.removeEventListener("scroll",H),H=void 0}catch(e){}};let f=null;const h=function(){const t="light"===s,r=document.createElement("div");return r.className=`${u}-popper ${t?"is-light":"is-dark"}`,l=n(l),r.innerHTML=l,r.style.zIndex=String(i()),null==e||e.appendChild(r),r}(),p=function(){const e=document.createElement("div");return e.className=`${u}-popper__arrow`,e}();return h.appendChild(p),f=(0,r.fi)(t,h,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:p,padding:10}}],...o}),t.addEventListener("mouseenter",d),t.addEventListener("mouseleave",H),null==c||c.addEventListener("scroll",H),f}const W=(e,t,l,r)=>{let o,n=0,s=e;if(r){if(r[e].colSpan>1)return{};for(let t=0;t<e;t++)n+=r[t].colSpan;s=n+r[e].colSpan-1}else n=e;const a=l.states.columns;switch(t){case"left":s<l.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":n>=a.value.length-l.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:s<l.states.fixedLeafColumnsLength.value?o="left":n>=a.value.length-l.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:n,after:s}:{}},k=(e,t,l,r,o)=>{const n=[],{direction:s,start:a}=W(t,l,r,o);if(s){const t="left"===s;n.push(`${e}-fixed-column--${s}`),t&&a===r.states.fixedLeafColumnsLength.value-1?n.push("is-last-column"):t||a!==r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value||n.push("is-first-column")}return n};function C(e,t){return e+(null===t.realWidth||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const R=(e,t,l,r)=>{const{direction:o,start:n=0}=W(e,t,l,r);if(!o)return;const s={},a="left"===o,i=l.states.columns.value;return a?s.left=i.slice(0,e).reduce(C,0):s.right=i.slice(n+1).reverse().reduce(C,0),s},N=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))}},954:function(e,t,l){l.d(t,{Ub:function(){return s},p8:function(){return a}});var r=l(89351),o=l(52622),n=l(10001);const s=(0,n.nz)(r.ZP,{TabPane:o.Z}),a=(0,n.dp)(o.Z)}}]);