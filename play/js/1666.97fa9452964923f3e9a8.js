"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[1666],{34928:function(e,t,o){o.r(t),o.d(t,{getOccurrencesAtPosition:function(){return N}});var r=o(16644),i=o(16308),n=o(13484),s=o(97464),d=o(20996),c=o(38431),l=o(55298),a=o(50038),u=o(21081),h=o(41913),g=o(132),p=o(16012),w=o(26386),m=o(70499),C=o(92537),v=o(58566),f=o(35921),_=o(49914),b=function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},S=function(e,t){return function(o,r){t(o,r,e)}};const k=(0,C.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},w.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),R=(0,C.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},w.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,C.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:C.xL1,hcLight:C.xL1},w.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),y=(0,C.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:C.xL1,hcLight:C.xL1},w.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),T=(0,C.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},w.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),H=(0,C.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},w.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),W=new m.uy("hasWordHighlights",!1);function N(e,t,o,r){const s=e.ordered(t);return(0,n.Ps)(s.map((e=>()=>Promise.resolve(e.provideDocumentHighlights(t,o,r)).then(void 0,d.Cp))),i.Of)}class L{constructor(e,t,o){this._model=e,this._selection=t,this._wordSeparators=o,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,n.PG)((e=>this._compute(this._model,this._selection,this._wordSeparators,e)))),this._result}_getCurrentWordRange(e,t){const o=e.getWordAtPosition(t.getPosition());return o?new a.e(t.startLineNumber,o.startColumn,t.startLineNumber,o.endColumn):null}isValid(e,t,o){const r=t.startLineNumber,i=t.startColumn,n=t.endColumn,s=this._getCurrentWordRange(e,t);let d=Boolean(this._wordRange&&this._wordRange.equalsRange(s));for(let e=0,t=o.length;!d&&e<t;e++){const t=o.getRange(e);t&&t.startLineNumber===r&&t.startColumn<=i&&t.endColumn>=n&&(d=!0)}return d}cancel(){this.result.cancel()}}class D extends L{constructor(e,t,o,r){super(e,t,o),this._providers=r}_compute(e,t,o,r){return N(this._providers,e,t.getPosition(),r).then((e=>e||[]))}}class P extends L{constructor(e,t,o){super(e,t,o),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,o,r){return(0,n.Vs)(250,r).then((()=>{if(!t.isEmpty())return[];const r=e.getWordAtPosition(t.getPosition());if(!r||r.word.length>1e3)return[];return e.findMatches(r.word,!0,!1,!0,o,!1).map((e=>({range:e.range,kind:p.MY.Text})))}))}isValid(e,t,o){const r=t.isEmpty();return this._selectionIsEmpty===r&&super.isValid(e,t,o)}}(0,l.sb)("_executeDocumentHighlights",((e,t,o)=>N(e.get(f.p).documentHighlightProvider,t,o,s.T.None)));class A{constructor(e,t,o){this.toUnhook=new c.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=W.bindTo(o),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{const t=this.editor.getOption(74);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(a.e.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,o=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const i=this._getWord();if(i){const n=this.editor.getModel().getLineContent(o.startLineNumber);(0,r.Z9)(`${n}, ${t+1} of ${e.length} for '${i.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,o=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const i=this._getWord();if(i){const n=this.editor.getModel().getLineContent(o.startLineNumber);(0,r.Z9)(`${n}, ${t+1} of ${e.length} for '${i.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,o=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:o})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();const t=e.startColumn,o=e.endColumn,r=this._getWord();if(!r||r.startColumn>t||r.endColumn<o)return void this._stopAll();const i=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),i)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(n=this.providers,s=this.model,c=this.editor.getSelection(),l=this.editor.getOption(119),n.has(s)?new D(s,c,l,n):new P(s,c,l)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),d.dL)}var n,s,c,l}_beginRenderDecorations(){const e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:A._getDecorationOptions(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===p.MY.Write?this._WRITE_OPTIONS:e===p.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}A._WRITE_OPTIONS=g.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,v.EN)(H),position:h.sh.Center},minimap:{color:(0,v.EN)(C.IYc),position:h.F5.Inline}}),A._TEXT_OPTIONS=g.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,v.EN)(C.SPM),position:h.sh.Center},minimap:{color:(0,v.EN)(C.IYc),position:h.F5.Inline}}),A._REGULAR_OPTIONS=g.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,v.EN)(T),position:h.sh.Center},minimap:{color:(0,v.EN)(C.IYc),position:h.F5.Inline}});let E=class e extends c.JT{constructor(e,t,o){super(),this.wordHighlighter=null;const r=()=>{e.hasModel()&&(this.wordHighlighter=new A(e,o.documentHighlightProvider,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),r()}))),r()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};E.ID="editor.contrib.wordHighlighter",E=b([S(1,m.i6),S(2,f.p)],E);class O extends l.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const o=E.get(t);o&&(this._isNext?o.moveNext():o.moveBack())}}class I extends l.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:w.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:W.toNegated(),kbOpts:{kbExpr:u.u.editorTextFocus,primary:0,weight:100}})}run(e,t,o){const r=E.get(t);r&&r.restoreViewState(!0)}}(0,l._K)(E.ID,E),(0,l.Qr)(class extends O{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:w.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:W,kbOpts:{kbExpr:u.u.editorTextFocus,primary:65,weight:100}})}}),(0,l.Qr)(class extends O{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:w.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:W,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1089,weight:100}})}}),(0,l.Qr)(I),(0,v.Ic)(((e,t)=>{const o=e.getColor(C.Rzx);o&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${o}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${o.transparent(.5)}; }`));const r=e.getColor(k);r&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${r}; }`);const i=e.getColor(R);i&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${i}; }`);const n=e.getColor(C.g_n);n&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,_.c3)(e.type)?"dotted":"solid"} ${n}; box-sizing: border-box; }`);const s=e.getColor(x);s&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,_.c3)(e.type)?"dashed":"solid"} ${s}; box-sizing: border-box; }`);const d=e.getColor(y);d&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,_.c3)(e.type)?"dashed":"solid"} ${d}; box-sizing: border-box; }`)}))},66408:function(e,t,o){o.r(t),o.d(t,{CursorWordAccessibilityLeft:function(){return T},CursorWordAccessibilityLeftSelect:function(){return H},CursorWordAccessibilityRight:function(){return E},CursorWordAccessibilityRightSelect:function(){return O},CursorWordEndLeft:function(){return S},CursorWordEndLeftSelect:function(){return x},CursorWordEndRight:function(){return N},CursorWordEndRightSelect:function(){return P},CursorWordLeft:function(){return k},CursorWordLeftSelect:function(){return y},CursorWordRight:function(){return L},CursorWordRightSelect:function(){return A},CursorWordStartLeft:function(){return b},CursorWordStartLeftSelect:function(){return R},CursorWordStartRight:function(){return W},CursorWordStartRightSelect:function(){return D},DeleteInsideWord:function(){return G},DeleteWordCommand:function(){return I},DeleteWordEndLeft:function(){return B},DeleteWordEndRight:function(){return F},DeleteWordLeft:function(){return V},DeleteWordLeftCommand:function(){return M},DeleteWordRight:function(){return U},DeleteWordRightCommand:function(){return q},DeleteWordStartLeft:function(){return K},DeleteWordStartRight:function(){return $},MoveWordCommand:function(){return v},WordLeftCommand:function(){return f},WordRightCommand:function(){return _}});var r=o(55298),i=o(38050),n=o(70054),s=o(60854),d=o(61958),c=o(31599),l=o(8964),a=o(50038),u=o(57841),h=o(21081),g=o(29173),p=o(26386),w=o(18708),m=o(70499),C=o(57131);class v extends r._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,o){if(!t.hasModel())return;const r=(0,c.u)(t.getOption(119)),i=t.getModel(),n=t.getSelections().map((e=>{const t=new l.L(e.positionLineNumber,e.positionColumn),o=this._move(r,i,t,this._wordNavigationType);return this._moveTo(e,o,this._inSelectionMode)}));if(i.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,n.map((e=>s.Vi.fromModelSelection(e)))),1===n.length){const e=new l.L(n[0].positionLineNumber,n[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,o){return o?new u.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new u.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class f extends v{_move(e,t,o,r){return d.w.moveWordLeft(e,t,o,r)}}class _ extends v{_move(e,t,o,r){return d.w.moveWordRight(e,t,o,r)}}class b extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class S extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class k extends f{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:m.Ao.and(h.u.textInputFocus,null===(e=m.Ao.and(w.U,C.cv))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class R extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class x extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class y extends f{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:m.Ao.and(h.u.textInputFocus,null===(e=m.Ao.and(w.U,C.cv))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class T extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,o,r){return super._move((0,c.u)(n.BH.wordSeparators.defaultValue),t,o,r)}}class H extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,o,r){return super._move((0,c.u)(n.BH.wordSeparators.defaultValue),t,o,r)}}class W extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class N extends _{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:m.Ao.and(h.u.textInputFocus,null===(e=m.Ao.and(w.U,C.cv))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class L extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class D extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class P extends _{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:m.Ao.and(h.u.textInputFocus,null===(e=m.Ao.and(w.U,C.cv))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class A extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class E extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,o,r){return super._move((0,c.u)(n.BH.wordSeparators.defaultValue),t,o,r)}}class O extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,o,r){return super._move((0,c.u)(n.BH.wordSeparators.defaultValue),t,o,r)}}class I extends r._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,o){const r=e.get(g.c_);if(!t.hasModel())return;const n=(0,c.u)(t.getOption(119)),s=t.getModel(),d=t.getSelections(),l=t.getOption(5),a=t.getOption(8),u=r.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),h=t._getViewModel(),p=d.map((e=>{const o=this._delete({wordSeparators:n,model:s,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:a,autoClosingPairs:u,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new i.T4(o,"")}));t.pushUndoStop(),t.executeCommands(this.id,p),t.pushUndoStop()}}class M extends I{_delete(e,t){const o=d.w.deleteWordLeft(e,t);return o||new a.e(1,1,1,1)}}class q extends I{_delete(e,t){const o=d.w.deleteWordRight(e,t);if(o)return o;const r=e.model.getLineCount(),i=e.model.getLineMaxColumn(r);return new a.e(r,i,r,i)}}class K extends M{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:h.u.writable})}}class B extends M{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:h.u.writable})}}class V extends M{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class $ extends q{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:h.u.writable})}}class F extends q{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:h.u.writable})}}class U extends q{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class G extends r.R6{constructor(){super({id:"deleteInsideWord",precondition:h.u.writable,label:p.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,o){if(!t.hasModel())return;const r=(0,c.u)(t.getOption(119)),n=t.getModel(),s=t.getSelections().map((e=>{const t=d.w.deleteInsideWord(r,n,e);return new i.T4(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}(0,r.fK)(new b),(0,r.fK)(new S),(0,r.fK)(new k),(0,r.fK)(new R),(0,r.fK)(new x),(0,r.fK)(new y),(0,r.fK)(new W),(0,r.fK)(new N),(0,r.fK)(new L),(0,r.fK)(new D),(0,r.fK)(new P),(0,r.fK)(new A),(0,r.fK)(new T),(0,r.fK)(new H),(0,r.fK)(new E),(0,r.fK)(new O),(0,r.fK)(new K),(0,r.fK)(new B),(0,r.fK)(new V),(0,r.fK)(new $),(0,r.fK)(new F),(0,r.fK)(new U),(0,r.Qr)(G)}}]);