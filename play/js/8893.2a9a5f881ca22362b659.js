"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[8893],{69756:function(e,t,i){i.d(t,{Kp:function(){return n},k:function(){return a}});var s=i(17416);class n{constructor(e,t,i,s){this.startColumn=e,this.endColumn=t,this.className=i,this.type=s,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(!n._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const s=t+1,r=i+1,h=i-t,a=[];let c=0;for(const t of e)t.endColumn<=s||t.startColumn>=r||(a[c++]=new n(Math.max(1,t.startColumn-s+1),Math.min(h+1,t.endColumn-s+1),t.className,t.type));return a}static filter(e,t,i,s){if(0===e.length)return[];const r=[];let h=0;for(let a=0,c=e.length;a<c;a++){const c=e[a],o=c.range;if(o.endLineNumber<t||o.startLineNumber>t)continue;if(o.isEmpty()&&(0===c.type||3===c.type))continue;const u=o.startLineNumber===t?o.startColumn:i,d=o.endLineNumber===t?o.endColumn:s;r[h++]=new n(u,d,c.inlineClassName,c.type)}return r}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=n._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class r{constructor(e,t,i,s){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=s}}class h{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,s=e.length;i<s;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new r(t,this.stopOffsets[e],this.classNames.join(" "),h._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new r(t,e-1,this.classNames.join(" "),h._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=e){this.stopOffsets.splice(s,0,e),this.classNames.splice(s,0,t),this.metadata.splice(s,0,i);break}this.count++}}class a{static normalize(e,t){if(0===t.length)return[];const i=[],n=new h;let r=0;for(let h=0,a=t.length;h<a;h++){const a=t[h];let c=a.startColumn,o=a.endColumn;const u=a.className,d=1===a.type?2:2===a.type?4:0;if(c>1){const t=e.charCodeAt(c-2);s.ZG(t)&&c--}if(o>1){const t=e.charCodeAt(o-2);s.ZG(t)&&o--}const g=c-1,f=o-2;r=n.consumeLowerThan(g,r,i),0===n.count&&(r=g),n.insert(f,u,d)}return n.consumeLowerThan(1073741824,r,i),i}}},30897:function(e,t,i){i.d(t,{B:function(){return s}});class s{constructor(e,t,i,s){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=s,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}},923:function(e,t,i){i.d(t,{z:function(){return h}});var s=i(17416);class n{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,s=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,s)}}class r{constructor(e,t,i,s,n){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=s,this.minWidth=n,this.prefixSum=0}}class h{constructor(e,t,i,r){this._instanceId=s.PJ(++h.INSTANCE_COUNT),this._pendingChanges=new n,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let s=0,n=e.length;for(;s<n;){const r=s+n>>>1;t===e[r].afterLineNumber?i<e[r].ordinal?n=r:s=r+1:t<e[r].afterLineNumber?n=r:s=r+1}return s}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,s,n)=>{t=!0,e|=0,i|=0,s|=0,n|=0;const h=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new r(h,e,i,s,n)),h},changeOneWhitespace:(e,i,s)=>{t=!0,i|=0,s|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:s})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const s=new Set;for(const e of i)s.add(e.id);const n=new Map;for(const e of t)n.set(e.id,e);const r=e=>{const t=[];for(const i of e)if(!s.has(i.id)){if(n.has(i.id)){const e=n.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},h=r(this._arr).concat(r(e));h.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=h,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=h.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,s=t.length;i<s;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const s=this._findWhitespaceIndex(e);if(-1!==s&&(this._arr[s].height!==i&&(this._arr[s].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,s-1)),this._arr[s].afterLineNumber!==t)){const e=this._arr[s];this._removeWhitespace(s),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,s=this._arr.length;i<s;i++){const s=this._arr[i].afterLineNumber;e<=s&&s<=t?this._arr[i].afterLineNumber=e-1:s>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,s=this._arr.length;i<s;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,s=t.length-1;for(;i<=s;){const n=i+((s-i|0)/2|0)|0;if(t[n].afterLineNumber<e){if(n+1>=t.length||t[n+1].afterLineNumber>=e)return n;i=n+1|0}else s=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){let i;this._checkPendingChanges(),i=(e|=0)>1?this._lineHeight*(e-1):0;return i+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e|=0;return this._lineHeight*e+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let s=1,n=t;for(;s<n;){const t=(s+n)/2|0,r=0|this.getVerticalOffsetForLineNumber(t);if(e>=r+i)s=t+1;else{if(e>=r)return t;n=t}}return s>t?t:s}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,s=0|this.getLineNumberAtOrAfterVerticalOffset(e),n=0|this.getVerticalOffsetForLineNumber(s);let r=0|this._lineCount,h=0|this.getFirstWhitespaceIndexAfterLineNumber(s);const a=0|this.getWhitespacesCount();let c,o;-1===h?(h=a,o=r+1,c=0):(o=0|this.getAfterLineNumberForWhitespaceIndex(h),c=0|this.getHeightForWhitespaceIndex(h));let u=n,d=u;const g=5e5;let f=0;n>=g&&(f=Math.floor(n/g)*g,f=Math.floor(f/i)*i,d-=f);const l=[],m=e+(t-e)/2;let p=-1;for(let e=s;e<=r;e++){if(-1===p){const t=u,s=u+i;(t<=m&&m<s||t>m)&&(p=e)}for(u+=i,l[e-s]=d,d+=i;o===e;)d+=c,u+=c,h++,h>=a?o=r+1:(o=0|this.getAfterLineNumberForWhitespaceIndex(h),c=0|this.getHeightForWhitespaceIndex(h));if(u>=t){r=e;break}}-1===p&&(p=r);const _=0|this.getVerticalOffsetForLineNumber(r);let C=s,N=r;return C<N&&n<e&&C++,C<N&&_+i>t&&N--,{bigNumbersDelta:f,startLineNumber:s,endLineNumber:r,relativeVerticalOffset:l,centeredLineNumber:p,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:N}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,s;return i=t>=1?this._lineHeight*t:0,s=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+s+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const s=Math.floor((t+i)/2),n=this.getVerticalOffsetForWhitespaceIndex(s);if(e>=n+this.getHeightForWhitespaceIndex(s))t=s+1;else{if(e>=n)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const s=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:s}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),s=this.getWhitespacesCount()-1;if(i<0)return[];const n=[];for(let e=i;e<=s;e++){const i=this.getVerticalOffsetForWhitespaceIndex(e),s=this.getHeightForWhitespaceIndex(e);if(i>=t)break;n.push({id:this.getIdForWhitespaceIndex(e),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(e),verticalOffset:i,height:s})}return n}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}h.INSTANCE_COUNT=0}}]);