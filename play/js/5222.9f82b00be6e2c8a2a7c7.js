(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5222],{31149:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(27875),l=n(50349),u=["src","title"],o={class:"custom-table mb-5"},i=(0,a.Uk)("10"),r=(0,a.Uk)("20"),s=(0,a.Uk)("50");n(68995),n(95342),n(58188),n(99805);var c=n(40641),d=n(34145),m=n(69694),f=n(13987),p={name:"ListViewAttr",components:{ButtonSet:m.default},extends:d.default,data:function(){var e=this;return{rules:{defaultValue:[{validator:function(t,n,a,l){l=e.data.extras?e.data.extras:l;e.getLimitMax(l.validType);if(l){if(n&&l.maxLength&&n.length>parseInt(l.maxLength))a("默认值最大长度不能超过".concat(l.maxLength));if(n&&l.minLength&&n.length<parseInt(l.minLength))a("默认值最小长度不能超过".concat(l.minLength));a()}else a()}}]},tableStyleList:[{type:"borderNoStripe",src:n(27566),title:"有竖边框无斑马纹"},{type:"borderStripe",src:n(50701),title:"有竖边框有斑马纹"},{type:"noBorderNoStripe",src:n(26207),title:"无竖边框无斑马纹"},{type:"noBorderStripe",src:n(80262),title:"无竖边框有斑马纹"}],columnSetDialog:null}},computed:{},watch:{},mounted:function(){},methods:{getButtonType:function(e){var t="字段";if("button"===e)t="按钮";return t},handleTableStyleChange:function(e){this.data.extras.tableStyle=e.type},handleColumnSet:function(e,t){var a=this,l={config:e,columns:this.data.extras.columns.filter((function(e,n){return n!==t&&"button"!==e.type}))},u={confirm:function(e){e&&(a.data.extras.columns[t]=e),a.$store.dispatch("dialogManager/removeDialog",a.columnSetDialog.key),a.columnSetDialog=null},cancel:function(){a.$store.dispatch("dialogManager/removeDialog",a.columnSetDialog.key),a.columnSetDialog=null}},o=(0,c.Xl)(n(75258).default);this.columnSetDialog?(this.columnSetDialog.props=l,this.$store.dispatch("dialogManager/updateDialog",this.columnSetDialog)):(this.columnSetDialog=new f.V(o,l,u,{title:"列设置",width:600,bodyHeight:300}),this.$store.dispatch("dialogManager/addDialog",this.columnSetDialog)),this.$store.dispatch("dialogManager/openDialog",this.columnSetDialog.key)},handleColumnDelete:function(e){this.data.extras.columns.splice(e,1)},handleColumnAdd:function(){this.data.extras.columns.push({label:"",type:"field",permission:"",width:"",align:"left",tag:"null",fieldPath:"",fieldType:"text",format:"",options:[],actionConfig:[]})}}};const h=(0,n(94407).Z)(p,[["render",function(e,t,n,c,d,m){var f=(0,a.up)("el-switch"),p=(0,a.up)("el-form-item"),h=(0,a.up)("el-col"),w=(0,a.up)("base-attr"),b=(0,a.up)("el-tab-pane"),g=(0,a.up)("el-table-column"),v=(0,a.up)("setting"),x=(0,a.up)("el-icon"),_=(0,a.up)("delete"),y=(0,a.up)("el-table"),V=(0,a.up)("el-checkbox"),W=(0,a.up)("el-checkbox-group"),S=(0,a.up)("button-set"),C=(0,a.up)("el-tabs"),k=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(k,{ref:"form",model:e.data,rules:d.rules,"label-width":"90px","label-position":"left",class:"attribute-listview",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{modelValue:e.tabsActives,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{data:e.data},{"inside-form":(0,a.w5)((function(){return[(0,a.Wm)(p,{label:"支持复选：",prop:"checkBox"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{modelValue:e.data.extras.checkBox,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.checkBox=t})},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(p,{label:"显示序号：",prop:"showNum"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{modelValue:e.data.extras.showNum,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.extras.showNum=t})},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(p,{label:"表格样式：",prop:"extras.tableStyle",class:"listview-style"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.tableStyleList,(function(t,n){return(0,a.wg)(),(0,a.j4)(h,{span:4,class:(0,l.normalizeClass)(["pr-5",{"listview-style--active":e.data.extras.tableStyle===t.type}]),onClick:function(e){return m.handleTableStyleChange(t)},key:n},{default:(0,a.w5)((function(){return[(0,a._)("img",{src:t.src,title:t.title},null,8,u)]})),_:2},1032,["onClick","class"])})),128))]})),_:1})]})),_:1},8,["data"])]})),_:1}),(0,a.Wm)(b,{label:"列设置",name:"column"},{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Wm)(y,{data:e.data.extras.columns,size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{prop:"label",label:"标题"}),(0,a.Wm)(g,{prop:"type",label:"类型"},{default:(0,a.w5)((function(e){return[(0,a.Uk)((0,l.toDisplayString)(m.getButtonType(e.row.type)),1)]})),_:1}),(0,a.Wm)(g,{prop:"permission",label:"权限"}),(0,a.Wm)(g,{"header-align":"center",align:"center",label:"操作",width:"100px"},{default:(0,a.w5)((function(e){return[(0,a.Wm)(x,{class:"custom-table__icon",onClick:function(t){return m.handleColumnSet(e.row,e.$index)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(v)]})),_:2},1032,["onClick"]),(0,a.Wm)(x,{class:"custom-table__icon",onClick:function(t){return m.handleColumnDelete(e.$index)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(_)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,a._)("div",{class:"custom-table__button",onClick:t[2]||(t[2]=function(){return m.handleColumnAdd&&m.handleColumnAdd.apply(m,arguments)})},"+添加列")])]})),_:1}),(0,a.Wm)(b,{label:"翻页设置",name:"pagination"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{label:"显示翻页：",prop:"showNum"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{modelValue:e.data.extras.showPagination,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.extras.showPagination=t})},null,8,["modelValue"])]})),_:1}),e.data.extras.showPagination?((0,a.wg)(),(0,a.j4)(p,{key:0,label:"列表分页：",prop:"pageSize",class:"column-name"},{default:(0,a.w5)((function(){return[(0,a.Wm)(W,{modelValue:e.data.extras.pageSize,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.extras.pageSize=t}),class:"w-full"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{class:"mr-5",label:10,disabled:""},{default:(0,a.w5)((function(){return[i]})),_:1}),(0,a.Wm)(V,{class:"mr-5",label:20},{default:(0,a.w5)((function(){return[r]})),_:1}),(0,a.Wm)(V,{class:"mr-5",label:50},{default:(0,a.w5)((function(){return[s]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(b,{label:"操作设置",name:"action"},{default:(0,a.w5)((function(){return[(0,a.Wm)(S,{config:e.data.extras.operations,isColumn:!1},null,8,["config"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]]);var w=h},45447:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n(27875);n(58188),n(1939),n(39529),n(31235),n(99805);var l=n(34145),u=n(92041),o=n(325),i={name:"SearchFormAttr",extends:l.default,data:function(){return{rules:{},fieldTypes:[]}},computed:{},watch:{},mounted:function(){this.setFieldTypes()},methods:{setFieldTypes:function(){var e=[],t=u.Z.computed.menuItemList();Array.isArray(t)&&t.forEach((function(t){o.LAYOUT_TYPES.includes(t.type)||e.push(t)})),this.fieldTypes=e},handleFieldDelete:function(e){this.data.extras.fields.splice(e,1)},handleFieldAdd:function(){this.data.extras.fields.push({label:"",field:"",type:"textBox",permission:""})}}};var r=(0,n(94407).Z)(i,[["render",function(e,t,n,l,u,o){var i=(0,a.up)("el-input"),r=(0,a.up)("el-col"),s=(0,a.up)("el-form-item"),c=(0,a.up)("base-attr"),d=(0,a.up)("el-tab-pane"),m=(0,a.up)("el-tabs"),f=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(f,{ref:"form",model:e.data,rules:u.rules,"label-width":"90px","label-position":"left",class:"attribute-listview",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{modelValue:e.tabsActives,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tabsActives=t})},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{data:e.data},{"inside-form":(0,a.w5)((function(){return[(0,a.Wm)(s,{label:"查询事件：",prop:"checkBox"},{default:(0,a.w5)((function(){return[(0,a.Wm)(r,{span:10},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{modelValue:e.data.extras.searchEvent,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.extras.searchEvent=t})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},28761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});n(26936);var a=n(27875);var l=n(55164),u={name:"ViewAttr",props:{config:{type:Object,default:function(){return{}}}},data:function(){return{tabsActives:"base",viewConfig:{}}},mounted:function(){this.$parent.$children=this,this.viewConfig=(0,l.Xh)(this.config||{})},methods:{confirm:function(){this.$attrs.events.confirm(this.viewConfig)},cancel:function(){this.$attrs.events.cancel()}}};var o=(0,n(94407).Z)(u,[["render",function(e,t,n,l,u,o){var i=(0,a.up)("el-input"),r=(0,a.up)("el-form-item"),s=(0,a.up)("el-tab-pane"),c=(0,a.up)("el-tabs"),d=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(d,{ref:"form",model:e.formConfig,rules:e.rules,"label-width":"90px","label-position":"left",size:"small"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{modelValue:u.tabsActives,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.tabsActives=e})},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{label:"基础属性",name:"base"},{default:(0,a.w5)((function(){return[(0,a.Wm)(r,{label:"视图名称：",prop:"name"},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{modelValue:u.viewConfig.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.viewConfig.name=e}),class:"w-1/2",maxlength:"200"},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(r,{label:"视图API：",prop:"api"},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{modelValue:u.viewConfig.api,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.viewConfig.api=e}),class:"w-1/2",maxlength:"200"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model","rules"])}]])},35222:function(e,t,n){var a={"./":46052,"./common/base":34145,"./common/base.vue":34145,"./common/baseAttr":25831,"./common/baseAttr.vue":25831,"./index":46052,"./index.vue":46052,"./listView":31149,"./listView/":31149,"./listView/buttonSet":69694,"./listView/buttonSet.vue":69694,"./listView/columnSet":75258,"./listView/columnSet.vue":75258,"./listView/index":31149,"./listView/index.vue":31149,"./searchForm":45447,"./searchForm/":45447,"./searchForm/index":45447,"./searchForm/index.vue":45447,"./viewAttr":28761,"./viewAttr.vue":28761};function l(e){var t=u(e);return n(t)}function u(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=u,e.exports=l,l.id=35222}}]);