"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[9321],{6258:function(e,t,n){n.d(t,{x:function(){return a}});var i=n(17979),o=n(8964),s=n(50038),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};class a{provideSelectionRanges(e,t){return r(this,void 0,void 0,(function*(){const n=[];for(const i of t){const t=[];n.push(t);const o=new Map;yield new Promise((t=>a._bracketsRightYield(t,0,e,i,o))),yield new Promise((n=>a._bracketsLeftYield(n,0,e,i,o,t)))}return n}))}static _bracketsRightYield(e,t,n,o,s){const r=new Map,c=Date.now();for(;;){if(t>=a._maxRounds){e();break}if(!o){e();break}const l=n.bracketPairs.findNextBracket(o);if(!l){e();break}if(Date.now()-c>a._maxDuration){setTimeout((()=>a._bracketsRightYield(e,t+1,n,o,s)));break}if(l.bracketInfo.isOpeningBracket){const e=l.bracketInfo.bracketText,t=r.has(e)?r.get(e):0;r.set(e,t+1)}else{const e=l.bracketInfo.getClosedBrackets()[0].bracketText;let t=r.has(e)?r.get(e):0;if(t-=1,r.set(e,Math.max(0,t)),t<0){let t=s.get(e);t||(t=new i.S,s.set(e,t)),t.push(l.range)}}o=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,i,o,r){const c=new Map,l=Date.now();for(;;){if(t>=a._maxRounds&&0===o.size){e();break}if(!i){e();break}const u=n.bracketPairs.findPrevBracket(i);if(!u){e();break}if(Date.now()-l>a._maxDuration){setTimeout((()=>a._bracketsLeftYield(e,t+1,n,i,o,r)));break}if(u.bracketInfo.isOpeningBracket){const e=u.bracketInfo.bracketText;let t=c.has(e)?c.get(e):0;if(t-=1,c.set(e,Math.max(0,t)),t<0){const t=o.get(e);if(t){const i=t.shift();0===t.size&&o.delete(e);const c=s.e.fromPositions(u.range.getEndPosition(),i.getStartPosition()),l=s.e.fromPositions(u.range.getStartPosition(),i.getEndPosition());r.push({range:c}),r.push({range:l}),a._addBracketLeading(n,l,r)}}}else{const e=u.bracketInfo.getClosedBrackets()[0].bracketText,t=c.has(e)?c.get(e):0;c.set(e,t+1)}i=u.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const i=t.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(i);0!==r&&r!==t.startColumn&&(n.push({range:s.e.fromPositions(new o.L(i,r),t.getEndPosition())}),n.push({range:s.e.fromPositions(new o.L(i,1),t.getEndPosition())}));const a=i-1;if(a>0){const i=e.getLineFirstNonWhitespaceColumn(a);i===t.startColumn&&i!==e.getLineLastNonWhitespaceColumn(a)&&(n.push({range:s.e.fromPositions(new o.L(a,i),t.getEndPosition())}),n.push({range:s.e.fromPositions(new o.L(a,1),t.getEndPosition())}))}}}a._maxDuration=30,a._maxRounds=2},29353:function(e,t,n){n.r(t),n.d(t,{provideSelectionRanges:function(){return R}});var i=n(16308),o=n(97464),s=n(20996),r=n(55298),a=n(8964),c=n(50038),l=n(57841),u=n(21081),d=n(6258),g=n(17416);class h{provideSelectionRanges(e,t){const n=[];for(const i of t){const t=[];n.push(t),this._addInWordRanges(t,e,i),this._addWordRanges(t,e,i),this._addWhitespaceLine(t,e,i),t.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const i=t.getWordAtPosition(n);if(!i)return;const{word:o,startColumn:s}=i,r=n.column-s;let a=r,l=r,u=0;for(;a>=0;a--){const e=o.charCodeAt(a);if(a!==r&&(95===e||45===e))break;if((0,g.mK)(e)&&(0,g.df)(u))break;u=e}for(a+=1;l<o.length;l++){const e=o.charCodeAt(l);if((0,g.df)(e)&&(0,g.mK)(u))break;if(95===e||45===e)break;u=e}a<l&&e.push({range:new c.e(n.lineNumber,s+a,n.lineNumber,s+l)})}_addWordRanges(e,t,n){const i=t.getWordAtPosition(n);i&&e.push({range:new c.e(n.lineNumber,i.startColumn,n.lineNumber,i.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new c.e(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}var f=n(26386),m=n(21208),p=n(80793),b=n(35921),_=n(91223),k=n(14818),P=n(28919),S=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},L=function(e,t){return function(n,i){t(n,i,e)}},v=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};class x{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new x(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}let w=class e{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(t){return t.getContribution(e.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return v(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(this._state||(yield R(this._languageFeaturesService.selectionRangeProvider,n,t.map((e=>e.getPosition())),this._editor.getOption(104),o.T.None).then((e=>{var n;if(i.Of(e)&&e.length===t.length&&this._editor.hasModel()&&i.fS(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let n=0;n<e.length;n++)e[n]=e[n].filter((e=>e.containsPosition(t[n].getStartPosition())&&e.containsPosition(t[n].getEndPosition()))),e[n].unshift(t[n]);this._state=e.map((e=>new x(0,e))),null===(n=this._selectionListener)||void 0===n||n.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)}))}}))),!this._state)return;this._state=this._state.map((t=>t.mov(e)));const s=this._state.map((e=>l.Y.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}}))}};w.ID="editor.contrib.smartSelectController",w=S([L(1,b.p)],w);class N extends r.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return v(this,void 0,void 0,(function*(){const e=w.get(t);e&&(yield e.run(this._forward))}))}}p.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function R(e,t,n,o,r){return v(this,void 0,void 0,(function*(){const l=e.all(t).concat(new h);1===l.length&&l.unshift(new d.x);const u=[],g=[];for(const e of l)u.push(Promise.resolve(e.provideSelectionRanges(t,n,r)).then((e=>{if(i.Of(e)&&e.length===n.length)for(let t=0;t<n.length;t++){g[t]||(g[t]=[]);for(const i of e[t])c.e.isIRange(i.range)&&c.e.containsPosition(i.range,n[t])&&g[t].push(c.e.lift(i.range))}}),s.Cp));return yield Promise.all(u),g.map((e=>{if(0===e.length)return[];e.sort(((e,t)=>a.L.isBefore(e.getStartPosition(),t.getStartPosition())?1:a.L.isBefore(t.getStartPosition(),e.getStartPosition())||a.L.isBefore(e.getEndPosition(),t.getEndPosition())?-1:a.L.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));const n=[];let i;for(const t of e)(!i||c.e.containsRange(t,i)&&!c.e.equalsRange(t,i))&&(n.push(t),i=t);if(!o.selectLeadingAndTrailingWhitespace)return n;const s=[n[0]];for(let e=1;e<n.length;e++){const i=n[e-1],o=n[e];if(o.startLineNumber!==i.startLineNumber||o.endLineNumber!==i.endLineNumber){const e=new c.e(i.startLineNumber,t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,t.getLineLastNonWhitespaceColumn(i.endLineNumber));e.containsRange(i)&&!e.equalsRange(i)&&o.containsRange(e)&&!o.equalsRange(e)&&s.push(e);const n=new c.e(i.startLineNumber,1,i.endLineNumber,t.getLineMaxColumn(i.endLineNumber));n.containsRange(i)&&!n.equalsRange(e)&&o.containsRange(n)&&!o.equalsRange(n)&&s.push(n)}s.push(o)}return s}))}))}(0,r._K)(w.ID,w),(0,r.Qr)(class extends N{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:f.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:m.eH.MenubarSelectionMenu,group:"1_basic",title:f.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,r.Qr)(class extends N{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:f.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:m.eH.MenubarSelectionMenu,group:"1_basic",title:f.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),p.P0.registerCommand("_executeSelectionRangeProvider",(function(e,...t){return v(this,void 0,void 0,(function*(){const[n,i]=t;(0,k.p_)(P.o.isUri(n));const s=e.get(b.p).selectionRangeProvider,r=yield e.get(_.S).createModelReference(n);try{return R(s,r.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0},o.T.None)}finally{r.dispose()}}))}))}}]);