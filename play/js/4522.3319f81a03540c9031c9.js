"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[4522],{91568:function(t,e,n){n.d(e,{v2:function(){return C}});var i=n(71488),o=n(80265),s=n(34441),a=n(6544),c=n(24677),l=n(67235),r=n(85898),m=n(47397),u=n(85101),h=n(28638),d=n(98299),b=n(13484),p=n(407),g=n(5858),f=n(38431),x=n(11138),y=n(17416);const v=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,w=/(&amp;)?(&amp;)([^\s&])/g;var S;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(S||(S={}));class C extends l.o{constructor(t,e,n={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const i=document.createElement("div");i.classList.add("monaco-menu"),i.setAttribute("role","presentation"),super(i,{orientation:1,actionViewItemProvider:t=>this.doGetActionViewItem(t,n,c),context:n.context,actionRunner:n.actionRunner,ariaLabel:n.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...x.dz||x.IJ?[10]:[]],keyDown:!0}}),this.menuElement=i,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new f.SL),this.initializeOrUpdateStyleSheet(t,{}),this._register(o.o.addTarget(i)),(0,s.nm)(i,s.tw.KEY_DOWN,(t=>{new a.y(t).equals(2)&&t.preventDefault()})),n.enableMnemonics&&this.menuDisposables.add((0,s.nm)(i,s.tw.KEY_DOWN,(t=>{const e=t.key.toLocaleLowerCase();if(this.mnemonics.has(e)){s.zB.stop(t,!0);const n=this.mnemonics.get(e);if(1===n.length&&(n[0]instanceof E&&n[0].container&&this.focusItemByElement(n[0].container),n[0].onClick(t)),n.length>1){const t=n.shift();t&&t.container&&(this.focusItemByElement(t.container),n.push(t)),this.mnemonics.set(e,n)}}}))),x.IJ&&this._register((0,s.nm)(i,s.tw.KEY_DOWN,(t=>{const e=new a.y(t);e.equals(14)||e.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),s.zB.stop(t,!0)):(e.equals(13)||e.equals(12))&&(this.focusedItem=0,this.focusPrevious(),s.zB.stop(t,!0))}))),this._register((0,s.nm)(this.domNode,s.tw.MOUSE_OUT,(t=>{const e=t.relatedTarget;(0,s.jg)(e,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),t.stopPropagation())}))),this._register((0,s.nm)(this.actionsList,s.tw.MOUSE_OVER,(t=>{let e=t.target;if(e&&(0,s.jg)(e,this.actionsList)&&e!==this.actionsList){for(;e.parentElement!==this.actionsList&&null!==e.parentElement;)e=e.parentElement;if(e.classList.contains("action-item")){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}}}))),this._register(o.o.addTarget(this.actionsList)),this._register((0,s.nm)(this.actionsList,o.t.Tap,(t=>{let e=t.initialTarget;if(e&&(0,s.jg)(e,this.actionsList)&&e!==this.actionsList){for(;e.parentElement!==this.actionsList&&null!==e.parentElement;)e=e.parentElement;if(e.classList.contains("action-item")){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}}})));const c={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new h.s$(i,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const l=this.scrollableElement.getDomNode();l.style.position="",this._register((0,s.nm)(i,o.t.Change,(t=>{s.zB.stop(t,!0);const e=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:e-t.translationY})}))),this._register((0,s.nm)(l,s.tw.MOUSE_UP,(t=>{t.preventDefault()}))),i.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,e=e.filter((t=>{var e;return!(null===(e=n.submenuIds)||void 0===e?void 0:e.has(t.id))})),this.push(e,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((t=>!(t instanceof L))).forEach(((t,e,n)=>{t.updatePositionInSet(e+1,n.length)}))}initializeOrUpdateStyleSheet(t,e){this.styleSheet||((0,s.OO)(t)?this.styleSheet=(0,s.dS)(t):(C.globalStyleSheet||(C.globalStyleSheet=(0,s.dS)()),this.styleSheet=C.globalStyleSheet)),this.styleSheet.textContent=function(t,e){let n=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,m.a)(p.lA.menuSelection)}\n${(0,m.a)(p.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(e){n+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const e=t.scrollbarShadow;e&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${e} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${e} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${e} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const i=t.scrollbarSliderBackground;i&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${i};\n\t\t\t\t}\n\t\t\t`);const o=t.scrollbarSliderHoverBackground;o&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${o};\n\t\t\t\t}\n\t\t\t`);const s=t.scrollbarSliderActiveBackground;s&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${s};\n\t\t\t\t}\n\t\t\t`)}return n}(e,(0,s.OO)(t))}style(t){const e=this.getContainer();this.initializeOrUpdateStyleSheet(e,t);const n=t.foregroundColor?`${t.foregroundColor}`:"",i=t.backgroundColor?`${t.backgroundColor}`:"",o=t.borderColor?`1px solid ${t.borderColor}`:"",s=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=o,e.style.borderRadius="5px",e.style.color=n,e.style.backgroundColor=i,e.style.boxShadow=s,this.viewItems&&this.viewItems.forEach((e=>{(e instanceof k||e instanceof L)&&e.style(t)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let e=0;e<this.actionsList.children.length;e++){if(t===this.actionsList.children[e]){this.focusedItem=e;break}}}updateFocus(t){super.updateFocus(t,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,e,n){if(t instanceof d.Z0)return new L(e.context,t,{icon:!0});if(t instanceof d.wY){const i=new E(t,t.actions,n,Object.assign(Object.assign({},e),{submenuIds:new Set([...e.submenuIds||[],t.id])}));if(e.enableMnemonics){const t=i.getMnemonic();if(t&&i.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(i),this.mnemonics.set(t,e)}}return i}{const n={enableMnemonics:e.enableMnemonics,useEventAsContext:e.useEventAsContext};if(e.getKeyBinding){const i=e.getKeyBinding(t);if(i){const t=i.getLabel();t&&(n.keybinding=t)}}const i=new k(e.context,t,n);if(e.enableMnemonics){const t=i.getMnemonic();if(t&&i.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(i),this.mnemonics.set(t,e)}}return i}}}class k extends r.Y{constructor(t,e,n={}){if(n.isMenu=!0,super(e,e,n),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass="",this.options.label&&n.enableMnemonics){const t=this.getAction().label;if(t){const e=v.exec(t);e&&(this.mnemonic=(e[1]?e[1]:e[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new b.pY((()=>{this.element&&(this._register((0,s.nm)(this.element,s.tw.MOUSE_UP,(t=>{if(s.zB.stop(t,!0),i.isFirefox){if(new c.n(t).rightButton)return;this.onClick(t)}else setTimeout((()=>{this.onClick(t)}),0)}))),this._register((0,s.nm)(this.element,s.tw.CONTEXT_MENU,(t=>{s.zB.stop(t,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,s.R3)(this.element,(0,s.$)("a.action-menu-item")),this._action.id===d.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,s.R3)(this.item,(0,s.$)("span.menu-item-check"+p.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,s.R3)(this.item,(0,s.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,s.R3)(this.item,(0,s.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,e){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${e}`))}updateLabel(){var t;if(this.label&&this.options.label){(0,s.PO)(this.label);let e=(0,g.x$)(this.getAction().label);if(e){const n=function(t){const e=v,n=e.exec(t);if(!n)return t;const i=!n[1];return t.replace(e,i?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=n),this.label.setAttribute("aria-label",n.replace(/&&/g,"&"));const i=v.exec(e);if(i){e=y.YU(e),w.lastIndex=0;let n=w.exec(e);for(;n&&n[1];)n=w.exec(e);const o=t=>t.replace(/&amp;&amp;/g,"&amp;");n?this.label.append(y.j3(o(e.substr(0,n.index))," "),(0,s.$)("u",{"aria-hidden":"true"},n[3]),y.oL(o(e.substr(n.index+n[0].length))," ")):this.label.innerText=o(e).trim(),null===(t=this.item)||void 0===t||t.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),void 0!==t?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),e=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,i=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=e?e.toString():"",this.item.style.backgroundColor=n?n.toString():"",this.item.style.outline=i,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=e?e.toString():"")}style(t){this.menuStyle=t,this.applyStyle()}}class E extends k{constructor(t,e,n,i){super(t,t,i),this.submenuActions=e,this.parentData=n,this.submenuOptions=i,this.mysubmenu=null,this.submenuDisposables=this._register(new f.SL),this.mouseOver=!1,this.expandDirection=i&&void 0!==i.expandDirection?i.expandDirection:S.Right,this.showScheduler=new b.pY((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new b.pY((()=>{this.element&&!(0,s.jg)((0,s.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,s.R3)(this.item,(0,s.$)("span.submenu-indicator"+p.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,s.nm)(this.element,s.tw.KEY_UP,(t=>{const e=new a.y(t);(e.equals(17)||e.equals(3))&&(s.zB.stop(t,!0),this.createSubmenu(!0))}))),this._register((0,s.nm)(this.element,s.tw.KEY_DOWN,(t=>{const e=new a.y(t);(0,s.vY)()===this.item&&(e.equals(17)||e.equals(3))&&s.zB.stop(t,!0)}))),this._register((0,s.nm)(this.element,s.tw.MOUSE_OVER,(t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register((0,s.nm)(this.element,s.tw.MOUSE_LEAVE,(t=>{this.mouseOver=!1}))),this._register((0,s.nm)(this.element,s.tw.FOCUS_OUT,(t=>{this.element&&!(0,s.jg)((0,s.vY)(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}))))}updateEnabled(){}onClick(t){s.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,e,n,i){const o={top:0,left:0};return o.left=(0,u.bK)(t.width,e.width,{position:i===S.Right?0:1,offset:n.left,size:n.width}),o.left>=n.left&&o.left<n.left+n.width&&(n.left+10+e.width<=t.width&&(o.left=n.left+10),n.top+=10,n.height=0),o.top=(0,u.bK)(t.height,e.height,{position:0,offset:n.top,size:0}),o.top+e.height===n.top&&o.top+n.height+e.height<=t.height&&(o.top+=n.height),o}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,s.R3)(this.element,(0,s.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const e=getComputedStyle(this.parentData.parent.domNode),n=parseFloat(e.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new C(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new d.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const i=this.element.getBoundingClientRect(),o={top:i.top-n,left:i.left,height:i.height+2*n,width:i.width},c=this.submenuContainer.getBoundingClientRect(),{top:l,left:r}=this.calculateSubmenuMenuLayout(new s.Ro(window.innerWidth,window.innerHeight),s.Ro.lift(c),o,this.expandDirection);this.submenuContainer.style.left=r-c.left+"px",this.submenuContainer.style.top=l-c.top+"px",this.submenuDisposables.add((0,s.nm)(this.submenuContainer,s.tw.KEY_UP,(t=>{new a.y(t).equals(15)&&(s.zB.stop(t,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add((0,s.nm)(this.submenuContainer,s.tw.KEY_DOWN,(t=>{new a.y(t).equals(15)&&s.zB.stop(t,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var e;this.item&&(null===(e=this.item)||void 0===e||e.setAttribute("aria-expanded",t))}applyStyle(){var t;if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),null===(t=this.parentData.submenu)||void 0===t||t.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class L extends r.g{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}}}]);