"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[830],{841:function(t,e,n){n.d(e,{s:function(){return l}});n(77950),n(48319),n(85940);var i,a,o=n(83522),r=n(27875);(i=self.document)&&!i.getElementById("livereloadscript")&&((a=i.createElement("script")).async=1,a.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",a.id="livereloadscript",i.getElementsByTagName("head")[0].appendChild(a));var l={name:"ViewComponentBase",components:{},inject:["onChange","onGetValue","onEvent"],props:{id:{type:String,default:function(){return""}},type:{type:String,default:function(){return""}},extras:{type:Object,default:function(){return{}}},showTitle:{type:String,default:function(){return"请输入"}},title:{type:String,default:function(){return""}},dataPath:{type:String,default:function(){return""}},componentMap:{type:Object,default:function(){return{}}},viewData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){var t="";return this.viewData&&this.dataPath&&(t=(0,o.g)(this.viewData,this.dataPath)),t},set:function(t){this.$emit("change",t,this.id)}},validProp:function(){return this.fieldPath.replace(/\//g,".")}},watch:{},methods:{}};l.render=function(t,e,n,i,a,o){return(0,r.wg)(),(0,r.iD)("div")},l.__file="src/components/view/base.vue"},9830:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});n(77950),n(48319),n(18178),n(21850),n(85940),n(32501),n(68995),n(16781),n(49228),n(58188);var i,a,o=n(841),r=n(83522),l=n(27875),c=n(50349);(i=self.document)&&!i.getElementById("livereloadscript")&&((a=i.createElement("script")).async=1,a.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",a.id="livereloadscript",i.getElementsByTagName("head")[0].appendChild(a));var u={name:"Tag",props:{color:{type:String,default:function(){return"#000000"}},hit:{type:Boolean,default:function(){return!1}}},computed:{style:function(){return"color:".concat(this.color,";background-color:").concat(this.hex2Rgba(this.color,.1),";")}},methods:{hex2Rgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/;if(n.test(t)){var i=t.toLowerCase().replace(/\#/g,""),a=i.length;if(3==a){for(var o="",r=0;r<a;r++)o+=i.slice(r,r+1).concat(i.slice(r,r+1));i=o}var l=[];for(r=0;r<6;r+=2){var c=i.slice(r,r+2);l.push(parseInt("0x"+c))}return"rgba(".concat(l.join(","),",").concat(e,")")}}}};u.render=function(t,e,n,i,a,o){return(0,l.wg)(),(0,l.iD)("span",{class:"atp-tag",style:(0,c.normalizeStyle)(o.style)},[(0,l.WI)(t.$slots,"default")],4)},u.__file="src/components/view/listView/tag.vue";var s=n(28879),p={name:"ColumnContent",components:{Tag:u},props:{row:{type:Object,default:function(){return null}},column:{type:Object,default:function(){return null}}},computed:{config:function(){var t=this.row[this.column.fieldPath]||"",e={content:"",isTag:!1,color:""};if("text"===this.column.fieldType)e.content=t;else if("datetime"===this.column.fieldType)e.content=s(t).format(this.column.format||"YYYY-MM-DD HH:mm:ss");else if("option"===this.column.fieldType){var n=(this.column.options||[]).find((function(e){return e.value===t}));n&&(e.content=n.label,n.color&&(e.isTag=!0,e.color=n.color))}return e}}},f={class:"atp-listview__column"},g={key:0};p.render=function(t,e,n,i,a,o){var r=(0,l.up)("tag");return(0,l.wg)(),(0,l.iD)("div",f,[o.config.isTag?((0,l.wg)(),(0,l.j4)(r,{key:1,color:o.config.color},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.toDisplayString)(o.config.content),1)]})),_:1},8,["color"])):((0,l.wg)(),(0,l.iD)("span",g,(0,c.toDisplayString)(o.config.content),1))])},p.__file="src/components/view/listView/columnContent.vue";var d={name:"ListView",extends:o.s,components:{ColumnContent:p},data:function(){return{}},computed:{tableStyle:function(){var t={border:!1,stripe:!1};switch(this.extras.tableStyle){case"borderNoStripe":t.border=!0,t.stripe=!1;break;case"borderStripe":t.border=!0,t.stripe=!0;break;case"noBorderNoStripe":t.border=!1,t.stripe=!1;break;case"noBorderStripe":t.border=!1,t.stripe=!0}return t},pagination:function(){return this.viewData.pagination?this.viewData.pagination:{total:0,pageSize:10,currentPage:1}}},methods:{getComponentDisplay:function(t,e){var n=!0;if(e&&Array.isArray(e.showConfig)&&e.showConfig.length){n=!1;for(var i=0;i<e.showConfig.length;i+=1)if(!n)for(var a=0;a<e.showConfig[i].length;a+=1){var o=e.showConfig[i][a],l=o.field,c=o.value,u=o.logic,s=t[l]||"";switch(u){case"0":n=!(0,r.k)(s,c);break;case"1":n=!!(0,r.k)(s,c)}}}return n},handleBtnClick:function(t){var e={};if(this.extras.checkBox){var n=this.$refs.listViewTable;e.selections=n.getSelectionRows()||[]}this.onEvent(t,e)},handleColBtnClick:function(t,e){this.onEvent(t,e)},handlePaginationCurrentChange:function(t){this.onEvent("currentChange",t)},handlePaginationSizeChange:function(t){this.onEvent("sizeChange",t)}}},h={class:"atp-listview"},v={class:"atp-listview__action"},w={key:0,class:"atp-listview__title"};d.render=function(t,e,n,i,a,o){var r=(0,l.up)("el-button"),u=(0,l.up)("el-table-column"),s=(0,l.up)("column-content"),p=(0,l.up)("el-table"),f=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",v,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.extras.operations,(function(t){return(0,l.wg)(),(0,l.j4)(r,{key:t.buttonEvent,type:t.buttonType,onClick:function(e){return o.handleBtnClick(t.buttonEvent)}},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.toDisplayString)(t.buttonName),1)]})),_:2},1032,["type","onClick"])})),128))]),t.showTitle?((0,l.wg)(),(0,l.iD)("div",w,(0,c.toDisplayString)(t.title),1)):(0,l.kq)("v-if",!0),(0,l.Wm)(p,{data:t.viewData[t.dataPath],style:{width:"100%"},border:o.tableStyle.border,stripe:o.tableStyle.stripe,ref:"listViewTable"},{default:(0,l.w5)((function(){return[(0,l.kq)(" 选择列 "),t.extras.checkBox?((0,l.wg)(),(0,l.j4)(u,{key:0,type:"selection",fixed:"left",width:40,align:"center"})):(0,l.kq)("v-if",!0),(0,l.kq)(" 序号列 "),t.extras.showNum?((0,l.wg)(),(0,l.j4)(u,{key:1,label:"序号",fixed:"left",width:60,align:"center"},{default:(0,l.w5)((function(t){var e=t.$index;return[(0,l.Uk)((0,c.toDisplayString)(e+1),1)]})),_:1})):(0,l.kq)("v-if",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.extras.columns,(function(t,e){return(0,l.wg)(),(0,l.iD)(l.HY,null,["field"===t.type?((0,l.wg)(),(0,l.j4)(u,{key:"field-".concat(e),label:t.label,width:t.width||"",align:t.align||"left"},{default:(0,l.w5)((function(e){var n=e.row;e.$index;return[(0,l.Wm)(s,{row:n,column:t},null,8,["row","column"])]})),_:2},1032,["label","width","align"])):((0,l.wg)(),(0,l.j4)(u,{fixed:"right",key:"button-".concat(e),label:t.label,width:t.width||"",align:t.align||"left"},{default:(0,l.w5)((function(e){var n=e.row;e.$index;return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.actionConfig,(function(t){return(0,l.wg)(),(0,l.iD)(l.HY,null,[o.getComponentDisplay(n,t)?((0,l.wg)(),(0,l.j4)(r,{key:t.buttonEvent,type:t.buttonType,link:"",onClick:function(e){return o.handleColBtnClick(t.buttonEvent,n)}},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,c.toDisplayString)(t.buttonName),1)]})),_:2},1032,["type","onClick"])):(0,l.kq)("v-if",!0)],64)})),256))]})),_:2},1032,["label","width","align"]))],64)})),256))]})),_:1},8,["data","border","stripe"]),t.extras.showPagination?((0,l.wg)(),(0,l.j4)(f,{key:1,small:"",background:"",class:"atp-listview__pagination","page-sizes":t.extras.pageSize,layout:"sizes, prev, pager, next",total:o.pagination.total,currentPage:o.pagination.currentPage,"onUpdate:currentPage":e[0]||(e[0]=function(t){return o.pagination.currentPage=t}),pageSize:o.pagination.pageSize,"onUpdate:pageSize":e[1]||(e[1]=function(t){return o.pagination.pageSize=t}),onSizeChange:o.handlePaginationSizeChange,onCurrentChange:o.handlePaginationCurrentChange},null,8,["page-sizes","total","currentPage","pageSize","onSizeChange","onCurrentChange"])):(0,l.kq)("v-if",!0)])},d.__file="src/components/view/listView/index.vue"},16781:function(t,e,n){var i=n(23103),a=n(65968),o=n(9337),r=n(10905),l=n(96038),c=a([].join),u=o!=Object,s=l("join",",");i({target:"Array",proto:!0,forced:u||!s},{join:function(t){return c(r(this),void 0===t?",":t)}})}}]);