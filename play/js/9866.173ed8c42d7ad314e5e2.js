"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[9866],{83915:function(t,e,i){i.d(e,{Bb:function(){return A},MN:function(){return y},RB:function(){return v},TM:function(){return w},aI:function(){return x},bA:function(){return k},sh:function(){return b},uH:function(){return _}});var n=i(16308),o=i(97464),r=i(20996),s=i(38431),c=i(28919),d=i(16614),a=i(50038),u=i(57841),l=i(65041),h=i(80793),f=i(79969),p=i(35398),g=i(35921),m=function(t,e,i,n){return new(i||(i=Promise))((function(o,r){function s(t){try{d(n.next(t))}catch(t){r(t)}}function c(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,c)}d((n=n.apply(t,e||[])).next())}))};const v="editor.action.codeAction",A="editor.action.refactor",b="editor.action.refactor.preview",y="editor.action.sourceAction",_="editor.action.organizeImports",w="editor.action.fixAll";class k{constructor(t,e){this.action=t,this.provider=e}resolve(t){var e;return m(this,void 0,void 0,(function*(){if((null===(e=this.provider)||void 0===e?void 0:e.resolveCodeAction)&&!this.action.edit){let e;try{e=yield this.provider.resolveCodeAction(this.action,t)}catch(t){(0,r.Cp)(t)}e&&(this.action.edit=e.edit)}return this}))}}class C extends s.JT{constructor(t,e,i){super(),this.documentation=e,this._register(i),this.allActions=[...t].sort(C.codeActionsComparator),this.validActions=this.allActions.filter((({action:t})=>!t.disabled))}static codeActionsComparator({action:t},{action:e}){return t.isPreferred&&!e.isPreferred?-1:!t.isPreferred&&e.isPreferred?1:(0,n.Of)(t.diagnostics)?(0,n.Of)(e.diagnostics)?t.diagnostics[0].message.localeCompare(e.diagnostics[0].message):-1:(0,n.Of)(e.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((({action:t})=>!!t.kind&&p.yN.QuickFix.contains(new p.yN(t.kind))&&!!t.isPreferred))}}const N={actions:[],documentation:void 0};function x(t,e,i,o,c,a){var u;const l=o.filter||{},h={only:null===(u=l.include)||void 0===u?void 0:u.value,trigger:o.type},f=new d.YQ(e,a),g=function(t,e,i){return t.all(e).filter((t=>!t.providedCodeActionKinds||t.providedCodeActionKinds.some((t=>(0,p.EU)(i,new p.yN(t))))))}(t,e,l),v=new s.SL,A=g.map((t=>m(this,void 0,void 0,(function*(){try{c.report(t);const n=yield t.provideCodeActions(e,i,h,f.token);if(n&&v.add(n),f.token.isCancellationRequested)return N;const o=((null==n?void 0:n.actions)||[]).filter((t=>t&&(0,p.Yl)(l,t))),r=function(t,e,i){if(!t.documentation)return;const n=t.documentation.map((t=>({kind:new p.yN(t.kind),command:t.command})));if(i){let t;for(const e of n)e.kind.contains(i)&&(t?t.kind.contains(e.kind)&&(t=e):t=e);if(t)return null==t?void 0:t.command}for(const t of e)if(t.kind)for(const e of n)if(e.kind.contains(new p.yN(t.kind)))return e.command;return}(t,o,l.include);return{actions:o.map((e=>new k(e,t))),documentation:r}}catch(t){if((0,r.n2)(t))throw t;return(0,r.Cp)(t),N}})))),b=t.onDidChange((()=>{const i=t.all(e);(0,n.fS)(i,g)||f.cancel()}));return Promise.all(A).then((t=>{const e=t.map((t=>t.actions)).flat(),i=(0,n.kX)(t.map((t=>t.documentation)));return new C(e,i,v)})).finally((()=>{b.dispose(),f.dispose()}))}h.P0.registerCommand("_executeCodeActionProvider",(function(t,e,i,n,s){return m(this,void 0,void 0,(function*(){if(!(e instanceof c.o))throw(0,r.b1)();const{codeActionProvider:d}=t.get(g.p),h=t.get(l.q).getModel(e);if(!h)throw(0,r.b1)();const m=u.Y.isISelection(i)?u.Y.liftSelection(i):a.e.isIRange(i)?h.validateRange(i):void 0;if(!m)throw(0,r.b1)();const v="string"==typeof n?new p.yN(n):void 0,A=yield x(d,h,m,{type:1,triggerAction:p.aQ.Default,filter:{includeSourceActions:!0,include:v}},f.Ex.None,o.T.None),b=[],y=Math.min(A.validActions.length,"number"==typeof s?s:0);for(let t=0;t<y;t++)b.push(A.validActions[t].resolve(o.T.None));try{return yield Promise.all(b),A.validActions.map((t=>t.action))}finally{setTimeout((()=>A.dispose()),100)}}))}))},82605:function(t,e,i){i.d(e,{f:function(){return m}});var n,o=i(34441),r=i(80265),s=i(407),c=i(56709),d=i(38431),a=i(6287),u=i(26386),l=i(55495),h=i(92537),f=i(58566),p=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},g=function(t,e){return function(i,n){e(i,n,t)}};!function(t){t.Hidden={type:0};t.Showing=class{constructor(t,e,i,n){this.actions=t,this.trigger=e,this.editorPosition=i,this.widgetPosition=n,this.type=1}}}(n||(n={}));let m=class t extends d.JT{constructor(t,e,i,d){super(),this._editor=t,this._quickFixActionId=e,this._preferredFixActionId=i,this._keybindingService=d,this._onClick=this._register(new c.Q5),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=s.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((t=>{const e=this._editor.getModel();(1!==this.state.type||!e||this.state.editorPosition.lineNumber>=e.getLineCount())&&this.hide()}))),r.o.ignoreTarget(this._domNode),this._register(o.GQ(this._domNode,(t=>{if(1!==this.state.type)return;this._editor.focus(),t.preventDefault();const{top:e,height:i}=o.i(this._domNode),n=this._editor.getOption(61);let r=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(r+=n),this._onClick.fire({x:t.posx,y:e+i+r,actions:this.state.actions,trigger:this.state.trigger})}))),this._register(o.nm(this._domNode,"mouseenter",(t=>{1==(1&t.buttons)&&this.hide()}))),this._register(this._editor.onDidChangeConfiguration((t=>{t.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(e,i,o){if(e.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(59).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:c,column:d}=s.validatePosition(o),u=s.getOptions().tabSize,l=r.get(46),h=s.getLineContent(c),f=(0,a.q)(h,u),p=t=>t>2&&this._editor.getTopForLineNumber(t)===this._editor.getTopForLineNumber(t-1);let g=c;if(!(l.spaceWidth*f>22))if(c>1&&!p(c-1))g-=1;else if(p(c+1)){if(d*l.spaceWidth<22)return this.hide()}else g+=1;this.state=new n.Showing(e,i,o,{position:{lineNumber:g,column:1},preference:t._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=n.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(t){this._state=t,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...s.lA.lightBulb.classNamesArray),this._domNode.classList.add(...s.lA.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t)return void(this.title=u.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel()))}this._domNode.classList.remove(...s.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...s.lA.lightBulb.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=t?u.NC("codeActionWithKb","Show Code Actions ({0})",t.getLabel()):u.NC("codeAction","Show Code Actions")}set title(t){this._domNode.title=t}};m._posPref=[0],m=p([g(3,l.d)],m),(0,f.Ic)(((t,e)=>{var i;const n=null===(i=t.getColor(h.cvW))||void 0===i?void 0:i.transparent(.7),o=t.getColor(h.Fu1);o&&e.addRule(`\n\t\t.monaco-editor .contentWidgets ${s.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const r=t.getColor(h.sKV);r&&e.addRule(`\n\t\t.monaco-editor .contentWidgets ${s.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${r};\n\t\t\tbackground-color: ${n};\n\t\t}`)}))},35398:function(t,e,i){i.d(e,{EU:function(){return r},Yl:function(){return s},aQ:function(){return o},wZ:function(){return d},yN:function(){return n}});class n{constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||""===this.value||t.value.startsWith(this.value+n.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(t){return new n(this.value+n.sep+t)}}var o;function r(t,e){return!(t.include&&!t.include.intersects(e))&&((!t.excludes||!t.excludes.some((i=>c(e,i,t.include))))&&!(!t.includeSourceActions&&n.Source.contains(e)))}function s(t,e){const i=e.kind?new n(e.kind):void 0;return!!(!t.include||i&&t.include.contains(i))&&(!(t.excludes&&i&&t.excludes.some((e=>c(i,e,t.include))))&&(!(!t.includeSourceActions&&i&&n.Source.contains(i))&&!(t.onlyIncludePreferredActions&&!e.isPreferred)))}function c(t,e,i){return!!e.contains(t)&&(!i||!e.contains(i))}n.sep=".",n.None=new n("@@none@@"),n.Empty=new n(""),n.QuickFix=new n("quickfix"),n.Refactor=new n("refactor"),n.Source=new n("source"),n.SourceOrganizeImports=n.Source.append("organizeImports"),n.SourceFixAll=n.Source.append("fixAll"),function(t){t.Refactor="refactor",t.RefactorPreview="refactor preview",t.Lightbulb="lightbulb",t.Default="other (default)",t.SourceAction="source action",t.QuickFix="quick fix action",t.FixAll="fix all",t.OrganizeImports="organize imports",t.AutoFix="auto fix",t.QuickFixHover="quick fix hover window",t.OnSave="save participants",t.ProblemsView="problems view"}(o||(o={}));class d{constructor(t,e,i){this.kind=t,this.apply=e,this.preferred=i}static fromUser(t,e){return t&&"object"==typeof t?new d(d.getKindFromUser(t,e.kind),d.getApplyFromUser(t,e.apply),d.getPreferredUser(t)):new d(e.kind,e.apply,!1)}static getApplyFromUser(t,e){switch("string"==typeof t.apply?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return e}}static getKindFromUser(t,e){return"string"==typeof t.kind?new n(t.kind):e}static getPreferredUser(t){return"boolean"==typeof t.preferred&&t.preferred}}}}]);