"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[4649],{79969:function(e,t,i){i.d(t,{Ex:function(){return s},R9:function(){return o},ek:function(){return c}});var n=i(44333);const o=(0,n.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class s{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}s.None=Object.freeze({report(){}});const c=(0,n.yh)("editorProgressService")},97944:function(e,t,i){i.d(t,{Z:function(){return _}});var n,o=i(94526),s=i(20996),c=i(4538),r=i(38431),a=i(39832),l=i(87068),d=i(14818),u=i(26386),h=i(80793),f=i(71177),m=i(5267),p=i(44333),v=i(55495),g=i(13484),y=i(97464),b=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function c(e){try{a(n.next(e))}catch(e){s(e)}}function r(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(c,r)}a((n=n.apply(e,t||[])).next())}))};function k(e){const t=e;return Array.isArray(t.items)}!function(e){e[e.NO_ACTION=0]="NO_ACTION",e[e.CLOSE_PICKER=1]="CLOSE_PICKER",e[e.REFRESH_PICKER=2]="REFRESH_PICKER",e[e.REMOVE_ITEM=3]="REMOVE_ITEM"}(n||(n={}));class E extends r.JT{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const o=new r.SL;let s;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const c=o.add(new r.XK),a=()=>b(this,void 0,void 0,(function*(){const i=c.value=new r.SL;null==s||s.dispose(!0),e.busy=!1,s=new y.A(t);const n=s.token,o=e.value.substr(this.prefix.length).trim(),a=this._getPicks(o,i,n),l=(t,i)=>{var n;let s,c;if(k(t)?(s=t.items,c=t.active):s=t,0===s.length){if(i)return!1;o.length>0&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(s=[this.options.noResultsPick])}return e.items=s,c&&(e.activeItems=[c]),!0};if(null===a);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(a)){let t=!1,i=!1;yield Promise.all([(()=>b(this,void 0,void 0,(function*(){yield(0,g.Vs)(E.FAST_PICKS_RACE_DELAY),n.isCancellationRequested||i||(t=l(a.picks,!0))})))(),(()=>b(this,void 0,void 0,(function*(){e.busy=!0;try{const o=yield a.additionalPicks;if(n.isCancellationRequested)return;let s,c,r,d;if(k(a.picks)?(s=a.picks.items,c=a.picks.active):s=a.picks,k(o)?(r=o.items,d=o.active):r=o,r.length>0||!t){let t;if(!c&&!d){const i=e.activeItems[0];i&&-1!==s.indexOf(i)&&(t=i)}l({items:[...s,...r],active:c||d||t})}}finally{n.isCancellationRequested||(e.busy=!1),i=!0}})))()])}else if(a instanceof Promise){e.busy=!0;try{const t=yield a;if(n.isCancellationRequested)return;l(t)}finally{n.isCancellationRequested||(e.busy=!1)}}else l(a)}));return o.add(e.onDidChangeValue((()=>a()))),a(),o.add(e.onDidAccept((t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))}))),o.add(e.onDidTriggerItemButton((({button:i,item:o})=>b(this,void 0,void 0,(function*(){var s,c;if("function"==typeof o.trigger){const r=null!==(c=null===(s=o.buttons)||void 0===s?void 0:s.indexOf(i))&&void 0!==c?c:-1;if(r>=0){const i=o.trigger(r,e.keyMods),s="number"==typeof i?i:yield i;if(t.isCancellationRequested)return;switch(s){case n.NO_ACTION:break;case n.CLOSE_PICKER:e.hide();break;case n.REFRESH_PICKER:a();break;case n.REMOVE_ITEM:{const t=e.items.indexOf(o);if(-1!==t){const i=e.items.slice(),n=i.splice(t,1),o=e.activeItems.filter((e=>e!==n[0])),s=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=i,o&&(e.activeItems=o),e.keepScrollPosition=s}break}}}}}))))),o}}E.FAST_PICKS_RACE_DELAY=200;var C=i(75295),R=i(68554),I=function(e,t,i,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(c=(s<3?o(c):s>3?o(t,i,c):o(t,i))||c);return s>3&&c&&Object.defineProperty(t,i,c),c},S=function(e,t){return function(i,n){t(i,n,e)}},P=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function c(e){try{a(n.next(e))}catch(e){s(e)}}function r(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(c,r)}a((n=n.apply(e,t||[])).next())}))};let _=class e extends E{constructor(t,i,n,o,s,c){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.dialogService=c,this.commandsHistory=this._register(this.instantiationService.createInstance(O)),this.options=t}_getPicks(t,i,n){return P(this,void 0,void 0,(function*(){const c=yield this.getCommandPicks(i,n);if(n.isCancellationRequested)return[];const r=[];for(const i of c){const n=(0,d.f6)(e.WORD_FILTER(t,i.label)),o=i.commandAlias?(0,d.f6)(e.WORD_FILTER(t,i.commandAlias)):void 0;n||o?(i.highlights={label:n,detail:this.options.showAlias?o:void 0},r.push(i)):t===i.commandId&&r.push(i)}const a=new Map;for(const e of r){const t=a.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):a.set(e.label,e)}r.sort(((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?i>n?-1:1:i?-1:n?1:e.label.localeCompare(t.label)}));const h=[];let f=!1;for(let e=0;e<r.length;e++){const t=r[e],i=this.keybindingService.lookupKeybinding(t.commandId),n=i?(0,u.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(h.push({type:"separator",label:(0,u.NC)("recentlyUsed","recently used")}),f=!0),0!==e&&f&&!this.commandsHistory.peek(t.commandId)&&(h.push({type:"separator",label:(0,u.NC)("morecCommands","other commands")}),f=!1),h.push(Object.assign(Object.assign({},t),{ariaLabel:n,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>P(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){(0,s.n2)(e)||this.dialogService.show(l.Z.Error,(0,u.NC)("canNotRun","Command '{0}' resulted in an error ({1})",t.label,(0,o.y)(e)))}}))}))}return h}))}};_.PREFIX=">",_.WORD_FILTER=(0,c.or)(c.Ji,c.KZ,c.ir),_=I([S(1,p.TG),S(2,v.d),S(3,h.Hy),S(4,R.b),S(5,m.S)],_);let O=class e extends r.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(e){}const n=e.cache=new a.z6(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>n.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>i.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=null===(n=null===(i=t.getValue().workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};O.DEFAULT_COMMANDS_HISTORY_LENGTH=50,O.PREF_KEY_CACHE="commandPalette.mru.cache",O.PREF_KEY_COUNTER="commandPalette.mru.counter",O.counter=1,O=I([S(0,C.Uy),S(1,f.Ui)],O)},35115:function(e,t,i){i.d(t,{p:function(){return u}});var n=i(26386),o=i(6325),s=i(38431),c=i(55495),r=i(26152),a=i(38785),l=function(e,t,i,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(c=(s<3?o(c):s>3?o(t,i,c):o(t,i))||c);return s>3&&c&&Object.defineProperty(t,i,c),c},d=function(e,t){return function(i,n){t(i,n,e)}};let u=class e{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=o.B.as(r.IP.Quickaccess)}provide(t){const i=new s.SL;return i.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),i.add(t.onDidChangeValue((t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})}))),t.items=this.getQuickAccessProviders(),i}getQuickAccessProviders(){const t=[];for(const i of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(i.prefix!==e.PREFIX)for(const e of i.helpEntries){const o=e.prefix||i.prefix,s=o||"â€¦";t.push({prefix:o,label:s,keybinding:e.commandId?this.keybindingService.lookupKeybinding(e.commandId):void 0,ariaLabel:(0,n.NC)("helpPickAriaLabel","{0}, {1}",s,e.description),description:e.description})}return t}};u.PREFIX="?",u=l([d(0,a.eJ),d(1,c.d)],u)}}]);