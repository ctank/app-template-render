"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5567],{86432:function(t,e,n){n.d(e,{BH:function(){return m},Dm:function(){return p},Kd:function(){return o},Y0:function(){return l},n2:function(){return k}});var i=n(61669),s=n(24944),r=n(39623);class h{constructor(t){this._length=t}get length(){return this._length}}class o extends h{constructor(t,e,n,i,s){super(t),this.openingBracket=e,this.child=n,this.closingBracket=i,this.missingOpeningBracketIds=s}static create(t,e,n){let i=t.length;return e&&(i=(0,s.Ii)(i,e.length)),n&&(i=(0,s.Ii)(i,n.length)),new o(i,t,e,n,e?e.missingOpeningBracketIds:r.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(t){switch(t){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const t=new Array;return t.push(this.openingBracket),this.child&&t.push(this.child),this.closingBracket&&t.push(this.closingBracket),t}canBeReused(t){return null!==this.closingBracket&&!t.intersects(this.missingOpeningBracketIds)}deepClone(){return new o(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(t,e){return this.child?this.child.computeMinIndentation((0,s.Ii)(t,this.openingBracket.length),e):Number.MAX_SAFE_INTEGER}}class l extends h{constructor(t,e,n){super(t),this.listHeight=e,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}static create23(t,e,n,i=!1){let r=t.length,h=t.missingOpeningBracketIds;if(t.listHeight!==e.listHeight)throw new Error("Invalid list heights");if(r=(0,s.Ii)(r,e.length),h=h.merge(e.missingOpeningBracketIds),n){if(t.listHeight!==n.listHeight)throw new Error("Invalid list heights");r=(0,s.Ii)(r,n.length),h=h.merge(n.missingOpeningBracketIds)}return i?new u(r,t.listHeight+1,t,e,n,h):new a(r,t.listHeight+1,t,e,n,h)}static getEmpty(){return new c(s.xl,0,[],r.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const t=this.childrenLength;if(0===t)return;const e=this.getChild(t-1),n=4===e.kind?e.toMutable():e;return e!==n&&this.setChild(t-1,n),n}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const t=this.getChild(0),e=4===t.kind?t.toMutable():t;return t!==e&&this.setChild(0,e),e}canBeReused(t){if(t.intersects(this.missingOpeningBracketIds))return!1;let e,n=this;for(;4===n.kind&&(e=n.childrenLength)>0;)n=n.getChild(e-1);return n.canBeReused(t)}handleChildrenChanged(){this.throwIfImmutable();const t=this.childrenLength;let e=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(let i=1;i<t;i++){const t=this.getChild(i);e=(0,s.Ii)(e,t.length),n=n.merge(t.missingOpeningBracketIds)}this._length=e,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}computeMinIndentation(t,e){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let n=Number.MAX_SAFE_INTEGER,i=t;for(let t=0;t<this.childrenLength;t++){const r=this.getChild(t);r&&(n=Math.min(n,r.computeMinIndentation(i,e)),i=(0,s.Ii)(i,r.length))}return this.cachedMinIndentation=n,n}}class a extends l{constructor(t,e,n,i,s,r){super(t,e,r),this._item1=n,this._item2=i,this._item3=s}get childrenLength(){return null!==this._item3?3:2}getChild(t){switch(t){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(t,e){switch(t){case 0:return void(this._item1=e);case 1:return void(this._item2=e);case 2:return void(this._item3=e)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new a(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=t,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const t=this._item3;return this._item3=null,this.handleChildrenChanged(),t}prependChildOfSameHeight(t){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=t,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const t=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),t}toMutable(){return this}}class u extends a{toMutable(){return new a(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class d extends l{constructor(t,e,n,i){super(t,e,i),this._children=n}get childrenLength(){return this._children.length}getChild(t){return this._children[t]}setChild(t,e){this._children[t]=e}get children(){return this._children}deepClone(){const t=new Array(this._children.length);for(let e=0;e<this._children.length;e++)t[e]=this._children[e].deepClone();return new d(this.length,this.listHeight,t,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){this.throwIfImmutable(),this._children.push(t),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const t=this._children.pop();return this.handleChildrenChanged(),t}prependChildOfSameHeight(t){this.throwIfImmutable(),this._children.unshift(t),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const t=this._children.shift();return this.handleChildrenChanged(),t}toMutable(){return this}}class c extends d{toMutable(){return new d(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const g=[];class f extends h{get listHeight(){return 0}get childrenLength(){return 0}getChild(t){return null}get children(){return g}deepClone(){return this}}class m extends f{get kind(){return 0}get missingOpeningBracketIds(){return r.tS.getEmpty()}canBeReused(t){return!0}computeMinIndentation(t,e){const n=(0,s.Hw)(t),r=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,h=(0,s.W9)((0,s.Ii)(t,this.length))+1;let o=Number.MAX_SAFE_INTEGER;for(let t=r;t<=h;t++){const n=e.getLineFirstNonWhitespaceColumn(t),s=e.getLineContent(t);if(0===n)continue;const r=i.i.visibleColumnFromColumn(s,n,e.getOptions().tabSize);o=Math.min(o,r)}return o}}class k extends f{constructor(t,e,n){super(t),this.bracketInfo=e,this.bracketIds=n}static create(t,e,n){return new k(t,e,n)}get kind(){return 1}get missingOpeningBracketIds(){return r.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(t){return!1}computeMinIndentation(t,e){return Number.MAX_SAFE_INTEGER}}class p extends f{constructor(t,e){super(e),this.missingOpeningBracketIds=t}get kind(){return 3}canBeReused(t){return!t.intersects(this.missingOpeningBracketIds)}computeMinIndentation(t,e){return Number.MAX_SAFE_INTEGER}}},39410:function(t,e,n){n.d(e,{Q:function(){return s},Y:function(){return r}});var i=n(24944);class s{constructor(t,e,n){this.startOffset=t,this.endOffset=e,this.newLength=n}}class r{constructor(t,e){this.documentLength=e,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map((t=>h.from(t)))}getOffsetBeforeChange(t){return this.adjustNextEdit(t),this.translateCurToOld(t)}getDistanceToNextChange(t){this.adjustNextEdit(t);const e=this.edits[this.nextEditIdx],n=e?this.translateOldToCur(e.offsetObj):this.documentLength;return(0,i.BE)(t,n)}translateOldToCur(t){return t.lineCount===this.deltaLineIdxInOld?(0,i.Hg)(t.lineCount+this.deltaOldToNewLineCount,t.columnCount+this.deltaOldToNewColumnCount):(0,i.Hg)(t.lineCount+this.deltaOldToNewLineCount,t.columnCount)}translateCurToOld(t){const e=(0,i.Hw)(t);return e.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,i.Hg)(e.lineCount-this.deltaOldToNewLineCount,e.columnCount-this.deltaOldToNewColumnCount):(0,i.Hg)(e.lineCount-this.deltaOldToNewLineCount,e.columnCount)}adjustNextEdit(t){for(;this.nextEditIdx<this.edits.length;){const e=this.edits[this.nextEditIdx],n=this.translateOldToCur(e.endOffsetAfterObj);if(!(0,i.By)(n,t))break;{this.nextEditIdx++;const t=(0,i.Hw)(n),s=(0,i.Hw)(this.translateOldToCur(e.endOffsetBeforeObj)),r=t.lineCount-s.lineCount;this.deltaOldToNewLineCount+=r;const h=this.deltaLineIdxInOld===e.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,o=t.columnCount-s.columnCount;this.deltaOldToNewColumnCount=h+o,this.deltaLineIdxInOld=e.endOffsetBeforeObj.lineCount}}}}class h{constructor(t,e,n){this.endOffsetBeforeObj=(0,i.Hw)(e),this.endOffsetAfterObj=(0,i.Hw)((0,i.Ii)(t,n)),this.offsetObj=(0,i.Hw)(t)}static from(t){return new h(t.startOffset,t.endOffset,t.newLength)}}},6432:function(t,e,n){n.d(e,{W:function(){return g}});var i=n(56709),s=n(38431),r=n(50038),h=n(70638),o=n(39410),l=n(47978),a=n(24944),u=n(15987),d=n(39623),c=n(7264);class g extends s.JT{constructor(t,e){if(super(),this.textModel=t,this.getLanguageConfiguration=e,this.didChangeEmitter=new i.Q5,this.denseKeyProvider=new d.FE,this.brackets=new l.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===t.tokenization.backgroundTokenizationState){const t=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),e=new c.g(this.textModel.getValue(),t);this.initialAstWithoutTokens=(0,u.w)(e,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===t.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===t.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(t){return this.brackets.didLanguageChange(t)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const t=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:t}){const e=t.map((t=>new o.Q((0,a.Hg)(t.fromLineNumber-1,0),(0,a.Hg)(t.toLineNumber,0),(0,a.Hg)(t.toLineNumber-t.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(e,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(t){const e=t.changes.map((t=>{const e=r.e.lift(t.range);return new o.Q((0,a.PZ)(e.getStartPosition()),(0,a.PZ)(e.getEndPosition()),(0,a.oR)(t.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(e,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(e,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(t,e,n){const i=e,s=new c.xH(this.textModel,this.brackets);return(0,u.w)(s,t,i,n)}getBracketsInRange(t){const e=(0,a.Hg)(t.startLineNumber-1,t.startColumn-1),n=(0,a.Hg)(t.endLineNumber-1,t.endColumn-1),i=new Array,s=this.initialAstWithoutTokens||this.astWithTokens;return k(s,a.xl,s.length,e,n,i,0,new Map),i}getBracketPairsInRange(t,e){const n=new Array,i=(0,a.PZ)(t.getStartPosition()),s=(0,a.PZ)(t.getEndPosition()),r=this.initialAstWithoutTokens||this.astWithTokens,h=new p(n,e,this.textModel);return C(r,a.xl,r.length,i,s,h,0,new Map),n}getFirstBracketAfter(t){const e=this.initialAstWithoutTokens||this.astWithTokens;return m(e,a.xl,e.length,(0,a.PZ)(t))}getFirstBracketBefore(t){const e=this.initialAstWithoutTokens||this.astWithTokens;return f(e,a.xl,e.length,(0,a.PZ)(t))}}function f(t,e,n,i){if(4===t.kind||2===t.kind){const s=[];for(const i of t.children)n=(0,a.Ii)(e,i.length),s.push({nodeOffsetStart:e,nodeOffsetEnd:n}),e=n;for(let e=s.length-1;e>=0;e--){const{nodeOffsetStart:n,nodeOffsetEnd:r}=s[e];if((0,a.VR)(n,i)){const s=f(t.children[e],n,r,i);if(s)return s}}return null}if(3===t.kind)return null;if(1===t.kind){const i=(0,a.Qw)(e,n);return{bracketInfo:t.bracketInfo,range:i}}return null}function m(t,e,n,i){if(4===t.kind||2===t.kind){for(const s of t.children){if(n=(0,a.Ii)(e,s.length),(0,a.VR)(i,n)){const t=m(s,e,n,i);if(t)return t}e=n}return null}if(3===t.kind)return null;if(1===t.kind){const i=(0,a.Qw)(e,n);return{bracketInfo:t.bracketInfo,range:i}}return null}function k(t,e,n,i,s,r,o,l){if(!(o>200))if(4===t.kind)for(const h of t.children)n=(0,a.Ii)(e,h.length),(0,a.By)(e,s)&&(0,a.Zq)(n,i)&&k(h,e,n,i,s,r,o,l),e=n;else if(2===t.kind){let u=0;if(l){let e=l.get(t.openingBracket.text);void 0===e&&(e=0),u=e,e++,l.set(t.openingBracket.text,e)}{const l=t.openingBracket;if(n=(0,a.Ii)(e,l.length),(0,a.By)(e,s)&&(0,a.Zq)(n,i)){const i=(0,a.Qw)(e,n);r.push(new h.M$(i,o,u,!t.closingBracket))}e=n}if(t.child){const h=t.child;n=(0,a.Ii)(e,h.length),(0,a.By)(e,s)&&(0,a.Zq)(n,i)&&k(h,e,n,i,s,r,o+1,l),e=n}if(t.closingBracket){const l=t.closingBracket;if(n=(0,a.Ii)(e,l.length),(0,a.By)(e,s)&&(0,a.Zq)(n,i)){const t=(0,a.Qw)(e,n);r.push(new h.M$(t,o,u,!1))}e=n}null==l||l.set(t.openingBracket.text,u)}else if(3===t.kind){const t=(0,a.Qw)(e,n);r.push(new h.M$(t,o-1,0,!0))}else if(1===t.kind){const t=(0,a.Qw)(e,n);r.push(new h.M$(t,o-1,0,!1))}}class p{constructor(t,e,n){this.result=t,this.includeMinIndentation=e,this.textModel=n}}function C(t,e,n,i,s,r,o,l){var u;if(!(o>200))if(2===t.kind){let d=0;if(l){let e=l.get(t.openingBracket.text);void 0===e&&(e=0),d=e,e++,l.set(t.openingBracket.text,e)}const c=(0,a.Ii)(e,t.openingBracket.length);let g=-1;if(r.includeMinIndentation&&(g=t.computeMinIndentation(e,r.textModel)),r.result.push(new h.YA((0,a.Qw)(e,n),(0,a.Qw)(e,c),t.closingBracket?(0,a.Qw)((0,a.Ii)(c,(null===(u=t.child)||void 0===u?void 0:u.length)||a.xl),n):void 0,o,d,t,g)),e=c,t.child){const h=t.child;n=(0,a.Ii)(e,h.length),(0,a.By)(e,s)&&(0,a.Zq)(n,i)&&C(h,e,n,i,s,r,o+1,l)}null==l||l.set(t.openingBracket.text,d)}else{let n=e;for(const e of t.children){const t=n;n=(0,a.Ii)(n,e.length),(0,a.By)(t,s)&&(0,a.By)(i,n)&&C(e,t,n,i,s,r,o,l)}}}},47978:function(t,e,n){n.d(e,{Z:function(){return a}});var i=n(17416),s=n(86432),r=n(24944),h=n(39623),o=n(7264);class l{constructor(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(t,e){function n(t){return e.getKey(`${t.languageId}:::${t.bracketText}`)}const i=new Map;for(const e of t.bracketsNew.openingBrackets){const t=(0,r.Hg)(0,e.bracketText.length),l=n(e),a=h.tS.getEmpty().add(l,h.Qw);i.set(e.bracketText,new o.WU(t,1,l,a,s.n2.create(t,e,a)))}for(const e of t.bracketsNew.closingBrackets){const t=(0,r.Hg)(0,e.bracketText.length);let l=h.tS.getEmpty();const a=e.getClosedBrackets();for(const t of a)l=l.add(n(t),h.Qw);i.set(e.bracketText,new o.WU(t,2,n(a[0]),l,s.n2.create(t,e,l)))}return new l(i)}getRegExpStr(){if(this.isEmpty)return null;{const t=[...this.map.keys()];return t.sort(),t.reverse(),t.map((t=>function(t){let e=(0,i.ec)(t);/^[\w ]+/.test(t)&&(e=`\\b${e}`);/[\w ]+$/.test(t)&&(e=`${e}\\b`);return e}(t))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(t){return this.map.get(t.toLowerCase())}findClosingTokenText(t){for(const[e,n]of this.map)if(2===n.kind&&n.bracketIds.intersects(t))return e}get isEmpty(){return 0===this.map.size}}class a{constructor(t,e){this.denseKeyProvider=t,this.getLanguageConfiguration=e,this.languageIdToBracketTokens=new Map}didLanguageChange(t){return this.languageIdToBracketTokens.has(t)}getSingleLanguageBracketTokens(t){let e=this.languageIdToBracketTokens.get(t);return e||(e=l.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,e)),e}}},52124:function(t,e,n){n.d(e,{H:function(){return r},S:function(){return s}});var i=n(86432);function s(t){if(0===t.length)return null;if(1===t.length)return t[0];let e=0;function n(){if(e>=t.length)return null;const n=e,i=t[n].listHeight;for(e++;e<t.length&&t[e].listHeight===i;)e++;return e-n>=2?r(0===n&&e===t.length?t:t.slice(n,e),!1):t[n]}let i=n(),s=n();if(!s)return i;for(let t=n();t;t=n())h(i,s)<=h(s,t)?(i=o(i,s),s=t):s=o(s,t);return o(i,s)}function r(t,e=!1){if(0===t.length)return null;if(1===t.length)return t[0];let n=t.length;for(;n>3;){const s=n>>1;for(let r=0;r<s;r++){const s=r<<1;t[r]=i.Y0.create23(t[s],t[s+1],s+3===n?t[s+2]:null,e)}n=s}return i.Y0.create23(t[0],t[1],n>=3?t[2]:null,e)}function h(t,e){return Math.abs(t.listHeight-e.listHeight)}function o(t,e){return t.listHeight===e.listHeight?i.Y0.create23(t,e,null,!1):t.listHeight>e.listHeight?function(t,e){let n=t=t.toMutable();const s=new Array;let r;for(;;){if(e.listHeight===n.listHeight){r=e;break}if(4!==n.kind)throw new Error("unexpected");s.push(n),n=n.makeLastElementMutable()}for(let t=s.length-1;t>=0;t--){const e=s[t];r?e.childrenLength>=3?r=i.Y0.create23(e.unappendChild(),r,null,!1):(e.appendChildOfSameHeight(r),r=void 0):e.handleChildrenChanged()}return r?i.Y0.create23(t,r,null,!1):t}(t,e):function(t,e){let n=t=t.toMutable();const s=new Array;for(;e.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");s.push(n),n=n.makeFirstElementMutable()}let r=e;for(let t=s.length-1;t>=0;t--){const e=s[t];r?e.childrenLength>=3?r=i.Y0.create23(r,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(r),r=void 0):e.handleChildrenChanged()}return r?i.Y0.create23(r,t,null,!1):t}(e,t)}}}]);