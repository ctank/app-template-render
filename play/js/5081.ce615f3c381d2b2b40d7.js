"use strict";(self.webpackChunkapp_template_builder=self.webpackChunkapp_template_builder||[]).push([[5081],{89033:function(e,t,o){o.r(t),o.d(t,{CoreEditingCommands:function(){return M},CoreEditorCommand:function(){return h},CoreNavigationCommands:function(){return f},EditorScroll_:function(){return y},RevealLine_:function(){return x}});var r=o(26386),i=o(71488),n=o(14818),s=o(16644),c=o(55298),u=o(5603),a=o(98886),d=o(60854),l=o(38452),p=o(81953),m=o(70466),C=o(8964),S=o(50038),g=o(21081),v=o(70499),w=o(47679);class h extends c._l{runEditorCommand(e,t,o){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,o||{})}}var y,x,f;!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!n.Kn(e))return!1;const t=e;return!!n.HD(t.to)&&(!(!n.o8(t.by)&&!n.HD(t.by))&&(!(!n.o8(t.value)&&!n.hj(t.value))&&!(!n.o8(t.revealCursor)&&!n.jn(t.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},e.parse=function(t){let o,r;switch(t.to){case e.RawDirection.Up:o=1;break;case e.RawDirection.Down:o=2;break;default:return null}switch(t.by){case e.RawUnit.Line:r=1;break;case e.RawUnit.WrappedLine:r=2;break;case e.RawUnit.Page:r=3;break;case e.RawUnit.HalfPage:r=4;break;case e.RawUnit.Editor:r=5;break;default:r=2}return{direction:o,unit:r,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(y||(y={})),function(e){e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!n.Kn(e))return!1;const t=e;return!(!n.hj(t.lineNumber)&&!n.HD(t.lineNumber))&&!(!n.o8(t.at)&&!n.HD(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(x||(x={}));class b{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const o=e.get(u.$).getFocusedCodeEditor();return!(!o||!o.hasTextFocus())&&this._runEditorCommand(e,o,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const o=document.activeElement;return!!(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const o=e.get(u.$).getActiveCodeEditor();return!!o&&(o.focus(),this._runEditorCommand(e,o,t))}))}_runEditorCommand(e,t,o){const r=this.runEditorCommand(e,t,o);return r||!0}}!function(e){class t extends h{constructor(e){super(e),this._minimalReveal=e.minimalReveal,this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement();e.setCursorStates(t.source,3,[p.P.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&e.revealPrimaryCursor(t.source,!0,this._minimalReveal)}}e.MoveTo=(0,c.fK)(new t({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=(0,c.fK)(new t({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class o extends h{runCoreEditorCommand(e,t){e.model.pushStackElement();const o=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,o.viewStates.map((e=>d.Vi.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:o.fromLineNumber,fromViewVisualColumn:o.fromVisualColumn,toViewLineNumber:o.toLineNumber,toViewVisualColumn:o.toVisualColumn}),o.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=(0,c.fK)(new class extends o{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,o,r){const i=e.model.validatePosition(r.position),n=e.coordinatesConverter.validateViewPosition(new C.L(r.viewPosition.lineNumber,r.viewPosition.column),i),s=r.doColumnSelect?o.fromViewLineNumber:n.lineNumber,c=r.doColumnSelect?o.fromViewVisualColumn:r.mouseColumn-1;return a.U.columnSelect(e.cursorConfig,e,s,c,n.lineNumber,r.mouseColumn-1)}}),e.CursorColumnSelectLeft=(0,c.fK)(new class extends o{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,o,r){return a.U.columnSelectLeft(e.cursorConfig,e,o)}}),e.CursorColumnSelectRight=(0,c.fK)(new class extends o{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,o,r){return a.U.columnSelectRight(e.cursorConfig,e,o)}});class n extends o{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,o,r){return a.U.columnSelectUp(e.cursorConfig,e,o,this._isPaged)}}e.CursorColumnSelectUp=(0,c.fK)(new n({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=(0,c.fK)(new n({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3595,linux:{primary:0}}}));class u extends o{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,o,r){return a.U.columnSelectDown(e.cursorConfig,e,o,this._isPaged)}}e.CursorColumnSelectDown=(0,c.fK)(new u({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=(0,c.fK)(new u({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3596,linux:{primary:0}}}));class l extends h{constructor(){super({id:"cursorMove",precondition:void 0,description:p.N.description})}runCoreEditorCommand(e,t){const o=p.N.parse(t);o&&this._runCursorMove(e,t.source,o)}_runCursorMove(e,t,o){e.model.pushStackElement(),e.setCursorStates(t,3,l._move(e,e.getCursorStates(),o)),e.revealPrimaryCursor(t,!0)}static _move(e,t,o){const r=o.select,i=o.value;switch(o.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return p.P.simpleMove(e,t,o.direction,r,i,o.unit);case 11:case 13:case 12:case 14:return p.P.viewportMove(e,t,o.direction,r,i);default:return null}}}e.CursorMoveImpl=l,e.CursorMove=(0,c.fK)(new l);class m extends h{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let o=this._staticArgs;-1===this._staticArgs.value&&(o={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,p.P.simpleMove(e,e.getCursorStates(),o.direction,o.select,o.value,o.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=(0,c.fK)(new m({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=(0,c.fK)(new m({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1039}})),e.CursorRight=(0,c.fK)(new m({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=(0,c.fK)(new m({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1041}})),e.CursorUp=(0,c.fK)(new m({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=(0,c.fK)(new m({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=(0,c.fK)(new m({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:11}})),e.CursorPageUpSelect=(0,c.fK)(new m({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1035}})),e.CursorDown=(0,c.fK)(new m({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=(0,c.fK)(new m({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=(0,c.fK)(new m({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:12}})),e.CursorPageDownSelect=(0,c.fK)(new m({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1036}})),e.CreateCursor=(0,c.fK)(new class extends h{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let o;o=t.wholeLine?p.P.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):p.P.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const r=e.getCursorStates();if(r.length>1){const i=o.modelState?o.modelState.position:null,n=o.viewState?o.viewState.position:null;for(let o=0,s=r.length;o<s;o++){const s=r[o];if((!i||s.modelState.selection.containsPosition(i))&&(!n||s.viewState.selection.containsPosition(n)))return r.splice(o,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,r)}}r.push(o),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}}),e.LastCursorMoveToSelect=(0,c.fK)(new class extends h{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const o=e.getLastAddedCursorIndex(),r=e.getCursorStates(),i=r.slice(0);i[o]=p.P.moveTo(e,r[o],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}});class v extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.P.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=(0,c.fK)(new v({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=(0,c.fK)(new v({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class w extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let o=0,r=e.length;o<r;o++){const r=e[o],i=r.modelState.position.lineNumber;t[o]=d.Vi.fromModelState(r.modelState.move(this._inSelectionMode,i,1,0))}return t}}e.CursorLineStart=(0,c.fK)(new w({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=(0,c.fK)(new w({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:0,mac:{primary:1311}}}));class f extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.P.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=(0,c.fK)(new f({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:g.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:r.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=(0,c.fK)(new f({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:g.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:r.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class E extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const o=[];for(let r=0,i=t.length;r<i;r++){const i=t[r],n=i.modelState.position.lineNumber,s=e.model.getLineMaxColumn(n);o[r]=d.Vi.fromModelState(i.modelState.move(this._inSelectionMode,n,s,0))}return o}}e.CursorLineEnd=(0,c.fK)(new E({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=(0,c.fK)(new E({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:0,mac:{primary:1315}}}));class k extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.P.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=(0,c.fK)(new k({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=(0,c.fK)(new k({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class P extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.P.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=(0,c.fK)(new P({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=(0,c.fK)(new P({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class M extends h{constructor(){super({id:"editorScroll",precondition:void 0,description:y.description})}runCoreEditorCommand(e,t){const o=y.parse(t);o&&this._runEditorScroll(e,t.source,o)}_runEditorScroll(e,t,o){const r=this._computeDesiredScrollTop(e,o);if(o.revealCursor){const i=e.getCompletelyVisibleViewRangeAtScrollTop(r);e.setCursorStates(t,3,[p.P.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),i,o.select)])}e.viewLayout.setScrollPosition({scrollTop:r},0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const o=e.getCompletelyVisibleViewRange(),r=e.coordinatesConverter.convertViewRangeToModelRange(o);let i;i=1===t.direction?Math.max(1,r.startLineNumber-t.value):Math.min(e.model.getLineCount(),r.startLineNumber+t.value);const n=e.coordinatesConverter.convertModelPositionToViewPosition(new C.L(i,1));return e.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)}if(5===t.unit){let o=0;return 2===t.direction&&(o=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(o)}let o;o=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const r=(1===t.direction?-1:1)*o;return e.viewLayout.getCurrentScrollTop()+r*e.cursorConfig.lineHeight}}e.EditorScrollImpl=M,e.EditorScroll=(0,c.fK)(new M),e.ScrollLineUp=(0,c.fK)(new class extends h{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,o){e.EditorScroll._runEditorScroll(t,o.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=(0,c.fK)(new class extends h{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,o){e.EditorScroll._runEditorScroll(t,o.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollEditorTop=(0,c.fK)(new class extends h{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus}})}runCoreEditorCommand(t,o){e.EditorScroll._runEditorScroll(t,o.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=(0,c.fK)(new class extends h{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,o){e.EditorScroll._runEditorScroll(t,o.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=(0,c.fK)(new class extends h{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,o){e.EditorScroll._runEditorScroll(t,o.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollEditorBottom=(0,c.fK)(new class extends h{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus}})}runCoreEditorCommand(t,o){e.EditorScroll._runEditorScroll(t,o.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class _ extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.P.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=(0,c.fK)(new _({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=(0,c.fK)(new _({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=(0,c.fK)(new class extends h{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const o=e.getLastAddedCursorIndex(),r=e.getCursorStates(),i=r.slice(0),n=r[o];i[o]=p.P.word(e,n,n.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}});class L extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.P.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=(0,c.fK)(new L({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=(0,c.fK)(new L({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class K extends h{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const o=e.getLastAddedCursorIndex(),r=e.getCursorStates(),i=r.slice(0);i[o]=p.P.line(e,r[o],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}}e.LastCursorLineSelect=(0,c.fK)(new K({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=(0,c.fK)(new K({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=(0,c.fK)(new class extends h{constructor(){super({id:"cancelSelection",precondition:g.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.P.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=(0,c.fK)(new class extends h{constructor(){super({id:"removeSecondaryCursors",precondition:g.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:g.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),(0,s.i7)(r.NC("removedCursor","Removed secondary cursors"))}}),e.RevealLine=(0,c.fK)(new class extends h{constructor(){super({id:"revealLine",precondition:void 0,description:x.description})}runCoreEditorCommand(e,t){const o=t,r=o.lineNumber||0;let i="number"==typeof r?r+1:parseInt(r)+1;i<1&&(i=1);const n=e.model.getLineCount();i>n&&(i=n);const s=new S.e(i,1,i,e.model.getLineMaxColumn(i));let c=0;if(o.at)switch(o.at){case x.RawAtArgument.Top:c=3;break;case x.RawAtArgument.Center:c=1;break;case x.RawAtArgument.Bottom:c=4}const u=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,u,c,0)}}),e.SelectAll=new class extends b{constructor(){super(c.Sq)}runDOMCommand(){i.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,o){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,o)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[p.P.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=(0,c.fK)(new class extends h{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[d.Vi.fromModelSelection(t.selection)])}})}(f||(f={}));const E=v.Ao.and(g.u.textInputFocus,g.u.columnSelection);function k(e,t){w.W.registerKeybindingRule({id:e,primary:t,when:E,weight:1})}function P(e){return e.register(),e}var M;k(f.CursorColumnSelectLeft.id,1039),k(f.CursorColumnSelectRight.id,1041),k(f.CursorColumnSelectUp.id,1040),k(f.CursorColumnSelectPageUp.id,1035),k(f.CursorColumnSelectDown.id,1042),k(f.CursorColumnSelectPageDown.id,1036),function(e){class t extends c._l{runEditorCommand(e,t,o){const r=t._getViewModel();r&&this.runCoreEditingCommand(t,r,o||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=(0,c.fK)(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:g.u.writable,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,o){e.pushUndoStop(),e.executeCommands(this.id,m.u6.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=(0,c.fK)(new class extends t{constructor(){super({id:"outdent",precondition:g.u.writable,kbOpts:{weight:0,kbExpr:v.Ao.and(g.u.editorTextFocus,g.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,o){e.pushUndoStop(),e.executeCommands(this.id,m.u6.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=(0,c.fK)(new class extends t{constructor(){super({id:"tab",precondition:g.u.writable,kbOpts:{weight:0,kbExpr:v.Ao.and(g.u.editorTextFocus,g.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,o){e.pushUndoStop(),e.executeCommands(this.id,m.u6.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=(0,c.fK)(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,o){const[r,i]=l.A.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());r&&e.pushUndoStop(),e.executeCommands(this.id,i),t.setPrevEditOperationType(2)}}),e.DeleteRight=(0,c.fK)(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,o){const[r,i]=l.A.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));r&&e.pushUndoStop(),e.executeCommands(this.id,i),t.setPrevEditOperationType(3)}}),e.Undo=new class extends b{constructor(){super(c.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,o){if(t.hasModel()&&!0!==t.getOption(83))return t.getModel().undo()}},e.Redo=new class extends b{constructor(){super(c.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,o){if(t.hasModel()&&!0!==t.getOption(83))return t.getModel().redo()}}}(M||(M={}));class _ extends c.mY{constructor(e,t,o){super({id:e,precondition:void 0,description:o}),this._handlerId=t}runCommand(e,t){const o=e.get(u.$).getFocusedCodeEditor();o&&o.trigger("keyboard",this._handlerId,t)}}function L(e,t){P(new _("default:"+e,e)),P(new _(e,e,t))}L("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),L("replacePreviousChar"),L("compositionType"),L("compositionStart"),L("compositionEnd"),L("paste"),L("cut")}}]);